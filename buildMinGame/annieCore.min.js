var __extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),annie;!function(t){var e=function(){function t(){this._instanceId=0,this._instanceType="annie.AObject",this._instanceId=t._object_id++}return Object.defineProperty(t.prototype,"instanceId",{get:function(){return this._instanceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"instanceType",{get:function(){return this._instanceType},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){},t._object_id=0,t}();t.AObject=e;var n=function(e){function n(){var t=e.call(this)||this;return t.eventTypes={},t.eventTypes1={},t._instanceType="annie.EventDispatcher",t}return __extends(n,e),n.getMouseEventCount=function(t){void 0===t&&(t="");var e=0;return""==t?e=n._totalMEC:n._MECO[t]&&(e=n._MECO[t]),e},n.prototype.addEventListener=function(t,e,n){if(void 0===n&&(n=!0),!t)throw new Error("添加侦听的type值为undefined");if(!e)throw new Error("侦听回调函数不能为null");var i=this,o=i.eventTypes;n||(o=i.eventTypes1),o[t]instanceof Object||(o[t]=[]),o[t].indexOf(e)<0&&(o[t].unshift(e),0==t.indexOf("onMouse")&&i._changeMouseCount(t,!0))},n.prototype._changeMouseCount=function(t,e){var i=e?1:-1;n._MECO[t]||(n._MECO[t]=0),n._MECO[t]+=i,n._MECO[t]<0&&(n._MECO[t]=0),n._totalMEC+=i},n.prototype.dispatchEvent=function(e,n,i){void 0===n&&(n=null),void 0===i&&(i=!0);var o=this;"string"==typeof e&&(o._defaultEvent instanceof t.Event?o._defaultEvent.reset(e,o):o._defaultEvent=new t.Event(e),e=o._defaultEvent);var a=o.eventTypes[e.type];if(i||(a=o.eventTypes1[e.type]),a instanceof Array){e.target instanceof Object||(e.target=o),void 0!=n&&(e.data=n);for(var r=a.length,s=r-1;s>=0;s--)e._pd||(a[s]instanceof Function?a[s](e):a.splice(s,1));return!0}return!1},n.prototype.hasEventListener=function(t,e){void 0===e&&(e=!0);var n=this;if(e){if(n.eventTypes&&n.eventTypes[t]instanceof Array&&n.eventTypes[t].length>0)return!0}else if(n.eventTypes1&&n.eventTypes1[t]instanceof Array&&n.eventTypes1[t].length>0)return!0;return!1},n.prototype.removeEventListener=function(t,e,n){void 0===n&&(n=!0);var i=this,o=i.eventTypes[t];if(n||(o=i.eventTypes1[t]),o instanceof Array)for(var a=o.length,r=a-1;r>=0;r--)void 0!=e&&o[r]!=e||(o.splice(r,1),0==t.indexOf("onMouse")&&i._changeMouseCount(t,!1))},n.prototype.removeAllEventListener=function(){var t=this;for(var e in t.eventTypes)if(0==e.indexOf("onMouse"))for(var n=0;n<t.eventTypes[e].length;n++)t._changeMouseCount(e,!1);for(var e in t.eventTypes1)if(0==e.indexOf("onMouse"))for(var n=0;n<t.eventTypes1[e].length;n++)t._changeMouseCount(e,!1);t.eventTypes1={},t.eventTypes={}},n.prototype.destroy=function(){var t=this;t.removeAllEventListener(),t.eventTypes1=null,t.eventTypes=null,t._defaultEvent=null},n._MECO={},n._totalMEC=0,n}(e);t.EventDispatcher=n}(annie||(annie={}));var annie;!function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n.type="",n.target=null,n.data=null,n._pd=!1,n._instanceType="annie.Event",n.type=e,n}return __extends(e,t),e.prototype.stopImmediatePropagation=function(){this._pd=!0},e.prototype.destroy=function(){var t=this;t.target=null,t.data=null},e.prototype.reset=function(t,e){var n=this;n.target=e,n._pd=!1,n.type=t},e.ON_INIT_STAGE="onInitStage",e.RESIZE="onResize",e.ON_RUN_CHANGED="onRunChanged",e.ON_PLAY_UPDATE="onPlayUpdate",e.ON_PLAY_END="onPlayEnd",e.ON_PLAY_START="onPlayStart",e.ON_FLIP_START="onFlipStart",e.ON_FLIP_STOP="onFlipStop",e.ON_SCROLL_TO_HEAD="onScrollToHead",e.ON_SCROLL_STOP="onScrollStop",e.ON_SCROLL_START="onScrollStart",e.ON_SCROLL_ING="onScrollIng",e.ON_SCROLL_TO_END="onScrollToEnd",e.ON_SLIDE_START="onSlideStart",e.ON_SLIDE_END="onSlideEnd",e.ADD_TO_STAGE="onAddToStage",e.REMOVE_TO_STAGE="onRemoveToStage",e.ENTER_FRAME="onEnterFrame",e.END_FRAME="onEndFrame",e.CALL_FRAME="onCallFrame",e.COMPLETE="onComplete",e.PROGRESS="onProgress",e.ERROR="onError",e.ABORT="onAbort",e.START="onStart",e.TIMER="onTimer",e.TIMER_COMPLETE="onTimerComplete",e.ON_DRAW_PERCENT="onDrawPercent",e}(t.AObject);t.Event=e}(annie||(annie={}));var annie;!function(t){var e=function(t){function e(e){var n=t.call(this,e)||this;return n.clientX=0,n.clientY=0,n.stageX=0,n.stageY=0,n.localX=0,n.localY=0,n.currentTarget=null,n.identifier=0,n.timeStamp=0,n._instanceType="annie.MouseEvent",n}return __extends(e,t),e.prototype.updateAfterEvent=function(){this.target.stage._updateMatrix()},e.prototype.destroy=function(){this.currentTarget=null,t.prototype.destroy.call(this)},e.MOUSE_DOWN="onMouseDown",e.MOUSE_UP="onMouseUp",e.CLICK="onMouseClick",e.MOUSE_MOVE="onMouseMove",e.MOUSE_OVER="onMouseOver",e.MOUSE_OUT="onMouseOut",e}(t.Event);t.MouseEvent=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(n){var i=e.call(this,n)||this;return i.clientPoint1=new t.Point,i.clientPoint2=new t.Point,i.scale=0,i.rotate=0,i._instanceType="annie.TouchEvent",i}return __extends(n,e),n.prototype.updateAfterEvent=function(){this.target._updateMatrix()},n.prototype.destroy=function(){var t=this;t.clientPoint1=null,t.clientPoint2=null,e.prototype.destroy.call(this)},n.ON_MULTI_TOUCH="onMultiTouch",n}(t.Event);t.TouchEvent=e}(annie||(annie={}));var annie;!function(t){var e=function(t){function e(e,n){void 0===e&&(e=0),void 0===n&&(n=0);var i=t.call(this)||this;i.x=0,i.y=0;var o=i;return o._instanceType="annie.Point",o.x=e,o.y=n,i}return __extends(e,t),e.prototype.destroy=function(){},e.distance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length;return 4==n?Math.sqrt((t[0]-t[2])*(t[0]-t[2])+(t[1]-t[3])*(t[1]-t[3])):2==n?Math.sqrt((t[0].x-t[1].x)*(t[0].x-t[1].x)+(t[0].y-t[1].y)*(t[0].y-t[1].y)):void 0},e}(t.AObject);t.Point=e}(annie||(annie={}));var annie;!function(t){function e(t){switch(t){case o:case-a:return 0;case i:case-i:return-1;case a:case-o:return 0;default:return Math.cos(t)}}function n(t){switch(t){case o:case-a:return 1;case i:case-i:return 0;case a:case-o:return-1;default:return Math.sin(t)}}var i=Math.PI,o=i>>1,a=i+o,r=Math.PI/180,s=function(i){function o(e,n,o,a,r,s){void 0===e&&(e=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===a&&(a=1),void 0===r&&(r=0),void 0===s&&(s=0);var l=i.call(this)||this;l.a=1,l.b=0,l.c=0,l.d=1,l.tx=0,l.ty=0,l.transformPoint=function(e,n,i){void 0===i&&(i=null);var o=this;return i instanceof t.Point||(i=new t.Point),i.x=e*o.a+n*o.c+o.tx,i.y=e*o.b+n*o.d+o.ty,i},l.prepend=function(t){var e=this,n=t.a,i=t.b,o=t.c,a=t.d,r=t.tx,s=t.ty,l=e.a,c=e.c,u=e.tx;e.a=n*l+o*e.b,e.b=i*l+a*e.b,e.c=n*c+o*e.d,e.d=i*c+a*e.d,e.tx=n*u+o*e.ty+r,e.ty=i*u+a*e.ty+s};var c=l;return c._instanceType="annie.Matrix",c.a=e,c.b=n,c.c=o,c.d=a,c.tx=r,c.ty=s,l}return __extends(o,i),o.prototype.clone=function(){var t=this;return new o(t.a,t.b,t.c,t.d,t.tx,t.ty)},o.prototype.setFrom=function(t){var e=this;e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.tx=t.tx,e.ty=t.ty},o.prototype.identity=function(){var t=this;t.a=t.d=1,t.b=t.c=t.tx=t.ty=0},o.prototype.invert=function(){var t=this,e=new o(t.a,t.b,t.c,t.d,t.tx,t.ty),n=t.a,i=t.b,a=t.c,r=t.d,s=t.tx,l=t.ty;if(0==i&&0==a)return 0==n||0==r?e.a=e.d=e.tx=e.ty=0:(n=e.a=1/n,r=e.d=1/r,e.tx=-n*s,e.ty=-r*l),e;var c=n*r-i*a;if(0==c)return e.identity(),e;c=1/c;var u=e.a=r*c;return i=e.b=-i*c,a=e.c=-a*c,r=e.d=n*c,e.tx=-(u*s+a*l),e.ty=-(i*s+r*l),e},o.prototype.createBox=function(t,i,o,a,s,l,c,u,_){var d=this;if(0!=s?l=c=s%360:(l%=360,c%=360),0==l&&0==c)d.a=o,d.b=d.c=0,d.d=a;else{l*=r,c*=r;var p=e(l),h=n(l);l==c?(d.a=p*o,d.b=h*o):(d.a=e(c)*o,d.b=n(c)*o),d.c=-h*a,d.d=p*a}d.tx=t+u-(u*d.a+_*d.c),d.ty=i+_-(u*d.b+_*d.d)},o.isEqual=function(t,e){return t.tx==e.tx&&t.ty==e.ty&&t.a==e.a&&t.b==e.b&&t.c==e.c&&t.d==e.d},o.prototype.concat=function(t){var e=this,n=e.a,i=e.b,o=e.c,a=e.d,r=e.tx,s=e.ty,l=t.a,c=t.b,u=t.c,_=t.d,d=t.tx,p=t.ty;e.a=n*l+i*u,e.b=n*c+i*_,e.c=o*l+a*u,e.d=o*c+a*_,e.tx=r*l+s*u+d,e.ty=r*c+s*_+p},o.prototype.rotate=function(t){var e=this,n=Math.sin(t),i=Math.cos(t),o=e.a,a=e.b,r=e.c,s=e.d,l=e.tx,c=e.ty;e.a=o*i-a*n,e.b=o*n+a*i,e.c=r*i-s*n,e.d=r*n+s*i,e.tx=l*i-c*n,e.ty=l*n+c*i},o.prototype.scale=function(t,e){var n=this;n.a*=t,n.d*=e,n.c*=t,n.b*=e,n.tx*=t,n.ty*=e},o.prototype.translate=function(t,e){var n=this;n.tx+=t,n.ty+=e},o.prototype.destroy=function(){},o}(t.AObject);t.Matrix=s}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(t,n,i,o){void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=0);var a=e.call(this)||this;a.x=0,a.y=0,a.width=0,a.height=0;var r=a;return r._instanceType="annie.Rectangle",r.x=t,r.y=n,r.height=o,r.width=i,a}return __extends(n,e),n.prototype.isPointIn=function(t){var e=this;return t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height},n.createFromRects=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0==t.length)return null;if(1==t.length)return t[0];for(var n=t[0],i=n.x,o=n.y,a=n.width,r=n.height,s=void 0,l=void 0,c=void 0,u=void 0,_=1;_<t.length;_++)s=i+a,c=o+r,l=t[_].x+t[_].width,u=t[_].y+t[_].height,(i>t[_].x||0==s)&&(i=t[_].x),(o>t[_].y||0==c)&&(o=t[_].y),s<l&&(s=l),c<u&&(c=u),n.x=i,n.y=o,n.width=s-i,n.height=c-o;return n},n.createFromPoints=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];for(var o=n[0].x,a=n[0].y,r=n[0].x,s=n[0].y,l=1;l<n.length;l++)n[l]instanceof t.Point&&(o>n[l].x&&(o=n[l].x),a>n[l].y&&(a=n[l].y),r<n[l].x&&(r=n[l].x),s<n[l].y&&(s=n[l].y));return e.x=o,e.y=a,e.width=r-o,e.height=s-a,e},n.testRectCross=function(t,e){var n,i,o,a;return n=t.x+t.width/2,i=t.y+t.height/2,o=e.x+e.width/2,a=e.y+e.height/2,Math.abs(n-o)<=t.width/2+e.width/2&&Math.abs(i-a)<=t.height/2+e.height/2},n}(t.AObject);t.Rectangle=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(){var n=e.call(this)||this;return n.a2x_um=!1,n.a2x_ua=!1,n.stage=null,n.parent=null,n._cAlpha=1,n._cMatrix=new t.Matrix,n.mouseEnable=!0,n.name="",n._x=0,n._offsetX=0,n._offsetY=0,n._y=0,n._scaleX=1,n._scaleY=1,n._rotation=0,n._alpha=1,n._skewX=0,n._skewY=0,n._anchorX=0,n._anchorY=0,n._visible=!0,n._matrix=new t.Matrix,n._mask=null,n._cp=!0,n._isUseToMask=0,n._hitArea=null,n._bounds=new t.Rectangle,n.isNeedDraw=!1,n.soundList=[],n._a2x_res_obj={},n._isOnStage=void 0,n._changeTransformInfo=[!1,!1,!1,!1,!1,!1],n._instanceType="annie.DisplayObject",n}return __extends(n,e),Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(t){var e=this;t!=e._x&&(e._x=t,e.a2x_um=!0),e._changeTransformInfo[0]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(t){var e=this;t!=e._y&&(e._y=t,e.a2x_um=!0),e._changeTransformInfo[1]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleX",{get:function(){return this._scaleX},set:function(t){var e=this;t!=e._scaleX&&(e._scaleX=t,e.a2x_um=!0),e._changeTransformInfo[2]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleY",{get:function(){return this._scaleY},set:function(t){var e=this;t!=e._scaleY&&(e._scaleY=t,e.a2x_um=!0),e._changeTransformInfo[3]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(t){var e=this;t==e._rotation&&0==e._skewX&&0==e._skewY||(e._rotation=t,e._skewX=0,e._skewY=0,e.a2x_um=!0),e._changeTransformInfo[4]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alpha",{get:function(){return this._alpha},set:function(t){var e=this;t!=e._alpha&&(e._alpha=t,e.a2x_ua=!0),e._changeTransformInfo[5]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"skewX",{get:function(){return this._skewX},set:function(t){var e=this;t==e._skewX&&0==e._rotation||(e._skewX=t,e._rotation=0,e.a2x_um=!0),e._changeTransformInfo[4]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"skewY",{get:function(){return this._skewY},set:function(t){var e=this;t==e._skewY&&0==e._rotation||(e._skewY=t,e._rotation=0,e.a2x_um=!0),e._changeTransformInfo[4]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anchorX",{get:function(){return this._anchorX},set:function(t){var e=this;t!=e._anchorX&&(e._anchorX=t,e.a2x_um=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anchorY",{get:function(){return this._anchorY},set:function(t){var e=this;t!=e._anchorY&&(e._anchorY=t,e.a2x_um=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this._visible},set:function(t){var e=this;t!=e._visible&&(e._cp=!0,e._visible=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"matrix",{get:function(){return this._matrix},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mask",{get:function(){return this._mask},set:function(e){var n=this;e!=n._mask&&(e instanceof t.DisplayObject?e._isUseToMask++:n._mask instanceof t.DisplayObject&&n._mask._isUseToMask--,n._mask=e)},enumerable:!0,configurable:!0}),n.prototype.globalToLocal=function(t,e){return void 0===e&&(e=null),this._cMatrix.invert().transformPoint(t.x,t.y,e)},n.prototype.localToGlobal=function(t,e){return void 0===e&&(e=null),this._cMatrix.transformPoint(t.x,t.y,e)},Object.defineProperty(n.prototype,"hitArea",{get:function(){return this._hitArea},set:function(t){this._hitArea=t},enumerable:!0,configurable:!0}),n.prototype.hitTestPoint=function(t,e){void 0===e&&(e=!1);var i=this;if(!i.visible||!i.mouseEnable)return null;var o;return o=e?i.globalToLocal(t,n._p1):t,i._hitArea&&i._hitArea.isPointIn(o)?i:0==i._bounds.width||0==i._bounds.height?null:i._bounds.isPointIn(o)?i:null},n.prototype.getBounds=function(){return this._bounds},n.prototype.getDrawRect=function(e,i){void 0===e&&(e=null),void 0===i&&(i=null);var o=this;void 0==e&&(e=o.matrix),void 0==i&&(i=o.getBounds());var a=i.x,r=i.y,s=i.width,l=i.height;e.transformPoint(a,r,n._p1),e.transformPoint(a+s,r,n._p2),e.transformPoint(a+s,r+l,n._p3),e.transformPoint(a,r+l,n._p4),t.Rectangle.createFromPoints(n._transformRect,n._p1,n._p2,n._p3,n._p4)},n.prototype._updateMatrix=function(){var e,n,i,o,a=this,r=a.parent instanceof t.Sprite;if(e=a._cMatrix,i=a._cAlpha,r&&(n=a.parent._cMatrix,o=a.parent._cAlpha),a.a2x_um&&a._matrix.createBox(a._x,a._y,a._scaleX,a._scaleY,a._rotation,a._skewX,a._skewY,a._anchorX,a._anchorY),a._cp)a.a2x_um=a.a2x_ua=!0;else if(r){var s=a.parent;s.a2x_um&&(a.a2x_um=!0),s.a2x_ua&&(a.a2x_ua=!0)}a.a2x_um&&(e.setFrom(a._matrix),r&&e.prepend(n)),a.a2x_ua&&(i=a._alpha,r&&(i*=o)),a._cp=!1,a._cAlpha=i},n.prototype._draw=function(t){},n.prototype._render=function(e){var n=this;if(n._visible&&n._cAlpha>0&&n.isNeedDraw){var i=t.CanvasRender._ctx,o=void 0;o=n._cMatrix,i.globalAlpha!=n._cAlpha&&(i.globalAlpha=n._cAlpha),i.setTransform(o.a,o.b,o.c,o.d,o.tx,o.ty),n._draw(i)}},Object.defineProperty(n.prototype,"width",{get:function(){return this._updateMatrix(),this.getDrawRect(),n._transformRect.width},set:function(t){var e=this;e._updateMatrix(),e.getDrawRect();var i=n._transformRect.width;if(i>0){var o=t/i;e.scaleX*=o}else e.scaleX=1},enumerable:!0,configurable:!0}),n.prototype.getWH=function(){return this._updateMatrix(),this.getDrawRect(),{w:n._transformRect.width,h:n._transformRect.height}},Object.defineProperty(n.prototype,"height",{get:function(){return this._updateMatrix(),this.getDrawRect(),n._transformRect.height},set:function(t){var e=this;e._updateMatrix(),e.getDrawRect();var i=n._transformRect.height;if(i>0){var o=t/i;e.scaleY*=o}else e.scaleY=1},enumerable:!0,configurable:!0}),n.prototype.stopAllSounds=function(){var t=this.soundList;if(t instanceof Array)for(var e=t.length-1;e>=0;e--)t[e].stop()},n.prototype._checkDrawBounds=function(){var e=this;if(e.stage){e.getDrawRect(e._cMatrix,e._bounds);var i=n._transformRect;e.isNeedDraw=t.Rectangle.testRectCross(i,e.stage.renderObj.viewPort)}},n.prototype.getSound=function(t){var e=this.soundList,n=[];if(e instanceof Array)if("string"==typeof t)for(var i=e.length-1;i>=0;i--)e[i].name==t&&n.push(e[i]);else t>=0&&t<e.length&&n.push(e[t]);return n},n.prototype.addSound=function(t){var e=this;e.soundList instanceof Array||(e.soundList=[]),e.soundList.push(t)},n.prototype.removeSound=function(t){var e=this.soundList;if(e instanceof Array)if("string"==typeof t)for(var n=e.length-1;n>=0;n--)e[n].name==t&&e.splice(n,1);else t>=0&&t<e.length&&e.splice(t,1)},n.prototype.destroy=function(){var t=this;t.stopAllSounds();for(var n=0;n<t.soundList.length;n++)t.soundList[n].destroy();t.soundList=null,t._a2x_res_obj=null,t.mask=null,t.parent=null,t.stage=null,t._bounds=null,t._matrix=null,t._cMatrix=null,e.prototype.destroy.call(this)},n.prototype._onRemoveEvent=function(e){var n=this;n._isOnStage=!1;var i=n.soundList;if(i.length>0)for(var o=0;o<i.length;o++)i[o].stop2();n.dispatchEvent(t.Event.REMOVE_TO_STAGE)},n.prototype._onAddEvent=function(){var e=this;e._isOnStage=!0;var n=e.soundList;if(n.length>0)for(var i=0;i<n.length;i++)n[i].play2();e.dispatchEvent(t.Event.ADD_TO_STAGE)},n.prototype._onUpdateFrame=function(e,n){void 0===e&&(e=1),void 0===n&&(n=!1),this._visible&&!n&&this.dispatchEvent(t.Event.ENTER_FRAME)},n.prototype.startDrag=function(e,n){void 0===e&&(e=!1),void 0===n&&(n=null);var i=this;t.Stage._dragDisplay=i,t.Stage._isDragCenter=e,t.Stage._lastDragPoint.x=Number.MAX_VALUE,t.Stage._lastDragPoint.y=Number.MAX_VALUE,n?(t.Stage._dragBounds.x=n.x,t.Stage._dragBounds.y=n.y,t.Stage._dragBounds.width=n.width,t.Stage._dragBounds.height=n.height):(t.Stage._dragBounds.x=0,t.Stage._dragBounds.y=0,t.Stage._dragBounds.width=Number.MIN_VALUE,t.Stage._dragBounds.height=Number.MIN_VALUE)},n.prototype.stopDrag=function(){t.Stage._dragDisplay=null},n.prototype.clearCustomTransform=function(t){void 0===t&&(t=-1);var e=this;if(t=-1)for(var n=0;n<6;n++)e._changeTransformInfo[n]=!1;else e._changeTransformInfo[t]=!1},n.prototype.clearBounds=function(){this._bounds.x=0,this._bounds.y=0,this._bounds.width=0,this._bounds.height=0},n._p1=new t.Point,n._p2=new t.Point,n._p3=new t.Point,n._p4=new t.Point,n._transformRect=new t.Rectangle,n}(t.EventDispatcher);t.DisplayObject=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(t){var n=e.call(this)||this;n._texture=null;var i=n;return i._instanceType="annie.Bitmap",i.bitmapData=t,n}return __extends(n,e),Object.defineProperty(n.prototype,"bitmapData",{get:function(){return this._texture},set:function(e){var n=this;if("string"==typeof e){var i=t.app.createImage();i.src=e,n._texture=i,n.clearBounds()}else e!=n._texture&&(n.clearBounds(),n._texture=e)},enumerable:!0,configurable:!0}),n.prototype._updateMatrix=function(){e.prototype._updateMatrix.call(this);var t=this,n=t._texture;if(n&&0!=n.width&&0!=n.height){var i=n.width,o=n.height;t._bounds.width==i&&t._bounds.height==o||(t._bounds.width=i,t._bounds.height=o,t.a2x_um=!0),t.a2x_um&&t._checkDrawBounds(),t.a2x_um=!1,t.a2x_ua=!1}},n.prototype._draw=function(t){var e=this;t.drawImage(e._texture,0,0)},n}(t.DisplayObject);t.Bitmap=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t._command=[],t.beginRadialGradientFill=function(t,e){this._fill(n.getGradientColor(t,e))},t.beginRadialGradientStroke=function(t,e,i,o,a,r){void 0===i&&(i=1),void 0===o&&(o=0),void 0===a&&(a=0),void 0===r&&(r=10),this._stroke(n.getGradientColor(t,e),i,o,a,r)},t.a2x_ut=!0,t._instanceType="annie.Shape",t}return __extends(n,e),n.getGradientColor=function(e,i){var o,a=t.CanvasRender._ctx;o=4==e.length?a.createLinearGradient(e[0],e[1],e[2],e[3]):a.createRadialGradient(e[0],e[1],0,e[2],e[3],e[4]);for(var r=0,s=i.length;r<s;r++)o.addColorStop(i[r][0],n.getRGBA(i[r][1],i[r][2]));return o},n.getBitmapStyle=function(e){return t.CanvasRender._ctx.createPattern(e,"repeat")},n.getRGBA=function(t,e){if(0==t.indexOf("0x")&&(t=t.replace("0x","#")),t.length<7&&(t="#000000"),1!=e){t="rgba("+parseInt("0x"+t.substr(1,2))+","+parseInt("0x"+t.substr(3,2))+","+parseInt("0x"+t.substr(5,2))+","+e+")"}return t},n.prototype.addDraw=function(t,e){var n=this;n._command[n._command.length]=[1,t,e]},n.prototype.drawRoundRect=function(t,e,n,i,o,a,r,s){void 0===o&&(o=0),void 0===a&&(a=0),void 0===r&&(r=0),void 0===s&&(s=0);var l=(n<i?n:i)/2,c=0,u=0,_=0,d=0;o<0&&(o*=c=-1),o>l&&(o=l),a<0&&(a*=u=-1),a>l&&(a=l),s<0&&(s*=_=-1),s>l&&(s=l),r<0&&(r*=d=-1),r>l&&(r=l);var p=this._command;p[p.length]=[1,"moveTo",[t+n-a,e]],p[p.length]=[1,"arcTo",[t+n+a*u,e-a*u,t+n,e+a,a]],p[p.length]=[1,"lineTo",[t+n,e+i-s]],p[p.length]=[1,"arcTo",[t+n+s*_,e+i+s*_,t+n-s,e+i,s]],p[p.length]=[1,"lineTo",[t+r,e+i]],p[p.length]=[1,"arcTo",[t-r*d,e+i+r*d,t,e+i-r,r]],p[p.length]=[1,"lineTo",[t,e+o]],p[p.length]=[1,"arcTo",[t-o*c,e-o*c,t+o,e,o]],p[p.length]=[1,"closePath",[]]},n.prototype.moveTo=function(t,e){this._command[this._command.length]=[1,"moveTo",[t,e]]},n.prototype.lineTo=function(t,e){this._command[this._command.length]=[1,"lineTo",[t,e]]},n.prototype.arcTo=function(t,e){this._command[this._command.length]=[1,"arcTo",[t,e]]},n.prototype.quadraticCurveTo=function(t,e,n,i){this._command[this._command.length]=[1,"quadraticCurveTo",[t,e,n,i]]},n.prototype.bezierCurveTo=function(t,e,n,i,o,a){this._command[this._command.length]=[1,"bezierCurveTo",[t,e,n,i,o,a]]},n.prototype.closePath=function(){this._command[this._command.length]=[1,"closePath",[]]},n.prototype.drawRect=function(t,e,n,i){var o=this._command;o[o.length]=[1,"moveTo",[t,e]],o[o.length]=[1,"lineTo",[t+n,e]],o[o.length]=[1,"lineTo",[t+n,e+i]],o[o.length]=[1,"lineTo",[t,e+i]],o[o.length]=[1,"closePath",[]]},n.prototype.drawArc=function(t,e,n,i,o){this._command[this._command.length]=[1,"arc",[t,e,n,i/180*Math.PI,o/180*Math.PI]]},n.prototype.drawCircle=function(t,e,n){this._command[this._command.length]=[1,"arc",[t,e,n,0,2*Math.PI]]},n.prototype.drawEllipse=function(t,e,n,i){var o=.5522848,a=n/2*o,r=i/2*o,s=t+n,l=e+i,c=t+n/2,u=e+i/2,_=this._command;_[_.length]=[1,"moveTo",[t,u]],_[_.length]=[1,"bezierCurveTo",[t,u-r,c-a,e,c,e]],_[_.length]=[1,"bezierCurveTo",[c+a,e,s,u-r,s,u]],_[_.length]=[1,"bezierCurveTo",[s,u+r,c+a,l,c,l]],_[_.length]=[1,"bezierCurveTo",[c-a,l,t,u+r,t,u]]},n.prototype.clear=function(){var t=this;t._command=[],t.a2x_ut=!1,t.clearBounds()},n.prototype.beginFill=function(t){this._fill(t)},n.prototype.beginLinearGradientFill=function(t,e){this._fill(n.getGradientColor(t,e))},n.prototype.beginBitmapFill=function(t,e){var i=this;e&&(i._isBitmapFill=e),i._fill(n.getBitmapStyle(t))},n.prototype._fill=function(t){var e=this,n=e._command;n[n.length]=[0,"fillStyle",t],n[n.length]=[1,"beginPath",[]]},n.prototype.beginStroke=function(t,e,n,i,o){void 0===e&&(e=1),void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=0),this._stroke(t,e,n,i,o)},n.prototype.beginLinearGradientStroke=function(t,e,i,o,a,r){void 0===i&&(i=1),void 0===o&&(o=0),void 0===a&&(a=0),void 0===r&&(r=10),this._stroke(n.getGradientColor(t,e),i,o,a,r)},n.prototype.beginBitmapStroke=function(t,e,i,o,a,r){void 0===i&&(i=1),void 0===o&&(o=0),void 0===a&&(a=0),void 0===r&&(r=10);var s=this;e&&(s._isBitmapStroke=e),s._stroke(n.getBitmapStyle(t),i,o,a,r)},n.prototype._stroke=function(t,e,i,o,a){var r=this._command;r[r.length]=[0,"lineWidth",e],r[r.length]=[0,"lineCap",n._caps[i]],r[r.length]=[0,"lineJoin",n._joins[o]],r[r.length]=[0,"miterLimit",a],r[r.length]=[0,"strokeStyle",t],r[r.length]=[1,"beginPath",[]]},n.prototype.endFill=function(){var t=this,e=t._command,n=t._isBitmapFill;n&&(e[e.length]=[2,"setTransform",n]),e[e.length]=[1,"fill",[]],n&&(t._isBitmapFill=null),t.a2x_ut=!0},n.prototype.setLineDash=function(t){void 0===t&&(t=[]);var e=this._command;e[e.length]=[1,"setLineDash",[t,0]]},n.prototype.endStroke=function(){var t=this,e=t._command,n=t._isBitmapStroke;n&&(e[e.length]=[2,"setTransform",n]),e[e.length]=[1,"stroke",[]],n&&(t._isBitmapStroke=null),t.a2x_ut=!0},n.prototype.decodePath=function(t){for(var e=this,n=["moveTo","lineTo","quadraticCurveTo","bezierCurveTo","closePath"],i=t.length,o=0;o<i;o++)0==t[o]||1==t[o]?(e.addDraw(n[t[o]],[t[o+1],t[o+2]]),o+=2):(e.addDraw(n[t[o]],[t[o+1],t[o+2],t[o+3],t[o+4]]),o+=4);e.a2x_ut=!0},n.prototype._updateMatrix=function(){e.prototype._updateMatrix.call(this);var t=this;if(t.a2x_ut){t.a2x_ut=!1;var n=t._command.length,i=void 0,o=void 0,a=void 0,r=void 0,s=void 0;if(n>0){var l=void 0,c=0,u=0,_=0;for(s=0;s<n;s++)if(l=t._command[s],1==l[0]){if("moveTo"==l[1]||"lineTo"==l[1]||"arcTo"==l[1]||"bezierCurveTo"==l[1])void 0==i&&(i=l[2][0]),void 0==o&&(o=l[2][1]),void 0==a&&(a=l[2][0]),void 0==r&&(r=l[2][1]),"bezierCurveTo"==l[1]?(i=Math.min(i,l[2][0],l[2][2],l[2][4]),o=Math.min(o,l[2][1],l[2][3],l[2][5]),a=Math.max(a,l[2][0],l[2][2],l[2][4]),r=Math.max(r,l[2][1],l[2][3],l[2][5]),c=l[2][4],u=l[2][5]):(i=Math.min(i,l[2][0]),o=Math.min(o,l[2][1]),a=Math.max(a,l[2][0]),r=Math.max(r,l[2][1]),c=l[2][0],u=l[2][1]);else if("quadraticCurveTo"==l[1]){var d=.5*(c+l[2][0]),p=.5*(u+l[2][1]),h=.5*(l[2][0]+l[2][2]),f=.5*(l[2][1]+l[2][3]);void 0==i&&(i=d),void 0==o&&(o=p),void 0==a&&(a=d),void 0==r&&(r=p),i=Math.min(i,d,h,l[2][2]),o=Math.min(o,p,f,l[2][3]),a=Math.max(a,d,h,l[2][2]),r=Math.max(r,p,f,l[2][3]),c=l[2][2],u=l[2][3]}else if("arc"==l[1]){var v=l[2][0],g=l[2][1],m=l[2][2],y=v-m,b=g-m,x=v+m,M=g+m;void 0==i&&(i=y),void 0==o&&(o=b),void 0==a&&(a=x),void 0==r&&(r=M),i=Math.min(i,y),o=Math.min(o,b),a=Math.max(a,x),r=Math.max(r,M)}}else"lineWidth"==l[1]&&_<l[2]&&(_=l[2]);if(void 0!=i||_>0){void 0==i&&(i=0,o=0),i-=_,o-=_,a+=_,r+=_;var w=a-i,O=r-o;t._bounds.x=i,t._bounds.y=o,t._bounds.width=w,t._bounds.height=O,t.a2x_um=!0}}}t.a2x_um&&t._checkDrawBounds(),t.a2x_um=!1,t.a2x_ua=!1},n.prototype._draw=function(t,e){void 0===e&&(e=!1);var n,i=this,o=i._command,a=o.length;t.translate(i._offsetX,i._offsetY);for(var r=!1,s=0;s<a;s++)if(n=o[s],n[0]>0){var l=n[2].length;if(e&&(r||"beginPath"==n[1]||"closePath"==n[1]||0==l))continue;if(0==l)t[n[1]]();else if(2==l)t[n[1]](n[2][0],n[2][1]);else if(4==l)t[n[1]](n[2][0],n[2][1],n[2][2],n[2][3]);else if(5==l)t[n[1]](n[2][0],n[2][1],n[2][2],n[2][3],n[2][4]);else if(6==l){var c=n[2][4],u=n[2][5];t[n[1]](n[2][0],n[2][1],n[2][2],n[2][3],c,u)}}else e?"strokeStyle"==n[1]?r=!0:"fillStyle"==n[1]&&(r=!1):t[n[1]]=n[2]},n.prototype.changeColor=function(t){for(var e=this,n=e._command.length,i=e._command,o=0;o<n;o++)0==i[o][0]&&("fillStyle"==i[o][1]&&t.fillColor&&i[o][2]!=t.fillColor&&(i[o][2]=t.fillColor,e.a2x_ut=!0),"strokeStyle"==i[o][1]&&t.strokeColor&&i[o][2]!=t.strokeColor&&(i[o][2]=t.strokeColor,e.a2x_ut=!0),"lineWidth"==i[o][1]&&t.lineWidth&&i[o][2]!=t.lineWidth&&(i[o][2]=t.lineWidth,e.a2x_ut=!0))},n.prototype.destroy=function(){var t=this;t._command=null,t._isBitmapStroke=null,t._isBitmapFill=null,e.prototype.destroy.call(this)},n._caps=["butt","round","square"],n._joins=["miter","round","bevel"],n}(t.DisplayObject);t.Shape=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.mcSpeed=1,t._cMcSpeed=1,t.mouseChildren=!0,t.children=[],t._instanceType="annie.Sprite",t}return __extends(n,e),n.prototype.destroy=function(){for(var i=this,o=0;o<i.children.length;o++)i.children[o].destroy();i.parent instanceof t.Sprite&&n._removeFormParent(i.parent,i),i.children=null,i._hitArea=null,e.prototype.destroy.call(this)},n.prototype.addChild=function(t){this.addChildAt(t,this.children.length)},n.prototype.removeChild=function(t){for(var e=this,n=e.children.length,i=0;i<n;i++)if(e.children[i]==t){e.removeChildAt(i);break}},n._getElementsByName=function(e,i,o,a,r){var s=i.children.length;if(s>0)for(var l,c=void 0,u=0;u<s;u++){if(c=i.children[u],(l=c.name)&&""!=l&&e.test(l)&&(r[r.length]=c,o))return;a&&c instanceof t.Sprite&&n._getElementsByName(e,c,o,a,r)}},n.prototype.getChildByName=function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=!1),!t)return null;var o,a=this;o="string"==typeof t?new RegExp("^"+t+"$"):t;var r=[];n._getElementsByName(o,a,e,i,r);var s=r.length;return 0==s?null:1==s?r[0]:r},n.prototype.addChildAt=function(e,i){if(e instanceof t.DisplayObject){var o,a=this,r=e.parent;r instanceof t.Sprite&&n._removeFormParent(r,e),o=a.children.length,i>=o?a.children[o]=e:0==i?a.children.unshift(e):a.children.splice(i,0,e),r!=a&&(e._cp=!0,e.parent=a,a._isOnStage&&!e._isOnStage&&(e.stage=a.stage,e._onAddEvent()))}},n._removeFormParent=function(t,e){for(var n=t.children,i=n.length,o=0;o<i;o++)if(n[o]==e){n.splice(o,1);break}},n.prototype.getChildAt=function(t){return this.children.length-1>=t?this.children[t]:null},n.prototype.getChildIndex=function(t){for(var e=this,n=e.children.length,i=0;i<n;i++)if(e.children[i]==t)return i;return-1},n.prototype.swapChild=function(t,e){var n=this,i=-1,o=-1,a=n.children.length;if(i="number"==typeof t?t:n.getChildIndex(t),o="number"==typeof e?e:n.getChildIndex(e),i==o||i<0||i>=a||o<0||o>=a)return!1;var r=n.children[i];return n.children[i]=n.children[o],n.children[o]=r,!0},n.prototype.removeChildAt=function(t){var e,n=this,i=n.children.length-1;i<0||(e=t==i?n.children.pop():0==t?n.children.shift():n.children.splice(t,1)[0],n._isOnStage&&e._isOnStage&&(e._onRemoveEvent(!1),e.stage=null),e.parent=null)},n.prototype.removeAllChildren=function(){for(var t=this,e=t.children.length,n=e-1;n>=0;n--)t.removeChildAt(0)},n.prototype.hitTestPoint=function(n,i){void 0===i&&(i=!1);var o=this;if(!o._visible||!o.mouseEnable)return null;if(o._hitArea)return e.prototype.hitTestPoint.call(this,n,i);var a=n;i||(a=o.localToGlobal(n,new t.Point));for(var r,s,l=o.children.length,c={},u=l-1;u>=0;u--)if(s=o.children[u],!(s._isUseToMask>0)&&(void 0==s.mask||(void 0==c[s.mask._instanceId]&&(s.mask.hitTestPoint(a,!0)?c[s.mask._instanceId]=!0:c[s.mask._instanceId]=!1),0!=c[s.mask._instanceId]))&&(r=s.hitTestPoint(a,!0)))return r;return null},n.prototype.getBounds=function(){var e=this,n=e._bounds;n.x=0,n.y=0,n.width=0,n.height=0;var i=e.children,o=i.length;if(o>0)for(var a=0;a<o;a++)i[a].visible&&0==i[a]._isUseToMask&&i[a].getDrawRect(),t.Rectangle.createFromRects(n,t.DisplayObject._transformRect);return n},n.prototype._updateMatrix=function(){var t=this;if(t._visible){e.prototype._updateMatrix.call(this);for(var n=t.children,i=n.length,o=0;o<i;o++)n[o]._updateMatrix();t.a2x_ua=!1,t.a2x_um=!1}},n.prototype._render=function(e){var n=this,i=n.children.length;if(n._visible&&n._cAlpha>0&&i>0){for(var o=n.children,a=e,r=void 0,s=void 0,l=0;l<i;l++)s=o[l],s._isUseToMask>0||(r instanceof t.DisplayObject?s.mask instanceof t.DisplayObject&&s.mask.parent==s.parent?s.mask!=r&&(a.endMask(),r=s.mask,a.beginMask(r)):(a.endMask(),r=null):s.mask instanceof t.DisplayObject&&s.mask.parent==s.parent&&(r=s.mask,a.beginMask(r)),s._render(a));r instanceof t.DisplayObject&&a.endMask()}},n.prototype._onRemoveEvent=function(n){for(var i=this,o=null,a=i.children.concat(),r=a.length,s=r-1;s>=0;s--)(o=a[s])instanceof t.DisplayObject&&o._isOnStage&&(o._onRemoveEvent(n),o.stage=null);e.prototype._onRemoveEvent.call(this,n)},n.prototype._onAddEvent=function(){for(var n=this,i=null,o=n.children.concat(),a=o.length,r=a-1;r>=0;r--)(i=o[r])instanceof t.DisplayObject&&!i._isOnStage&&(i.stage=n.stage,i._onAddEvent());e.prototype._onAddEvent.call(this)},n.prototype._onUpdateFrame=function(t,n){void 0===t&&(t=1),void 0===n&&(n=!1);var i=this;i._cMcSpeed=i.mcSpeed*t,e.prototype._onUpdateFrame.call(this,i._cMcSpeed,n);for(var o=null,a=i.children.concat(),r=a.length,s=r-1;s>=0;s--)(o=a[s])&&o._onUpdateFrame(i._cMcSpeed,n)},n}(t.DisplayObject);t.Sprite=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(n){var i=e.call(this)||this;i.media=null,i._loop=0,i._repeate=1,i.isPlaying=!0,i.name="";var o=i;return o._instanceType="annie.Sound","string"==typeof n?(o.media=t.app.createInnerAudioContext(),o.media.src=n):o.media=n,o.media.onEnded(function(){o.dispatchEvent("onPlayEnd"),o._loop>1&&(o._loop--,o.media.startTime=0,
o.media.play())}),o.media.onPlay(function(){o.dispatchEvent("onPlayStart")}),o.media.onTimeUpdate(function(){o.dispatchEvent("onPlayUpdate",{currentTime:o.media.currentTime})}),t.Sound._soundList.push(o),i}return __extends(n,e),n.prototype.play=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this;n.media.startTime=t,0==e?n._loop=n._repeate:(n._loop=e,n._repeate=e),n.media.play(),n.isPlaying=!0},n.prototype.stop=function(){var t=this;t.media.stop(),t.isPlaying=!1},n.prototype.pause=function(t){void 0===t&&(t=!0);var e=this;t?(e.media.pause(),e.isPlaying=!1):(e.media.play(),e.isPlaying=!0)},Object.defineProperty(n.prototype,"volume",{get:function(){return this.media.volume},set:function(t){this.media.volume=t},enumerable:!0,configurable:!0}),n.prototype.stop2=function(){var t=this;t.isPlaying&&t.media.pause()},n.prototype.play2=function(){var t=this;t.isPlaying&&t.media.play()},n.stopAllSounds=function(){for(var e=t.Sound._soundList.length,n=e-1;n>=0;n--)t.Sound._soundList[n]?t.Sound._soundList[n].stop2():t.Sound._soundList.splice(n,1)},n.resumePlaySounds=function(){for(var e=t.Sound._soundList.length,n=e-1;n>=0;n--)t.Sound._soundList[n]?t.Sound._soundList[n].play2():t.Sound._soundList.splice(n,1)},n.setAllSoundsVolume=function(e){for(var i=t.Sound._soundList.length,o=i-1;o>=0;o--)t.Sound._soundList[o]?t.Sound._soundList[o].volume=e:t.Sound._soundList.splice(o,1);n._volume=e},n.prototype.destroy=function(){for(var e=this,n=t.Sound._soundList.length,i=n-1;i>=0;i--)if(t.Sound._soundList[i]==e){t.Sound._soundList[i].stop(),t.Sound._soundList.splice(i,1);break}e.media.offTimeUpdate(),e.media.offPlay(),e.media.offEnded(),e.media=null},n._soundList=[],n._volume=1,n}(t.EventDispatcher);t.Sound=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t._curFrame=0,t._wantFrame=1,t._lastFrameObj=null,t._isPlaying=!0,t._isFront=!0,t._floatFrame=0,t._a2x_res_class={tf:1},t._a2x_res_children=[],t._a2x_script=null,t._a2x_mode=-2,t._clicked=!1,t._a2x_sounds=null,t._instanceType="annie.MovieClip",t}return __extends(n,e),Object.defineProperty(n.prototype,"currentFrame",{get:function(){var t=this;return t._wantFrame>0?t._wantFrame:t._curFrame},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isFront",{get:function(){return this._isFront},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalFrames",{get:function(){return this._a2x_res_class.tf},enumerable:!0,configurable:!0}),n.prototype.stop=function(){var t=this;0==t._wantFrame&&0==t._curFrame&&(t._wantFrame=1),t._isPlaying=!1},n.prototype.addFrameScript=function(t,e){var n=this,i=n._a2x_res_class;"string"==typeof t&&void 0!=i.label[t]&&(t=i.label[t]),n._a2x_script instanceof Object||(n._a2x_script={}),n._a2x_script[t]=e},n.prototype.removeFrameScript=function(t){var e=this,n=e._a2x_res_class;"string"==typeof t&&void 0!=n.label[t]&&(t=n.label[t]),e._a2x_script instanceof Object&&(e._a2x_script[t]=null)},Object.defineProperty(n.prototype,"isButton",{get:function(){return-1==this._a2x_mode},enumerable:!0,configurable:!0}),n.prototype.initButton=function(){var t=this;-1!=t._a2x_mode&&t._a2x_res_class.tf>1&&(t.mouseChildren=!1,t.addEventListener("onMouseDown",t._mouseEvent.bind(t)),t.addEventListener("onMuseOver",t._mouseEvent.bind(t)),t.addEventListener("onMouseUp",t._mouseEvent.bind(t)),t.addEventListener("onMouseOut",t._mouseEvent.bind(t)),t._a2x_mode=-1,t._clicked?t.totalFrames>2?t.gotoAndStop(3):t.gotoAndStop(2):t.gotoAndStop(1))},Object.defineProperty(n.prototype,"clicked",{get:function(){return this._clicked},set:function(t){var e=this;t!=e._clicked&&(t?e._mouseEvent({type:"onMouseDown"}):e.gotoAndStop(1),e._clicked=t)},enumerable:!0,configurable:!0}),n.prototype._mouseEvent=function(t){var e=this;if(!e._clicked){var n=2;"onMouseDown"==t.type?e.totalFrames>2&&(n=3):"onMouseOver"==t.type?e.totalFrames>1&&(n=2):n=1,e.gotoAndStop(n)}},n.prototype.getCurrentLabel=function(){var t=this;return t._a2x_res_class.tf>1&&t._a2x_res_class.l[t._curFrame-1]?t._a2x_res_class.l[t._curFrame-1]:null},n.prototype.nextFrame=function(){var t=this;t._wantFrame+=t._cMcSpeed,t._wantFrame>t._a2x_res_class.tf&&(t._wantFrame=t._a2x_res_class.tf),t._isPlaying=!1,t._onCheckUpdateFrame()},n.prototype.prevFrame=function(){var t=this;t._wantFrame-=t._cMcSpeed,t._wantFrame<1&&(t._wantFrame=1),t._isPlaying=!1,t._onCheckUpdateFrame()},n.prototype.gotoAndStop=function(t){var e=this,n=e._a2x_res_class,i=!1;"string"==typeof t?void 0!=n.label[t]&&(t=n.label[t],i=!0):"number"==typeof t&&t>=1&&t<=n.tf&&(i=!0),i&&(e._isPlaying=!1,e._floatFrame=0,e._wantFrame=t,e._onCheckUpdateFrame())},n.prototype.play=function(t){void 0===t&&(t=!0);var e=this;e._isPlaying=!0,e._isFront=t},n.prototype.gotoAndPlay=function(t,e){void 0===e&&(e=!0);var n=this,i=n._a2x_res_class,o=!1;"string"==typeof t?void 0!=i.label[t]&&(t=i.label[t],o=!0):"number"==typeof t&&t>=1&&t<=i.tf&&(o=!0),o&&(n._isPlaying=!0,n._isFront=e,n._floatFrame=0,n._wantFrame=t,n._onCheckUpdateFrame())},n.prototype._onCheckUpdateFrame=function(){var t=this;t._wantFrame!=t._curFrame&&t._isOnStage&&t._updateTimeline()},n.prototype._onAddEvent=function(){e.prototype._onAddEvent.call(this),this._onCheckUpdateFrame()},n.prototype._updateTimeline=function(){var e=this;if(e._a2x_res_class.tf>1&&(e._a2x_mode>=0?(e._isPlaying=!1,e.parent instanceof t.MovieClip?e._wantFrame=e.parent._wantFrame-e._a2x_mode:e._wantFrame=1):e._isPlaying&&e._wantFrame==e._curFrame&&e._visible&&(e._isFront?(e._wantFrame+=e._cMcSpeed,e._wantFrame>e._a2x_res_class.tf&&(e._wantFrame=1)):(e._wantFrame-=e._cMcSpeed,e._wantFrame<1&&(e._wantFrame=e._a2x_res_class.tf))),e._wantFrame!=e._curFrame)){var n=Math.floor(e._curFrame),i=Math.floor(e._wantFrame);if(e._floatFrame=e._wantFrame-i,e._curFrame=e._wantFrame,n!=i){var o=e._a2x_res_class,a=e._a2x_res_children,r=a.length,s=0,l=null,c=null,u=i-1,_=void 0,d=e._isFront,p=o.f[o.timeLine[u]],h=[],f=[];if(e._lastFrameObj!=p){e._lastFrameObj=p,e.children.length=0;for(var v=null,g=-1,m=r-1;m>=0;m--)s=a[m][0],l=a[m][1],c=p instanceof Object&&p.c instanceof Object?p.c[s]:null,c instanceof Object?(t.d(l,c,!0),void 0!=c.ma?(v=l,g=c.ma):v instanceof Object&&(l.mask=v,s==g&&(v=null)),e.children.unshift(l),l._isOnStage||h.unshift(l)):l._isOnStage&&f.unshift(l);e._floatFrame>0&&e._updateFrameGap();for(var y=h.length,m=0;m<y;m++)l=h[m],!l._isOnStage&&e._isOnStage&&(l._cp=!0,l.parent=e,l.stage=e.stage,l._onAddEvent());y=f.length;for(var m=0;m<y;m++)l=f[m],l._isOnStage&&e._isOnStage&&(l._onRemoveEvent(!0),l.stage=null,l.parent=null)}if(e._a2x_mode<0){var b=!1;if(e._a2x_script instanceof Object&&(_=e._a2x_script[u])instanceof Function&&(_(),b=!0),b||(_=o.a[u])instanceof Array&&e[_[0]](void 0==_[1]||_[1],void 0==_[2]||_[2]),(_=o.e[u])instanceof Array)for(var m=0;m<_.length;m++)e.dispatchEvent(t.Event.CALL_FRAME,{frameIndex:e._curFrame,frameName:_[m]});(1==e._curFrame&&!d||e._curFrame==e._a2x_res_class.tf&&d)&&e.hasEventListener(t.Event.END_FRAME)&&e.dispatchEvent(t.Event.END_FRAME,{frameIndex:e._curFrame,frameName:"endFrame"})}var x=o.s[u];if(x instanceof Object)for(var M in x)e._a2x_sounds[M-1].play(0,x[M])}else e._floatFrame>0&&e._updateFrameGap()}},n.prototype._onUpdateFrame=function(t,n){void 0===t&&(t=1),void 0===n&&(n=!1);var i,o=this;n&&(i=o._isPlaying,o._isPlaying=!1),o._updateTimeline(),n&&(o._isPlaying=i),e.prototype._onUpdateFrame.call(this,t,n)},n.prototype._onRemoveEvent=function(t){e.prototype._onRemoveEvent.call(this,t),t&&n._resetMC(this)},n.prototype._updateFrameGap=function(){for(var t=this,e=t._a2x_res_class,n=t._a2x_res_children,i=n.length,o=0,a=null,r=null,s=null,l=Math.floor(t._curFrame),c=t._lastFrameObj,u=t._floatFrame,_=e.f[e.timeLine[l]],d=i-1;d>=0;d--)if(o=n[d][0],a=n[d][1],_&&_.c&&c&&c.c&&(r=_.c[o],void 0!=(s=c.c[o])&&void 0!=r)){if(void 0!=r.tr&&1!=r.tr.length||(r.tr=[0,0,1,1,0,0]),void 0==r.al&&(r.al=1),a._changeTransformInfo[0]||(a._x=s.tr[0]+(r.tr[0]-s.tr[0])*u),a._changeTransformInfo[1]||(a._y=s.tr[1]+(r.tr[1]-s.tr[1])*u),a._changeTransformInfo[2]||(a._scaleX=s.tr[2]+(r.tr[2]-s.tr[2])*u),a._changeTransformInfo[3]||(a._scaleY=s.tr[3]+(r.tr[3]-s.tr[3])*u),!a._changeTransformInfo[4]){var p=r.tr[4]-s.tr[4],h=r.tr[5]-s.tr[5];p>180?p-=360:p<-180&&(p+=360),h>180?h-=360:h<-180&&(h+=360),a._skewX=s.tr[4]+p*u,a._skewY=s.tr[5]+h*u}a._changeTransformInfo[5]||(a._alpha=s.al+(r.al-s.al)*u,a.a2x_ua=!0),a.a2x_um=!0}t._floatFrame=0},n._resetMC=function(t){t._wantFrame=1,t._curFrame=0,t._isFront=!0,t._floatFrame=0,t._a2x_mode<-1?t._isPlaying=!0:t._isPlaying=!1},n.prototype.destroy=function(){var t=this;e.prototype.destroy.call(this),t._lastFrameObj=null,t._a2x_script=null,t._a2x_res_children=null,t._a2x_res_class=null,t._a2x_sounds=null},n}(t.Sprite);t.MovieClip=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t._textAlign="left",t._textAlpha=1,t._textHeight=0,t._lineHeight=14,t._textWidth=120,t._lineType="single",t._text="",t._font="Arial",t._size=12,t._color="#fff",t._italic=!1,t._bold=!1,t._border=!1,t._stroke=0,t._strokeColor="#000",t.realLines=[],t.a2x_ut=!0,t._instanceType="annie.TextField",t}return __extends(n,e),Object.defineProperty(n.prototype,"textAlign",{get:function(){return this._textAlign},set:function(t){var e=this;t!=e._textAlign&&(e._textAlign=t,e.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textAlpha",{get:function(){return this._textAlpha},set:function(t){var e=this;t!=e._textAlpha&&(e._textAlpha=t,e.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textHeight",{get:function(){return this._textHeight},set:function(t){var e=this;t!=e._textHeight&&(e._textHeight=t,e.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){var e=this;t!=e._lineHeight&&(e._lineHeight=t,e.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textWidth",{get:function(){return this._textWidth},set:function(t){var e=this;t!=e._textWidth&&(e._textWidth=t,e.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineType",{get:function(){return this._lineType},set:function(t){var e=this;t!=e._lineType&&(e._lineType=t,e.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this._text},set:function(t){var e=this;(t+="")!=e._text&&(e._text=t,""==e._text?(e.a2x_ut=!1,e.clearBounds()):e.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"font",{get:function(){return this._font},set:function(t){var e=this;t!=e._font&&(e._font=t,e.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._size},set:function(t){var e=this;t!=e._size&&(e._size=t,e.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){return this._color},set:function(t){var e=this;t!=e._color&&(e._color=t,e.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"italic",{get:function(){return this._italic},set:function(t){var e=this;t!=e._italic&&(e._italic=t,e.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bold",{get:function(){return this._bold},set:function(t){var e=this;t!=e._bold&&(e._bold=t,e.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"border",{get:function(){return this._border},set:function(t){var e=this;t!=e._border&&(e._border=t,e.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=this;t!=e._stroke&&(e._stroke=t,e.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(t){var e=this;t!=e._strokeColor&&(e._strokeColor=t,e.a2x_ut=!0)},enumerable:!0,configurable:!0}),n.prototype._prepContext=function(e){var n=this,i=n.size||12;i+="px ",i+=n.font,n._bold&&(i="bold "+i),n._italic&&(i="italic "+i),e.font=i,e.textAlign=n._textAlign||"left",e.textBaseline="top",e.lineJoin="miter",e.miterLimit=2.5,e.fillStyle=t.Shape.getRGBA(n._color,n._textAlpha),e.strokeStyle=n.strokeColor,e.lineWidth=Math.abs(n._stroke)},Object.defineProperty(n.prototype,"lines",{get:function(){return this.realLines.length},enumerable:!0,configurable:!0}),n.prototype._getMeasuredWidth=function(e){return t.CanvasRender._ctx.measureText(e).width},n.prototype._updateMatrix=function(n){void 0===n&&(n=!1);var i=this;if(e.prototype._updateMatrix.call(this),i.a2x_ut){var o=t.CanvasRender._ctx;i.a2x_ut=!1;var a=i._text.toString().split(/(?:\r\n|\r|\n)/);i.realLines.length=0;var r=i.realLines;i._prepContext(o);var s=0,l=i._lineHeight;if(i._text.indexOf("\n")<0&&"single"==i.lineType){r[r.length]=a[0];var c=a[0];if(i._getMeasuredWidth(c)>i._textWidth)for(var u=i._getMeasuredWidth(c[0]),_=c[0],d=c.length,p=1;p<d;p++){if(s=o.measureText(c[p]).width,(u+=s)>i._textWidth){r[0]=_;break}_+=c[p]}}else for(var h=0,f=a.length;h<f;h++){var c=a[h];if(c){for(var u=i._getMeasuredWidth(c[0]),_=c[0],d=c.length,p=1;p<d;p++)s=o.measureText(c[p]).width,u+=s,u>i._textWidth?(r[r.length]=_,_=c[p],u=s):_+=c[p];r[r.length]=_}}var v=l*r.length+4>>0,g=i._textWidth>>0;i._offsetX=2,"center"==i._textAlign?i._offsetX+=.5*g:"right"==i._textAlign&&(i._offsetX+=g),i._bounds.width=g,i._bounds.height=v,i.a2x_um=!0}i.a2x_um&&i._checkDrawBounds(),i.a2x_um=!1,i.a2x_ua=!1},n.prototype._draw=function(t,e){void 0===e&&(e=!1);var n=this,i=n.realLines,o=n._lineHeight,a=n._bounds.width;n._prepContext(t),t.translate(n._offsetX,n._offsetY);for(var r=0;r<i.length;r++)n._stroke>0&&t.strokeText(i[r],0,r*o,a),t.fillText(i[r],0,r*o,a),n._stroke<0&&t.strokeText(i[r],0,r*o,a)},n}(t.DisplayObject);t.TextField=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(i,o,a,r,s,l){void 0===o&&(o=640),void 0===a&&(a=1040),void 0===r&&(r=30),void 0===s&&(s="fixedHeight"),void 0===l&&(l=0);var c=e.call(this)||this;c.renderObj=null,c.renderType=0,c._viewRect=new t.Rectangle,c.isMultiTouch=!1,c.isMultiMouse=!1,c.autoSteering=!1,c.autoResize=!1,c.desWidth=0,c.desHeight=0,c.divHeight=0,c.divWidth=0,c.bgColor="",c._scaleMode="onScale",c._lastDpList={},c._ml=[],c._mp=[],c._mouseDownPoint={},c._mouseEventTypes={mousedown:"onMouseDown",mouseup:"onMouseUp",mousemove:"onMouseMove",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp",ontouchstart:"onMouseDown",ontouchmove:"onMouseMove",ontouchend:"onMouseUp"},c.sp=new t.Point,c.lp=new t.Point,c.muliPoints=[],c._mP1=new t.Point,c._mP2=new t.Point,c.resize=function(){var e=this,n=t.CanvasRender.rootContainer.width,i=t.CanvasRender.rootContainer.height;0==e.divWidth||0==e.divHeight?(e.a2x_um=!0,e.divWidth=n,e.divHeight=i,e.renderObj.reSize(n,i),e.setAlign(),e.dispatchEvent("onInitStage")):e.autoResize&&(e.divWidth==n&&e.divHeight==i||(e.a2x_um=!0,e.divHeight=i,e.divWidth=n,e.renderObj.reSize(n,i),e.setAlign(),e.dispatchEvent("onResize")))};var u=c;if(u.a2x_ua=!0,u.a2x_um=!0,u._instanceType="annie.Stage",u.stage=u,u._isOnStage=!0,u.name="rootStage",u.renderType=l,u.desWidth=o,u.desHeight=a,u.setFrameRate(r),u._scaleMode=s,u.anchorX=o>>1,u.anchorY=a>>1,u.mouseEvent=u._onMouseEvent.bind(u),t.isSharedCanvas)t.CanvasRender.rootContainer=t.app.getSharedCanvas(),t.globalDispatcher.addEventListener("onMainStageMsg",function(e){switch(e.data.type){case t.MouseEvent.CLICK:case t.MouseEvent.MOUSE_MOVE:case t.MouseEvent.MOUSE_UP:case t.MouseEvent.MOUSE_DOWN:case t.MouseEvent.MOUSE_OVER:case t.MouseEvent.MOUSE_OUT:var n=new t.MouseEvent(e.data.type);n.reset(e.data.type,u),n.clientX=n.stageX=n.localX=e.data.x,n.clientY=n.stageY=n.localY=e.data.y,u.dispatchEvent(n)}});else{var _=t.app.getSystemInfoSync(),d=t.app.createCanvas();d.width=_.windowWidth*_.pixelRatio,d.height=_.windowHeight*_.pixelRatio,t.CanvasRender.rootContainer=d,t.app.onTouchStart(function(t){void 0==t.type&&(t.type="touchstart"),u.mouseEvent(t)}),t.app.onTouchMove(function(t){void 0==t.type&&(t.type="touchmove"),u.mouseEvent(t)}),t.app.onTouchEnd(function(t){void 0==t.type&&(t.type="touchend"),u.mouseEvent(t)})}return t.OffCanvasRender.rootContainer=t.app.createCanvas(),0==l&&(u.renderObj=new t.CanvasRender(u)),u.renderObj.init(),n.addUpdateObj(u),n.stage=u,setTimeout(function(){n.flushAll()},0),c}return __extends(n,e),Object.defineProperty(n,"pause",{get:function(){return n._pause},set:function(e){var i=n;e!=i._pause&&(i._pause=e,e?t.Sound.stopAllSounds():t.Sound.resumePlaySounds(),t.globalDispatcher.dispatchEvent("onRunChanged",{pause:e}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(t){var e=this;t!=e._scaleMode&&(e._scaleMode=t,e.setAlign())},enumerable:!0,configurable:!0}),n.prototype._render=function(t){t.begin(this.bgColor),e.prototype._render.call(this,t),t.end()},n.prototype._initMouseEvent=function(t,e,n,i,o){t._pd=!1,t.clientX=e.x,t.clientY=e.y,t.stageX=n.x,t.stageY=n.y,t.timeStamp=o,t.identifier=i},n.prototype.flush=function(){var t=this;t.resize(),t._onUpdateFrame(1),t._updateMatrix(),t._render(t.renderObj)},n.prototype.setFrameRate=function(t){n._FPS=t,n._flushTime=1e3/t},n.prototype.getFrameRate=function(){return n._FPS},n.prototype._onMouseEvent=function(e){var i=this,o=n._dragDisplay;if(i.isMultiTouch&&e.changedTouches.length>1){if(2==e.changedTouches.length){i._mP1.x=e.changedTouches[0].clientX-0,i._mP1.y=e.changedTouches[0].clientY-0,i._mP2.x=e.changedTouches[1].clientX-0,i._mP2.y=e.changedTouches[1].clientY-0;var a=Math.atan2(i._mP1.y-i._mP2.y,i._mP1.x-i._mP2.x)/Math.PI*180,r=t.Point.distance(i._mP1,i._mP2);if(i.muliPoints.push({p1:i._mP1,p2:i._mP2,angle:a,dis:r}),i.muliPoints.length>=2){i._touchEvent instanceof t.TouchEvent||(i._touchEvent=new t.TouchEvent(t.TouchEvent.ON_MULTI_TOUCH),i._touchEvent.target=i);var s=i.muliPoints.length;i._touchEvent.rotate=2*(i.muliPoints[s-1].angle-i.muliPoints[s-2].angle),i._touchEvent.scale=(i.muliPoints[s-1].dis-i.muliPoints[s-2].dis)/(i.divHeight>i.divWidth?i.desWidth:i.desHeight)*4,i._touchEvent.clientPoint1.x=i.muliPoints[s-1].p1.x*t.devicePixelRatio,i._touchEvent.clientPoint2.x=i.muliPoints[s-1].p2.x*t.devicePixelRatio,i._touchEvent.clientPoint1.y=i.muliPoints[s-1].p1.y*t.devicePixelRatio,i._touchEvent.clientPoint2.y=i.muliPoints[s-1].p2.y*t.devicePixelRatio,i.dispatchEvent(i._touchEvent),i.muliPoints.shift()}}else i.muliPoints.length=0;i._mouseDownPoint={},i._lastDpList={},o&&(n._lastDragPoint.x=Number.MAX_VALUE,n._lastDragPoint.y=Number.MAX_VALUE)}else if(i.muliPoints.length>0&&(i._touchEvent.rotate=0,i._touchEvent.scale=0,i._touchEvent.clientPoint1.x=0,i._touchEvent.clientPoint2.x=0,i._touchEvent.clientPoint1.y=0,i._touchEvent.clientPoint2.y=0,i.dispatchEvent(i._touchEvent),i.muliPoints.length=0),t.EventDispatcher._totalMEC>0){var l,c=void 0,u=i._mouseEventTypes[e.type.toLowerCase()],_=[],d=void 0,p=void 0,h=void 0;if(i.isMultiMouse)c=e.changedTouches;else{var f=e.changedTouches[0];(void 0!=i._lastDpList[f.identifier]||"onMouseDown"==u&&!i._lastDpList.isStart)&&(i._lastDpList.isStart=!0),c=[f]}for(var v=c.length,g=0;g<v;g++){if(p=0,_.length=0,h=c[g].identifier,d=i._mp.length>0?i._mp.shift():new t.Point,d.x=(c[g].clientX-0)*t.devicePixelRatio,d.y=(c[g].clientY-0)*t.devicePixelRatio,i.globalToLocal(d,i.sp),o&&o.stage&&o.parent){var m=o.x,y=o.y;o.parent.globalToLocal(d,i.lp),n._isDragCenter?(m=i.lp.x,y=i.lp.y):(n._lastDragPoint.x!=Number.MAX_VALUE&&(m+=i.lp.x-n._lastDragPoint.x,y+=i.lp.y-n._lastDragPoint.y),n._lastDragPoint.x=i.lp.x,n._lastDragPoint.y=i.lp.y),i.lp.x=m,i.lp.y=y,n._dragBounds.width!=Number.MIN_VALUE&&(m<n._dragBounds.x?m=n._dragBounds.x:m>n._dragBounds.x+n._dragBounds.width&&(m=n._dragBounds.x+n._dragBounds.width),y<n._dragBounds.y?y=n._dragBounds.y:y>n._dragBounds.y+n._dragBounds.height&&(y=n._dragBounds.y+n._dragBounds.height)),o.x=m,o.y=y}if(i._ml[p]instanceof t.MouseEvent?(l=i._ml[p],l.type=u):(l=new t.MouseEvent(u),i._ml[p]=l),_[_.length]=l,i._initMouseEvent(l,d,i.sp,h,e.timeStamp),p++,"onMouseDown"==u?i._mouseDownPoint[h]=d:"onMouseUp"==u&&i._mouseDownPoint[h]instanceof t.Point&&t.Point.distance(i._mouseDownPoint[h],d)<20&&t.EventDispatcher.getMouseEventCount("onMouseClick")>0&&(i._ml[p]instanceof t.MouseEvent?(l=i._ml[p],l.type="onMouseClick"):(l=new t.MouseEvent("onMouseClick"),i._ml[p]=l),_[_.length]=l,i._initMouseEvent(l,d,i.sp,h),p++),p>0){var b=i.hitTestPoint(d,!0),x=[];if(b instanceof t.DisplayObject)do{b instanceof t.Sprite&&0==b.mouseChildren&&(x.length=0),x[x.length]=b,b=b.parent}while(b instanceof t.DisplayObject);else x[0]=i;for(var s=x.length,M=s-1;M>=0;M--){b=x[M];for(var w=0;w<p;w++)!_[w]._pd&&b.hasEventListener(_[w].type)&&(_[w].currentTarget=b,_[w].target=x[0],b.globalToLocal(d,i.lp),_[w].localX=i.lp.x,_[w].localY=i.lp.y,b.dispatchEvent(_[w]))}x.reverse();for(var M=s-1;M>=0;M--){b=x[M];for(var w=0;w<p;w++)!_[w]._pd&&b.hasEventListener(_[w].type,!1)&&(_[w].currentTarget=b,_[w].target=x[p-1],b.globalToLocal(d,i.lp),_[w].localX=i.lp.x,_[w].localY=i.lp.y,b.dispatchEvent(_[w],null,!1))}if("onMouseDown"!=u){if((t.EventDispatcher.getMouseEventCount("onMouseOver")>0||t.EventDispatcher.getMouseEventCount("onMouseOut")>0)&&i._lastDpList[h]instanceof Array){var O=i._lastDpList[h].length,E=x.length;s=O>E?O:E;for(var P=!1,T=void 0,S=void 0,M=1;M<s;M++)P||i._lastDpList[h][M]!=x[M]&&(P=!0,i._ml[p]instanceof t.MouseEvent?(T=i._ml[p],T.type="onMouseOver"):(T=new t.MouseEvent("onMouseOver"),i._ml[p]=T),i._initMouseEvent(T,d,i.sp,h),p++,i._ml[p]instanceof t.MouseEvent?(S=i._ml[p],S.type="onMouseOut"):(S=new t.MouseEvent("onMouseOut"),i._ml[p]=S),i._initMouseEvent(S,d,i.sp,h)),P&&(i._lastDpList[h][M]&&(b=i._lastDpList[h][M],!S._pd&&b.hasEventListener("onMouseOut")&&(S.currentTarget=b,S.target=i._lastDpList[h][O-1],b.globalToLocal(d,i.lp),S.localX=i.lp.x,S.localY=i.lp.y,b.dispatchEvent(S))),(b=x[M])instanceof t.DisplayObject&&!T._pd&&b.hasEventListener("onMouseOver")&&(T.currentTarget=b,T.target=x[E-1],b.globalToLocal(d,i.lp),T.localX=i.lp.x,T.localY=i.lp.y,b.dispatchEvent(T)))}i._mp[i._mp.length]=d}"onMouseUp"==u?(delete i._mouseDownPoint[h],delete i._lastDpList[h],i._lastDpList.isStart=!1,o&&(n._lastDragPoint.x=Number.MAX_VALUE,n._lastDragPoint.y=Number.MAX_VALUE)):i._lastDpList[h]=x}}}},n.prototype.setAlign=function(){var t=this,e=t.divHeight,n=t.divWidth,i=t.desHeight,o=t.desWidth;t.anchorX=o>>1,t.anchorY=i>>1;var a=e>=n,r=i>=o,s=1,l=1;if(t.x=n-o>>1,t.y=e-i>>1,t.autoSteering&&r!=a){var c=e;e=n,n=c}if("noScale"!=t._scaleMode)switch(s=e/i,l=n/o,t._scaleMode){case"noBorder":l>s?s=l:l=s;break;case"showAll":l<s?s=l:l=s;break;case"fixedWidth":s=l;break;case"fixedHeight":l=s}t.scaleX=l,t.scaleY=s,t.autoSteering?t.rotation=r==a?0:i>o?-90:90:t.rotation=0,t._viewRect.x=o-n/l>>1,t._viewRect.y=i-e/s>>1,t._viewRect.width=o-2*t._viewRect.x,t._viewRect.height=i-2*t._viewRect.y},Object.defineProperty(n.prototype,"viewRect",{get:function(){return this._viewRect},enumerable:!0,configurable:!0}),n.flushAll=function(){var t=(new Date).getTime();if(n._flushTime-t+n._lastFluashTime<.1*n._flushTime&&(n._lastFluashTime=t,!n._pause))for(var e=n.allUpdateObjList.length,i=e-1;i>=0;i--)n.allUpdateObjList[i]&&n.allUpdateObjList[i].flush();requestAnimationFrame(n.flushAll)},n.addUpdateObj=function(t){for(var e=!1,i=n.allUpdateObjList.length,o=0;o<i;o++)if(n.allUpdateObjList[o]==t){e=!0;break}e||n.allUpdateObjList.unshift(t)},n.removeUpdateObj=function(t){for(var e=n.allUpdateObjList.length,i=0;i<e;i++)if(n.allUpdateObjList[i]==t){n.allUpdateObjList.splice(i,1);break}},n.prototype.destroy=function(){e.prototype.destroy.call(this);var t=this;n.removeUpdateObj(t),t.renderObj.destroy(),t.renderObj=null},n._pause=!1,n.stage=null,n._FPS=30,n._dragDisplay=null,n._dragBounds=new t.Rectangle,n._lastDragPoint=new t.Point,n._isDragCenter=!1,n.allUpdateObjList=[],n._flushTime=0,n._lastFluashTime=0,n}(t.Sprite);t.Stage=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(n){var i=e.call(this)||this;return i.viewPort=new t.Rectangle,i._instanceType="annie.CanvasRender",i}return __extends(n,e),n.prototype.begin=function(t){var e=n.rootContainer,i=n._ctx;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,e.width,e.height),""!=t&&(i.fillStyle=t,i.fillRect(0,0,e.width,e.height))},n.prototype.beginMask=function(t){var e=this,i=n._ctx;i.save(),i.beginPath(),e.drawMask(t),i.closePath(),i.clip()},n.prototype.drawMask=function(t){var e=this,i=t._cMatrix,o=n._ctx;if(o.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),"annie.Shape"==t._instanceType)t._draw(o,!0);else if("annie.Sprite"==t._instanceType||"annie.MovieClip"==t._instanceType)for(var a=0;a<t.children.length;a++)e.drawMask(t.children[a]);else{var r=t._bounds;o.rect(0,0,r.width,r.height)}},n.prototype.endMask=function(){n._ctx.restore()},n.prototype.end=function(){},n.prototype.init=function(){t.CanvasRender._ctx=n.rootContainer.getContext("2d")},n.prototype.reSize=function(t,e){var n=this;n.viewPort.width=t,n.viewPort.height=e},n.prototype.destroy=function(){n.rootContainer=null,n._ctx=null},n.rootContainer=null,n}(t.AObject);t.CanvasRender=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t._instanceType="annie.OffCanvasRender",t}return __extends(n,e),n.prototype.begin=function(t){var e=n.rootContainer,i=n._ctx;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,e.width,e.height),""!=t&&(i.fillStyle=t,i.fillRect(0,0,e.width,e.height))},n.prototype.beginMask=function(t){var e=this,i=n._ctx;i.save(),i.beginPath(),e.drawMask(t),i.closePath(),i.clip()},n.prototype.drawMask=function(t){var e=this,i=t._matrix,o=n._ctx;if(o.transform(i.a,i.b,i.c,i.d,i.tx,i.ty),"annie.Shape"==t._instanceType)t._draw(o,!0);else if("annie.Sprite"==t._instanceType||"annie.MovieClip"==t._instanceType)for(var a=0;a<t.children.length;a++)e.drawMask(t.children[a]);else{var r=t._bounds;o.rect(0,0,r.width,r.height)}},n.prototype.endMask=function(){n._ctx.restore()},n.prototype.draw=function(e){if(e._visible&&e._cAlpha>0){var i=e.children,o=n._ctx,a=e._matrix;if(o.save(),o.globalAlpha*=e._alpha,o.transform(a.a,a.b,a.c,a.d,a.tx,a.ty),null==e.children)0==e._offsetX&&0==e._offsetY||o.translate(e._offsetX,e._offsetY),e._draw(o);else for(var r=e.children.length,s=this,l=void 0,c=void 0,u=0;u<r;u++)c=i[u],c._isUseToMask>0||(l instanceof t.DisplayObject?c.mask instanceof t.DisplayObject&&c.mask.parent==c.parent?c.mask!=l&&(s.endMask(),l=c.mask,s.beginMask(l)):(s.endMask(),l=null):c.mask instanceof t.DisplayObject&&c.mask.parent==c.parent&&(l=c.mask,s.beginMask(l)),s.draw(c));o.restore()}},n.prototype.end=function(){},n.prototype.init=function(){n._ctx=n.rootContainer.getContext("2d")},n.prototype.reSize=function(t,e){var i=n.rootContainer;i.width=t,i.height=e},n.prototype.destroy=function(){n.rootContainer=null,n._ctx=null},n}(t.AObject);t.OffCanvasRender=e}(annie||(annie={}));var annie;!function(t){var e=function(){function e(){}return e.onMouseEvent=function(t){e.postMessage({type:t.type,data:{x:t.localX,y:t.localY}})},e.init=function(n,i){var o=e;o.context||(o.context=t.app.getOpenDataContext(),o.context.canvas.width=n,o.context.canvas.height=i,o.postMessage({type:"initSharedCanvasStage"}),o.view=new t.Bitmap(o.context.canvas),o.view.addEventListener(t.MouseEvent.CLICK,o.onMouseEvent),o.view.addEventListener(t.MouseEvent.MOUSE_MOVE,o.onMouseEvent),o.view.addEventListener(t.MouseEvent.MOUSE_DOWN,o.onMouseEvent),o.view.addEventListener(t.MouseEvent.MOUSE_UP,o.onMouseEvent),o.view.addEventListener(t.MouseEvent.MOUSE_OVER,o.onMouseEvent),o.view.addEventListener(t.MouseEvent.MOUSE_OUT,o.onMouseEvent))},e.resize=function(t,n){var i=e;i.context.canvas.width=t,i.context.canvas.height=n,i.postMessage({type:"canvasResize",data:{w:t,h:n}})},e.destroy=function(){var t=e;t.view.destroy(),t.context=null},e.postMessage=function(t){e.context.postMessage(t)},e.show=function(){var t=e;t.context.postMessage({event:"onShow"}),t.view.visible=!0},e.hide=function(){var t=e;t.context.postMessage({event:"onHide"}),t.view.visible=!0},e.view=null,e}();t.SharedCanvas=e}(annie||(annie={}));var annie;!function(t){function e(e,n,i){if(s(e))i({status:1,name:e});else{t.app.loadSubpackage({name:e,success:function(t){i({status:1,name:e})},fail:function(t){i({status:0,name:e})}}).onProgressUpdate(n)}}function n(){if(0!=y.indexOf("http")){var e="../resource/";""!=y&&(e="../"+y+"/resource/");i(require(e+m[b]+"/"+m[b]+".res.js"))}else{t.app.downloadFile({url:y+"resource/"+m[b]+"/"+m[b]+".res.json",success:function(e){if(200==e.statusCode){var n=t.app.getFileSystemManager().readFileSync(e.tempFilePath,"utf8");i(JSON.parse(n))}}}).onProgressUpdate(function(t){O&&O((t.progress+100*b)/m.length>>0)})}}function i(t){E.push(t),x+=t.length,b++,m[b]?n():(b=0,T=1/x,r())}function o(t){var e;for(var n in t)if(e=t[n],1==e.t){if(!(e.f instanceof Object)){e.f=[];continue}if(e.tf>1){for(var i=e.f,o=i.length,a=null,r=null,s=[],l=0;l<o;l++){if((a=i[l].c)instanceof Object){for(var c in a){var u=a[c].at;if(void 0!=u&&-1!=u){if(0==u)s.push(c);else for(var _=0;_<s.length;_++)if(s[_]==u){s.splice(_,0,c);break}delete a[c].at}}if(r instanceof Object)for(var c in r)if(a[c]instanceof Object)if(-1!=a[c].at)for(var d in r[c])void 0==a[c][d]&&"fi"!=d&&(a[c][d]=r[c][d]);else delete a[c];else a[c]=r[c]}r=a}e.ol=s}}}function a(){if(E[b].shift(),0!=y.indexOf("http")&&(M++,P=M/x,O&&O(100*P>>0)),E[b].length>0)r();else{t.res[m[b]]._f2x_had_loaded_scene=!0;var e={};e.sceneName=m[b],b++,e.sceneId=b,e.sceneTotal=m.length,b==m.length?(g=!1,w&&w(e)):(w&&(w||w(e)),r())}}function r(){var e=m[b],n=E[b][0].type;if("javascript"!=n){var i=void 0;if("_a2x_con"==E[b][0].id){if(0!=y.indexOf("http")){var r="../";""!=y&&(r="../"+y+"/"),i=require(r+E[b][0].src)}else i=E[b][0].src;t.res[e][E[b][0].id]=i,o(i)}else if("image"==n){if(i=t.app.createImage(),0!=y.indexOf("http")){var r="";""!=y&&(r=y+"/"),i.src=r+E[b][0].src}else i.src=E[b][0].src;t.res[e][E[b][0].id]=i}else if("sound"==n){if(i=t.app.createInnerAudioContext(),0!=y.indexOf("http")){var r="";""!=y&&(r=y+"/"),i.src=r+E[b][0].src}else i.src=E[b][0].src;t.res[e][E[b][0].id]=i}}else{var r="../";""!=y&&0!=y.indexOf("http")&&(r="../"+y+"/"),require(r+E[b][0].src)}a()}function s(e){return!(void 0==t.res[e]||null==t.res[e]||!t.res[e]._f2x_had_loaded_scene)}function l(e){delete t.res[e];var n=t.classPool[e];for(var i in n)delete n[i];delete t.classPool[e],n=null}function c(e,n){return t.res[e][n]}function u(e,n){return new t.classPool[e][n]}function _(e,n){return new t.Bitmap(t.res[e][n])}function d(t,e,n){void 0===n&&(n=!1);var i;if(t._a2x_res_obj!=e){void 0!=e.tr&&1!=e.tr.length||(e.tr=[0,0,1,1,0,0]);var o=t._a2x_res_obj;if(void 0==e.al&&(e.al=1),n){var a=t.a2x_um;t._changeTransformInfo[0]||t._x==e.tr[0]||(t._x=e.tr[0],a=!0),t._changeTransformInfo[1]||t._y==e.tr[1]||(t._y=e.tr[1],a=!0),t._changeTransformInfo[2]||t._scaleX==e.tr[2]||(t._scaleX=e.tr[2],a=!0),t._changeTransformInfo[3]||t._scaleY==e.tr[3]||(t._scaleY=e.tr[3],a=!0),t._changeTransformInfo[4]||(t._skewX!=e.tr[4]&&(t._skewX=e.tr[4],t._rotation=0,a=!0),t._skewY!=e.tr[5]&&(t._skewY=e.tr[5],t._rotation=0,a=!0)),t.a2x_um=a,t._changeTransformInfo[5]||t._alpha==e.al||(t._alpha=e.al,t.a2x_ua=!0)}else o.tr!=e.tr&&(i=e.tr,t._x=i[0],t._y=i[1],t._scaleX=i[2],t._scaleY=i[3],t._skewX=i[4],t._skewY=i[5],t.a2x_um=!0),t._alpha!=e.al&&(t._alpha=e.al,t.a2x_ua=!0);void 0!=e.w&&(t.textWidth=e.w,t.textHeight=e.h),void 0!=e.t&&(-1==e.t&&t.initButton&&t.initButton(),t._a2x_mode=e.t),t._a2x_res_obj=e}}function p(e,n){var i,o=t.res[e]._a2x_con[n],a=decodeURIComponent(o[9]),r=decodeURIComponent(o[4]).replace(/\s(Regular|Medium)/,""),s=o[5],l=C[o[3]],c=S[o[2]],u=o[11],_=o[10],d=o[6],p=o[7],h=o[12],f=o[8];return i=new t.TextField,i.text=a,i.font=r,i.size=s,
i.textAlign=l,i.lineType=c,i.italic=u,i.bold=_,i.color=d,i.textAlpha=p,i.border=h,i.lineHeight=f,i}function h(e,n){for(var i=t.res[e]._a2x_con[n][1],o=new t.Shape,a=0;a<i.length;a++)1==i[a][0]?(0==i[a][1]?o.beginFill(t.Shape.getRGBA(i[a][2][0],i[a][2][1])):1==i[a][1]?o.beginLinearGradientFill(i[a][2][0],i[a][2][1]):2==i[a][1]?o.beginRadialGradientFill(i[a][2][0],i[a][2][1]):o.beginBitmapFill(c(e,i[a][2][0]),i[a][2][1]),o.decodePath(i[a][3]),o.endFill()):(0==i[a][1]?o.beginStroke(t.Shape.getRGBA(i[a][2][0],i[a][2][1]),i[a][4],i[a][5],i[a][6],i[a][7]):1==i[a][1]?o.beginLinearGradientStroke(i[a][2][0],i[a][2][1],i[a][4],i[a][5],i[a][6],i[a][7]):2==i[a][1]?o.beginRadialGradientStroke(i[a][2][0],i[a][2][1],i[a][4],i[a][5],i[a][6],i[a][7]):o.beginBitmapStroke(c(e,i[a][2][0]),i[a][2][1],i[a][4],i[a][5],i[a][6],i[a][7]),o.decodePath(i[a][3]),o.endStroke());return o}function f(e,n){return new t.Sound(t.res[e][n])}function v(e,n,i){var o=t.classPool,a=t.res[n],r=a._a2x_con,s=r[i];e._a2x_res_class=s;var l,c=!1;if(s.tf>1&&(c=!0,void 0==s.timeLine)){var u=s.f.length,g=[],m=u>0?s.f[0].i:s.tf,y=0;if(m>0)for(var b=0;b<m;b++)g[g.length]=-1;if(u>0)for(l=0;l<u;l++){y=l+1<u?s.f[l+1].i:s.tf,m=s.f[l].i;for(var b=0;b<y-m;b++)g[g.length]=l}s.timeLine=g,s.f instanceof Object||(s.f=[]),s.a instanceof Object||(s.a={}),s.s instanceof Object||(s.s={}),s.e instanceof Object||(s.e={});var x={};if(s.l instanceof Object)for(var M in s.l)for(var w=0;w<s.l[M].length;w++)x[s.l[M][w]]=parseInt(M)+1;else s.l=[];s.label=x}var O=s.c;if(O instanceof Object){var E=[],P=O.length,T=null,S=0,C=null,F=0;for(l=0;l<P;l++){switch(S=r[O[l]]instanceof Array?r[O[l]][0]:r[O[l]].t){case 1:case 4:s.n&&s.n[l]&&e[s.n[l]]?T=e[s.n[l]]:(4==S?T=p(n,O[l]):0==O[l].indexOf("_$")?(T=r[O[l]].tf>1?new t.MovieClip:new t.Sprite,v(T,n,O[l])):T=new o[n][O[l]],s.n&&s.n[l]&&(e[s.n[l]]=T,T.name=s.n[l]));break;case 2:T=_(n,O[l]);break;case 3:T=h(n,O[l]);break;case 5:T=f(n,O[l]),T.name=O[l],e.addSound(T)}if(c)E[E.length]=T,5==S&&(T.isPlaying=!1,e._a2x_sounds instanceof Object||(e._a2x_sounds={}),e._a2x_sounds[l]=T);else{var M=l+1;5==S?T._loop=T._repeate=s.s[0][M]:(d(T,s.f[0].c[M]),void 0!=s.f[0].c[M].ma?(C=T,F=s.f[0].c[M].ma-1):C instanceof Object&&l<=F&&(T.mask=C,l==F&&(C=null)),e.addChildAt(T,0))}}if(c){var L=s.ol;if(L instanceof Object)for(var k=0;k<L.length;k++)e._a2x_res_children[k]=[L[k],E[L[k]-1]]}}}t.classPool={},t.res={};var g,m,y,b,x,M,w,O,E,P,T;t.loadScene=function(e,i,o,a){if(void 0===a&&(a=""),g)return void console.log("当前加载未完成");if(m=[],y=a,"string"==typeof e)if(s(e)){var r={};r.sceneName=e,r.sceneId=1,r.sceneTotal=1,o(r)}else t.res[e]={},m.push(e);else for(var l=e.length,c=0,u=0;u<l;u++)if(s(e[u])){var r={};r.sceneName=e[u],r.sceneId=++c,r.sceneTotal=l,o(r)}else t.res[e[u]]={},m.push(e[u]);0!=m.length&&(P=0,b=0,x=0,M=0,g=!0,w=o,O=i,E=[],n())},t.loadSubScene=e,t.isLoadedScene=s,t.unLoadScene=l,t.getResource=c,t.getDisplay=u,t.d=d;var S=["single","multiline"],C=["left","center","right"];t.initRes=v,console.log("https://github.com/flash2x/AnnieJS")}(annie||(annie={}));var annie;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.pause=!1,t.currentFrame=0,t.totalFrames=0,t._isLoop=0,t._delay=0,t._isFront=!0,t._cParams=null,t._loop=!1,t}return __extends(i,e),i.prototype.init=function(e,n,i,o,a){if(void 0===o&&(o=!0),void 0===a&&(a=!0),n<=0||"number"!=typeof n)throw new Error("annie.Tween.to()或者annie.Tween.from()方法的第二个参数一定要是大于0的数字");var r=this;r.currentFrame=1;var s=n*t.Stage._FPS>>0;r.totalFrames=s>0?s:1,r.target=e,r._isTo=o,r._isLoop=0,r._startData={},r._disData={},r._delay=0,r._isFront=!0,r._ease=null,r._update=null,r._cParams=null,r._loop=!1,r._completeFun=null;for(var l in i)switch(l){case"useFrame":1==i[l]&&(r.totalFrames=n);break;case"yoyo":"number"==typeof i[l]?r._isLoop=i[l]:0==i[l]?r._isLoop=0:1==i[l]&&(r._isLoop=Number.MAX_VALUE);break;case"delay":i.useFrame?r._delay=i[l]:r._delay=i[l]*t.Stage._FPS>>0;break;case"ease":r._ease=i[l];break;case"onUpdate":r._update=i[l];break;case"onComplete":r._completeFun=i[l];break;case"completeParams":r._cParams=i[l];break;case"loop":r._loop=i[l];break;default:"number"==typeof i[l]&&(o?(r._startData[l]=e[l],r._disData[l]=i[l]-e[l]):(r._startData[l]=i[l],r._disData[l]=e[l]-i[l],e[l]=i[l]))}},i.prototype.update=function(){var t=this;if(!t.pause){if(t._isFront&&t._delay>0)return void t._delay--;var e=t.currentFrame/t.totalFrames;if(!(e<0||e>1)){t._ease&&(e=t._ease(e));var i=!1;for(var o in t._disData)i=!0,t.target[o]=t._startData[o]+t._disData[o]*e;if(!i)return void n.kill(t.instanceId);t._update&&t._update(e);var a=t._completeFun,r=t._cParams;t._isFront?++t.currentFrame>t.totalFrames&&(t._loop?t.currentFrame=1:(a&&a(r,0==t._isLoop),t._isLoop>0?(t._isFront=!1,t.currentFrame=t.totalFrames,t._isLoop--):n.kill(t.instanceId))):--t.currentFrame<0&&(a&&a(r,0==t._isLoop),t._isLoop>0?(t._isFront=!0,t.currentFrame=1):n.kill(t.instanceId))}}},i.prototype.destroy=function(){var t=this;t._update=null,t._completeFun=null,t._ease=null},i}(t.AObject);t.TweenObj=e;var n=function(){function n(){}return n.to=function(t,e,i){return n.createTween(t,e,i,!0)},n.from=function(t,e,i){return n.createTween(t,e,i,!1)},n.createTween=function(i,o,a,r,s){void 0===s&&(s=!0);for(var l,c=n._tweenList.length,u=0;u<c;u++)if(l=n._tweenList[u],i==l.target)for(var _ in l._startData)void 0!=a[_]&&(delete l._startData[_],delete l._disData[_]);return c=n._tweenPool.length,c>0?(l=n._tweenPool.shift(),l._instanceId=t.AObject._object_id++):l=new e,n._tweenList.push(l),l.init(i,o,a,r,s),l.instanceId},n.killAll=function(){for(var t,e=n._tweenList.length,i=0;i<e;i++)t=n._tweenList[i],t.target=null,t._completeFun=null,t._cParams=null,t._update=null,t._ease=null,t._loop=!1,n._tweenPool.push(t);n._tweenList.length=0},n.kill=function(t){for(var e,i=n._tweenList.length,o=0;o<i;o++)if(e=n._tweenList[o],e.instanceId==t){e.target=null,e._completeFun=null,e._cParams=null,e._update=null,e._ease=null,e._loop=null,n._tweenPool.push(e),n._tweenList.splice(o,1);break}},n.quadraticIn=function(t){return t*t},n.quadraticOut=function(t){return t*(2-t)},n.quadraticInOut=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},n.cubicIn=function(t){return t*t*t},n.cubicOut=function(t){return--t*t*t+1},n.cubicInOut=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},n.quarticIn=function(t){return t*t*t*t},n.quarticOut=function(t){return 1- --t*t*t*t},n.quarticInOut=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},n.quinticIn=function(t){return t*t*t*t*t},n.quinticOut=function(t){return--t*t*t*t*t+1},n.quinticInOut=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},n.sinusoidalIn=function(t){return 1-Math.cos(t*Math.PI/2)},n.sinusoidalOut=function(t){return Math.sin(t*Math.PI/2)},n.sinusoidalInOut=function(t){return.5*(1-Math.cos(Math.PI*t))},n.exponentialIn=function(t){return 0==t?0:Math.pow(1024,t-1)},n.exponentialOut=function(t){return 1==t?1:1-Math.pow(2,-10*t)},n.exponentialInOut=function(t){return 0==t?0:1==t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},n.circularIn=function(t){return 1-Math.sqrt(1-t*t)},n.circularOut=function(t){return Math.sqrt(1- --t*t)},n.circularInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},n.elasticIn=function(t){return 0==t?0:1==t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},n.elasticOut=function(t){return 0==t?0:1==t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},n.elasticInOut=function(t){return 0==t?0:1==t?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1)},n.backIn=function(t){var e=1.70158;return t*t*((e+1)*t-e)},n.backOut=function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},n.backInOut=function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},n.bounceIn=function(t){return 1-n.bounceOut(1-t)},n.bounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},n.bounceInOut=function(t){return t<.5?.5*n.bounceIn(2*t):.5*n.bounceOut(2*t-1)+.5},n.flush=function(){for(var t=n._tweenList.length,e=t-1;e>=0;e--)n._tweenList[e]?n._tweenList[e].update():n._tweenList.splice(e,1)},n._tweenPool=[],n._tweenList=[],n}();t.Tween=n}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(i,o){void 0===o&&(o=0);var a=e.call(this)||this;a._currentCount=0,a._delay=0,a._frameDelay=0,a._currentFrameDelay=0,a._repeatCount=0,a._running=!1,i<=0&&(i=1);var r=a;return r._delay=i,r._frameDelay=Math.ceil(.001*i*t.Stage._FPS),r._repeatCount=o,n._timerList.push(r),a}return __extends(n,e),n.prototype.reset=function(){var t=this;t._running=!1,t._currentCount=0,t._currentFrameDelay=0},n.prototype.start=function(){var t=this;t._running=!0,t._currentCount==t._repeatCount&&(t._currentCount=0)},n.prototype.stop=function(){this._running=!1},Object.defineProperty(n.prototype,"currentCount",{get:function(){return this._currentCount},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"delay",{get:function(){return this._delay},set:function(e){this._delay=e,this._frameDelay=Math.ceil(.001*e*t.Stage._FPS)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"repeatCount",{get:function(){return this._repeatCount},set:function(t){t<0&&(t=0),this._repeatCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"running",{get:function(){return this._running},enumerable:!0,configurable:!0}),n.prototype.kill=function(){for(var t=n._timerList.length,e=this,i=0;i<t;i++)if(n._timerList[i]._instanceId==e._instanceId){n._timerList.splice(i,1);break}},n.prototype.update=function(){var t=this;t._running&&++t._currentFrameDelay==t._frameDelay&&(t._repeatCount&&t._currentCount++,t._currentFrameDelay=0,t.dispatchEvent("onTimer"),t._repeatCount&&t._currentCount==t._repeatCount&&(t._running=!1,t.dispatchEvent("onTimerComplete")))},n.flush=function(){for(var t=n._timerList.length,e=t-1;e>=0;e--)n._timerList[e]?n._timerList[e].update():n._timerList.splice(e,1)},n.prototype.destroy=function(){this.kill(),e.prototype.destroy.call(this)},n._timerList=[],n}(t.EventDispatcher);t.Timer=e}(annie||(annie={}));var annie;!function(t){t.version="annie_MinGame_3.2.3",t.app=null,t.isSharedCanvas=!1,t.globalDispatcher=new t.EventDispatcher,t.devicePixelRatio=1,t.StageScaleMode={EXACT_FIT:"exactFit",NO_BORDER:"noBorder",NO_SCALE:"noScale",SHOW_ALL:"showAll",FIXED_WIDTH:"fixedWidth",FIXED_HEIGHT:"fixedHeight"};var e;t.toDisplayDataURL=function(n,i,o,a){void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=""),e||(e=new t.OffCanvasRender,e.init()),n._updateMatrix(),null==i&&(i=n.getBounds());var r=Math.ceil(i.width),s=Math.ceil(i.height);return e.reSize(r,s),e.begin(a),t.OffCanvasRender._ctx.translate(-i.x,-i.y),e.draw(n),o?(o.type="jpeg",o.quality?o.quality/=100:o.quality=.8):o={type:"png"},t.OffCanvasRender.rootContainer.toDataURL("image/"+o.type,o.quality)},t.getStagePixels=function(e,n){var i=e.localToGlobal(new t.Point(n.x,n.y));return t.CanvasRender._ctx.getImageData(i.x,i.y,n.width,n.height)}}(annie||(annie={})),annie.Stage.addUpdateObj(annie.Tween),annie.Stage.addUpdateObj(annie.Timer);
annie.A2xExtend=__extends;
annie.app=wx;
GameGlobal.AnnieRoot=annie.classPool;
GameGlobal.trace = console.log;
GameGlobal.annie = annie;
module.exports=annie;
