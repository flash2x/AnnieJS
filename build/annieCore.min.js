var __extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},annie;!function(t){var e=function(){function t(){this._instanceId=0,this._instanceType="annie.AObject",this._instanceId=t._object_id++}return Object.defineProperty(t.prototype,"instanceId",{get:function(){return this._instanceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"instanceType",{get:function(){return this._instanceType},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){},t._object_id=0,t}();t.AObject=e;var n=function(e){function n(){e.call(this),this.eventTypes={},this.eventTypes1={},this._instanceType="annie.EventDispatcher"}return __extends(n,e),n.getMouseEventCount=function(t){void 0===t&&(t="");var e=0;if(""==t)for(var i in n._MECO)0==i.indexOf("onMouse")&&(e+=n._MECO[i]);else n._MECO[t]&&(e=n._MECO[t]);return e},n.prototype.addEventListener=function(t,e,n){if(void 0===n&&(n=!0),!t)throw new Error("添加侦听的type值为undefined");if(!e)throw new Error("侦听回调函数不能为null");var i=this,r=i.eventTypes;n||(r=i.eventTypes1),r[t]||(r[t]=[]),r[t].indexOf(e)<0&&(r[t].unshift(e),0==t.indexOf("onMouse")&&i._changeMouseCount(t,!0))},n.prototype._changeMouseCount=function(t,e){var i=e?1:-1;n._MECO[t]||(n._MECO[t]=0),n._MECO[t]+=i,n._MECO[t]<0&&(n._MECO[t]=0),n._totalMEC+=i},n.prototype.dispatchEvent=function(e,n,i){void 0===n&&(n=null),void 0===i&&(i=!0);var r=this;"string"==typeof e&&(r._defaultEvent?r._defaultEvent.reset(e,r):r._defaultEvent=new t.Event(e),e=r._defaultEvent);var o=r.eventTypes[e.type];if(i||(o=r.eventTypes1[e.type]),o){var a=o.length;null==e.target&&(e.target=r),null!=n&&(e.data=n);for(var s=a-1;s>=0;s--)e._pd||(o[s]?o[s](e):o.splice(s,1));return!0}return!1},n.prototype.hasEventListener=function(t,e){void 0===e&&(e=!0);var n=this;if(e){if(n.eventTypes[t]&&n.eventTypes[t].length>0)return!0}else if(n.eventTypes1[t]&&n.eventTypes1[t].length>0)return!0;return!1},n.prototype.removeEventListener=function(t,e,n){void 0===n&&(n=!0);var i=this,r=i.eventTypes[t];if(n||(r=i.eventTypes1[t]),r)for(var o=r.length,a=o-1;a>=0;a--)r[a]===e&&(r.splice(a,1),0==t.indexOf("onMouse")&&i._changeMouseCount(t,!1))},n.prototype.removeAllEventListener=function(){var t=this;for(var e in t.eventTypes)if(0==e.indexOf("onMouse"))for(var n=0;n<t.eventTypes[e].length;n++)t._changeMouseCount(e,!1);for(var e in t.eventTypes1)if(0==e.indexOf("onMouse"))for(var n=0;n<t.eventTypes1[e].length;n++)t._changeMouseCount(e,!1);t.eventTypes1={},t.eventTypes={}},n.prototype.destroy=function(){this.removeAllEventListener()},n._MECO={},n._totalMEC=0,n}(e);t.EventDispatcher=n}(annie||(annie={}));var annie;!function(t){var e=function(t){function e(e){t.call(this),this.type="",this.target=null,this.data=null,this._bpd=!1,this._pd=!1,this._instanceType="annie.Event",this.type=e}return __extends(e,t),e.prototype.stopImmediatePropagation=function(){this._pd=!0},e.prototype.stopPropagation=function(){this._bpd=!0},e.prototype.destroy=function(){var t=this;t.target=null,t.data=null},e.prototype.reset=function(t,e){var n=this;n.target=e,n._pd=!1,n._bpd=!1,n.type=t},e.ON_INIT_STAGE="onInitStage",e.RESIZE="onResize",e.ON_RUN_CHANGED="onRunChanged",e.ON_PLAY_UPDATE="onPlayUpdate",e.ON_PLAY_END="onPlayEnd",e.ON_PLAY_START="onPlayStart",e.ON_FLIP_START="onFlipStart",e.ON_FLIP_STOP="onFlipStop",e.ON_SCROLL_TO_HEAD="onScrollToHead",e.ON_SCROLL_STOP="onScrollStop",e.ON_SCROLL_START="onScrollStart",e.ON_SCROLL_TO_END="onScrollToEnd",e.ON_SLIDE_START="onSlideStart",e.ON_SLIDE_END="onSlideEnd",e.ADD_TO_STAGE="onAddToStage",e.REMOVE_TO_STAGE="onRemoveToStage",e.ENTER_FRAME="onEnterFrame",e.END_FRAME="onEndFrame",e.CALL_FRAME="onCallFrame",e.COMPLETE="onComplete",e.PROGRESS="onProgress",e.ERROR="onError",e.ABORT="onAbort",e.START="onStart",e.TIMER="onTimer",e.TIMER_COMPLETE="onTimerComplete",e.ON_DRAW_PERCENT="onDrawTime",e}(t.AObject);t.Event=e}(annie||(annie={}));var annie;!function(t){var e=function(t){function e(e){t.call(this,e),this.clientX=0,this.clientY=0,this.stageX=0,this.stageY=0,this.localX=0,this.localY=0,this.currentTarget=null,this.identifier=0,this._instanceType="annie.MouseEvent"}return __extends(e,t),e.prototype.updateAfterEvent=function(){this.target.stage._cp=!0},e.prototype.destroy=function(){this.currentTarget=null,t.prototype.destroy.call(this)},e.MOUSE_DOWN="onMouseDown",e.MOUSE_UP="onMouseUp",e.CLICK="onMouseClick",e.MOUSE_MOVE="onMouseMove",e.MOUSE_OVER="onMouseOver",e.MOUSE_OUT="onMouseOut",e}(t.Event);t.MouseEvent=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(n){e.call(this,n),this.clientPoint1=new t.Point,this.clientPoint2=new t.Point,this.scale=0,this.rotate=0,this._instanceType="annie.TouchEvent"}return __extends(n,e),n.prototype.updateAfterEvent=function(){this.target.stage._cp=!0},n.prototype.destroy=function(){var t=this;t.clientPoint1=null,t.clientPoint2=null,e.prototype.destroy.call(this)},n.ON_MULTI_TOUCH="onMultiTouch",n}(t.Event);t.TouchEvent=e}(annie||(annie={}));var annie;!function(t){var e=function(t){function e(e,n){void 0===e&&(e=0),void 0===n&&(n=0),t.call(this),this.x=0,this.y=0;var i=this;i._instanceType="annie.Point",i.x=e,i.y=n}return __extends(e,t),e.prototype.destroy=function(){},e.distance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t.length;return 4==n?Math.sqrt((t[0]-t[2])*(t[0]-t[2])+(t[1]-t[3])*(t[1]-t[3])):2==n?Math.sqrt((t[0].x-t[1].x)*(t[0].x-t[1].x)+(t[0].y-t[1].y)*(t[0].y-t[1].y)):void 0},e}(t.AObject);t.Point=e}(annie||(annie={}));var annie;!function(t){function e(t){switch(t){case r:case-o:return 0;case i:case-i:return-1;case o:case-r:return 0;default:return Math.cos(t)}}function n(t){switch(t){case r:case-o:return 1;case i:case-i:return 0;case o:case-r:return-1;default:return Math.sin(t)}}var i=Math.PI,r=i>>1,o=i+r,a=Math.PI/180,s=function(i){function r(e,n,r,o,a,s){void 0===e&&(e=1),void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=1),void 0===a&&(a=0),void 0===s&&(s=0),i.call(this),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.transformPoint=function(e,n,i){void 0===i&&(i=null);var r=this;return i||(i=new t.Point),i.x=e*r.a+n*r.c+r.tx,i.y=e*r.b+n*r.d+r.ty,i},this.prepend=function(t){var e=this,n=t.a,i=t.b,r=t.c,o=t.d,a=t.tx,s=t.ty,l=e.a,u=e.c,c=e.tx;e.a=n*l+r*e.b,e.b=i*l+o*e.b,e.c=n*u+r*e.d,e.d=i*u+o*e.d,e.tx=n*c+r*e.ty+a,e.ty=i*c+o*e.ty+s};var l=this;l._instanceType="annie.Matrix",l.a=e,l.b=n,l.c=r,l.d=o,l.tx=a,l.ty=s}return __extends(r,i),r.prototype.clone=function(){var t=this;return new r(t.a,t.b,t.c,t.d,t.tx,t.ty)},r.prototype.setFrom=function(t){var e=this;e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.tx=t.tx,e.ty=t.ty},r.prototype.identity=function(){var t=this;t.a=t.d=1,t.b=t.c=t.tx=t.ty=0},r.prototype.invert=function(){var t=this,e=new r(t.a,t.b,t.c,t.d,t.tx,t.ty),n=t.a,i=t.b,o=t.c,a=t.d,s=t.tx,l=t.ty;if(0==i&&0==o)return 0==n||0==a?e.a=e.d=e.tx=e.ty=0:(n=e.a=1/n,a=e.d=1/a,e.tx=-n*s,e.ty=-a*l),e;var u=n*a-i*o;if(0==u)return e.identity(),e;u=1/u;var c=e.a=a*u;return i=e.b=-i*u,o=e.c=-o*u,a=e.d=n*u,e.tx=-(c*s+o*l),e.ty=-(i*s+a*l),e},r.prototype.createBox=function(t,i,r,o,s,l,u,c,h){var d=this;if(0!=s?l=u=s%360:(l%=360,u%=360),0==l&&0==u)d.a=r,d.b=d.c=0,d.d=o;else{l*=a,u*=a;var p=e(l),_=n(l);l==u?(d.a=p*r,d.b=_*r):(d.a=e(u)*r,d.b=n(u)*r),d.c=-_*o,d.d=p*o}d.tx=t+c-(c*d.a+h*d.c),d.ty=i+h-(c*d.b+h*d.d)},r.isEqual=function(t,e){return t.tx==e.tx&&t.ty==e.ty&&t.a==e.a&&t.b==e.b&&t.c==e.c&&t.d==e.d},r.prototype.concat=function(t){var e=this,n=e.a,i=e.b,r=e.c,o=e.d,a=e.tx,s=e.ty,l=t.a,u=t.b,c=t.c,h=t.d,d=t.tx,p=t.ty;e.a=n*l+i*c,e.b=n*u+i*h,e.c=r*l+o*c,e.d=r*u+o*h,e.tx=a*l+s*c+d,e.ty=a*u+s*h+p},r.prototype.rotate=function(t){var e=this,n=Math.sin(t),i=Math.cos(t),r=e.a,o=e.b,a=e.c,s=e.d,l=e.tx,u=e.ty;e.a=r*i-o*n,e.b=r*n+o*i,e.c=a*i-s*n,e.d=a*n+s*i,e.tx=l*i-u*n,e.ty=l*n+u*i},r.prototype.scale=function(t,e){var n=this;n.a*=t,n.d*=e,n.c*=t,n.b*=e,n.tx*=t,n.ty*=e},r.prototype.translate=function(t,e){var n=this;n.tx+=t,n.ty+=e},r.prototype.destroy=function(){},r}(t.AObject);t.Matrix=s}(annie||(annie={}));var annie;!function(t){var e=function(t){function e(e,n,i,r){void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=0),t.call(this),this.x=0,this.y=0,this.width=0,this.height=0;var o=this;o._instanceType="annie.Rectangle",o.x=e,o.y=n,o.height=r,o.width=i}return __extends(e,t),e.prototype.isPointIn=function(t){var e=this;return t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height},e.createFromRects=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(0==t.length)return null;if(1==t.length)return t[0];for(var n=t[0],i=n.x,r=n.y,o=n.width,a=n.height,s=void 0,l=void 0,u=void 0,c=void 0,h=1;h<t.length;h++)s=i+o,u=r+a,l=t[h].x+t[h].width,c=t[h].y+t[h].height,(i>t[h].x||0==s)&&(i=t[h].x),(r>t[h].y||0==u)&&(r=t[h].y),s<l&&(s=l),u<c&&(u=c),n.x=i,n.y=r,n.width=s-i,n.height=u-r;return n},e.createFromPoints=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=e[0].x,r=e[0].y,o=e[0].x,a=e[0].y,s=1;s<e.length;s++)null!=e[s]&&(i>e[s].x&&(i=e[s].x),r>e[s].y&&(r=e[s].y),o<e[s].x&&(o=e[s].x),a<e[s].y&&(a=e[s].y));return t.x=i,t.y=r,t.width=o-i,t.height=a-r,t},e.createRectform2Point=function(t,e,n){var i=e.x,r=e.y,o=e.x,a=e.y;i>n.x&&(i=n.x),r>n.y&&(r=n.y),o<n.x&&(o=n.x),a<n.y&&(a=n.y),t.x=i,t.y=r,t.width=o-i,t.height=a-r},e.testRectCross=function(t,e){var n,i,r,o;return n=t.x+t.width/2,i=t.y+t.height/2,r=e.x+e.width/2,o=e.y+e.height/2,Math.abs(n-r)<=t.width/2+e.width/2&&Math.abs(i-o)<=t.height/2+e.height/2},e.prototype.destroy=function(){},e}(t.AObject);t.Rectangle=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(){e.call(this),this._UI={UD:!1,UM:!0,UA:!0,UF:!1},this.stage=null,this.parent=null,this.cAlpha=1,this.cMatrix=new t.Matrix,this.mouseEnable=!0,this.cFilters=[],this.name="",this._x=0,this._y=0,this._scaleX=1,this._scaleY=1,this._rotation=0,this._alpha=1,this._skewX=0,this._skewY=0,this._anchorX=0,this._anchorY=0,this._visible=!0,this._matrix=new t.Matrix,this._mask=null,this._filters=[],this._cp=!0,this._dragBounds=new t.Rectangle,this._isDragCenter=!1,this._lastDragPoint=new t.Point,this._isUseToMask=0,this._texture=null,this._offsetX=0,this._offsetY=0,this._bounds=new t.Rectangle,this._drawRect=new t.Rectangle,this.soundList=[],this._a2x_res_obj={},this._instanceType="annie.DisplayObject"}return __extends(n,e),Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(t){this._setProperty("_x",t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(t){this._setProperty("_y",t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleX",{get:function(){return this._scaleX},set:function(t){this._setProperty("_scaleX",t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleY",{get:function(){return this._scaleY},set:function(t){this._setProperty("_scaleY",t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._setProperty("_rotation",t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alpha",{get:function(){return this._alpha},set:function(t){this._setProperty("_alpha",t,1)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"skewX",{get:function(){return this._skewX},set:function(t){this._setProperty("_skewX",t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"skewY",{get:function(){return this._skewY},set:function(t){this._setProperty("_skewY",t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anchorX",{get:function(){return this._anchorX},set:function(t){this._setProperty("_anchorX",t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anchorY",{get:function(){return this._anchorY},set:function(t){this._setProperty("_anchorY",t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this._visible},set:function(t){var e=this;t!=e._visible&&(t&&(e._cp=!0),e._visible=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"matrix",{get:function(){return this._matrix},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mask",{get:function(){return this._mask},set:function(t){var e=this;t!=e._mask&&(t?t._isUseToMask++:null!=e._mask&&e._mask._isUseToMask--,e._mask=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filters",{get:function(){return this._filters},set:function(t){this._setProperty("_filters",t,2)},enumerable:!0,configurable:!0}),n.prototype.globalToLocal=function(t,e){return void 0===e&&(e=null),this.cMatrix.invert().transformPoint(t.x,t.y,e)},n.prototype.localToGlobal=function(t,e){void 0===e&&(e=null);var n=this;return n.parent?n.parent.cMatrix.transformPoint(t.x,t.y,e):n.cMatrix.transformPoint(t.x,t.y,e)},n.prototype.startDrag=function(e,n){void 0===e&&(e=!1),void 0===n&&(n=null);var i=this;if(!i.stage)return void console.log("The DisplayObject is not on stage");t.Stage._dragDisplay=i,i._isDragCenter=e,i._lastDragPoint.x=Number.MAX_VALUE,i._lastDragPoint.y=Number.MAX_VALUE,n?(i._dragBounds.x=n.x,i._dragBounds.y=n.y,i._dragBounds.width=n.width,i._dragBounds.height=n.height):(i._dragBounds.x=0,i._dragBounds.y=0,i._dragBounds.width=0,i._dragBounds.height=0)},n.prototype.stopDrag=function(){t.Stage._dragDisplay==this&&(t.Stage._dragDisplay=null)},n.prototype.hitTestPoint=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var r=this;if(!r.visible||!r.mouseEnable&&i)return null;var o;return o=e?r.globalToLocal(t,n._bp):t,r.getBounds().isPointIn(o)?r:null},n.prototype.getBounds=function(){return this._bounds},n.prototype.getDrawRect=function(){var e=this,i=e.getBounds();if(e._mask){var r=e._mask.getDrawRect();i.x<r.x&&(i.x=r.x),i.y<r.y&&(i.y=r.y),i.width>r.width&&(i.width=r.width),i.height>r.height&&(i.height=r.height)}return e.matrix.transformPoint(i.x,i.y,n._p1),e.matrix.transformPoint(i.x+i.width,i.y,n._p2),e.matrix.transformPoint(i.x+i.width,i.y+i.height,n._p3),e.matrix.transformPoint(i.x,i.y+i.height,n._p4),t.Rectangle.createFromPoints(e._drawRect,n._p1,n._p2,n._p3,n._p4),e._drawRect},n.prototype.updateMatrix=function(){var t=this,e=t._UI;if(t._cp)e.UM=e.UA=e.UF=!0,t._cp=!1;else if(t.parent){var n=t.parent._UI;n.UM&&(e.UM=!0),n.UA&&(e.UA=!0),n.UF&&(e.UF=!0)}if(e.UM&&(t._matrix.createBox(t._x,t._y,t._scaleX,t._scaleY,t._rotation,t._skewX,t._skewY,t._anchorX,t._anchorY),t.cMatrix.setFrom(t._matrix),t.parent&&t.cMatrix.prepend(t.parent.cMatrix)),e.UA&&(t.cAlpha=t._alpha,t.parent&&(t.cAlpha*=t.parent.cAlpha)),e.UF){t.cFilters.length=0;var i=t._filters;if(i)for(var r=i.length,o=0;o<r;o++)t.cFilters.push(i[o]);if(t.parent&&t.parent.cFilters.length>0)for(var r=t.parent.cFilters.length,a=t.parent.cFilters,o=r-1;o>=0;o--)t.cFilters.unshift(a[o])}},n.prototype.render=function(t){var e=this;if(e._visible&&(e.updateMatrix(),e.cAlpha>0)){var n=e.cFilters,i=n.length,r=-1;if(i)for(var o=0;o<i;o++)if("Shadow"==e.cFilters[o].type){r=o;break}if(r>=0){var a=t._ctx;a.shadowBlur=n[r].blur,a.shadowColor=n[r].color,a.shadowOffsetX=n[r].offsetX,a.shadowOffsetY=n[r].offsetY,t.draw(e),a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0}else t.draw(e)}},Object.defineProperty(n.prototype,"width",{get:function(){return this.getWH().width},set:function(t){var e=this,n=e.width;if(t>0&&n>0){var i=t/n;e.scaleX*=i}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.getWH().height},set:function(t){var e=this,n=e.height;if(t>0&&n>0){var i=t/n;e.scaleY*=i}},enumerable:!0,configurable:!0}),n.prototype.getWH=function(){var t=this;t.updateMatrix();var e=t.getDrawRect();return{width:e.width,height:e.height}},n.prototype._setProperty=function(t,e,n){var i=this;if(i[t]!=e){i[t]=e;var r=i._UI;0==n?r.UM=!0:1==n?r.UA=!0:2==n?r.UF=!0:3==n&&(r.UD=!0)}},n.prototype.stopAllSounds=function(){var t=this.soundList;if(t)for(var e=t.length-1;e>=0;e--)t[e].stop()},n.prototype.getSound=function(t){var e=this.soundList,n=[];if(e)if("string"==typeof t)for(var i=e.length-1;i>=0;i--)e[i].name==t&&n.push(e[i]);else t>=0&&t<e.length&&n.push(e[t]);return n},n.prototype.addSound=function(t){var e=this;e.soundList||(e.soundList=[]),e.soundList.push(t)},n.prototype.removeSound=function(t){var e=this.soundList;if(e)if("string"==typeof t)for(var n=e.length-1;n>=0;n--)e[n].name==t&&e.splice(t,1);else t>=0&&t<e.length&&e.splice(t,1)},n.prototype.destroy=function(){var t=this;t.stopDrag(),t.stopAllSounds();for(var n=0;n<t.soundList.length;n++)t.soundList[n].destroy();t._a2x_res_obj=null,t.mask=null,t.filters=null,t.parent=null,t.stage=null,t._bounds=null,t._drawRect=null,t._dragBounds=null,t._lastDragPoint=null,t.cFilters=null,t._matrix=null,t.cMatrix=null,t._UI=null,t._texture=null,t._visible=!1,e.prototype.destroy.call(this)},n.prototype.updateEventAndScript=function(e){var n=this;if(e<2){var i=n.soundList;if(0==e){if(i.length>0)for(var r=0;r<i.length;r++)i[r].stop2();n.dispatchEvent(t.Event.REMOVE_TO_STAGE)}else{if(i.length>0)for(var r=0;r<i.length;r++)i[r].play2();n.dispatchEvent(t.Event.ADD_TO_STAGE)}}else 2==e&&n.dispatchEvent(t.Event.ENTER_FRAME)},n._bp=new t.Point,n._p1=new t.Point,n._p2=new t.Point,n._p3=new t.Point,n._p4=new t.Point,n._canvas=window.document.createElement("canvas"),n}(t.EventDispatcher);t.DisplayObject=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(t,n){void 0===t&&(t=null),void 0===n&&(n=null),e.call(this),this._bitmapData=null,this._realCacheImg=null,this._rect=null,this._isCache=!1,this.hitTestWidthPixel=!1;var i=this;i._instanceType="annie.Bitmap",i._rect=n,i.bitmapData=t}return __extends(n,e),Object.defineProperty(n.prototype,"rect",{get:function(){return this._rect},set:function(t){var e=this;e._rect=t,e._UI.UD=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bitmapData",{get:function(){return this._bitmapData},set:function(t){var e=this;e._setProperty("_bitmapData",t,3),t?(e._bounds.width=e._rect?e._rect.width:t.width,e._bounds.height=e._rect?e._rect.height:t.height):e._bounds.width=e._bounds.height=0},enumerable:!0,configurable:!0}),n.prototype.updateMatrix=function(){var t=this;e.prototype.updateMatrix.call(this);var n=t._bitmapData;if((t._UI.UD||t._UI.UF)&&n){if(0==n.width||0==n.height)return;if(t._UI.UD=!1,t.cFilters.length>0){t._realCacheImg||(t._realCacheImg=window.document.createElement("canvas"));var i=t._realCacheImg,r=t._rect,o=r?r.width:n.width,a=r?r.height:n.height,s=o+20,l=a+20;i.width=s,i.height=l;var u=i.getContext("2d");u.clearRect(0,0,s,l),u.translate(10,10),u.shadowBlur=0,u.shadowColor="#0",u.shadowOffsetX=0,u.shadowOffsetY=0,r?u.drawImage(t._bitmapData,r.x,r.y,o,a,0,0,o,a):u.drawImage(t._bitmapData,0,0);var c=t.cFilters,h=c.length;if(h>0){for(var d=u.getImageData(0,0,s,l),p=0;p<h;p++)c[p].drawFilter(d);u.putImageData(d,0,0)}t._texture=t._realCacheImg,t._offsetX=-10,t._offsetY=-10,t._isCache=!0}else t._isCache=!1,t._offsetX=0,t._offsetY=0,t._texture=n;var _=void 0,f=void 0;t._rect?(_=t._rect.width,f=t._rect.height):(_=t._texture.width+2*t._offsetX,f=t._texture.height+2*t._offsetY),t._bounds.width=_,t._bounds.height=f}t._UI.UF=!1,t._UI.UM=!1,t._UI.UA=!1},n.convertToImage=function(t,e){if(void 0===e&&(e=!0),t._rect){var n=window.document.createElement("canvas"),i=t._rect.width,r=t._rect.height;n.width=i,n.height=r;var o=n.getContext("2d"),a=t._rect;if(o.drawImage(t.bitmapData,a.x,a.y,i,r,0,0,i,r),e){var s=new Image;return s.src=n.toDataURL(),s}return n}return t.bitmapData},n.prototype.hitTestPoint=function(n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1);var o=this;if(e.prototype.hitTestPoint.call(this,n,i,r)){if(!o.hitTestWidthPixel)return o;var a=void 0;a=i?o.globalToLocal(n):n,a.x+=o._offsetX,a.y+=o._offsetY;var s=o._texture;if(!s||0==s.width||0==s.height)return null;var l=t.DisplayObject._canvas;l.width=1,l.height=1;var u=l.getContext("2d");if(u.clearRect(0,0,1,1),o._rect&&(a.x+=o._rect.x,a.y+=o._rect.y),u.setTransform(1,0,0,1,-a.x,-a.y),u.drawImage(s,0,0),u.getImageData(0,0,1,1).data[3]>0)return o}return null},n.prototype.destroy=function(){var t=this;t._bitmapData=null,t._realCacheImg=null,t._rect=null,e.prototype.destroy.call(this)},n}(t.DisplayObject);t.Bitmap=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(){e.call(this),this._command=[],this.hitTestWidthPixel=!0,this.beginRadialGradientFill=function(t,e){this._fill(n.getGradientColor(t,e))},this.beginRadialGradientStroke=function(t,e,i,r,o,a){void 0===i&&(i=1),void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=10),this._stroke(n.getGradientColor(t,e),i,r,o,a)},this.decodePath=function(t){for(var e=this,n=["moveTo","lineTo","quadraticCurveTo","bezierCurveTo","closePath"],i=t.length,r=0;r<i;r++)0==t[r]||1==t[r]?(e.addDraw(n[t[r]],[t[r+1],t[r+2]]),r+=2):(e.addDraw(n[t[r]],[t[r+1],t[r+2],t[r+3],t[r+4]]),r+=4)},this._instanceType="annie.Shape",this._texture=window.document.createElement("canvas")}return __extends(n,e),n.getGradientColor=function(e,i){var r,o=t.DisplayObject._canvas.getContext("2d");r=4==e.length?o.createLinearGradient(e[0],e[1],e[2],e[3]):o.createRadialGradient(e[0],e[1],0,e[2],e[3],e[4]);for(var a=0,s=i.length;a<s;a++)r.addColorStop(i[a][0],n.getRGBA(i[a][1],i[a][2]));return r},n.getBitmapStyle=function(e){return t.DisplayObject._canvas.getContext("2d").createPattern(e,"repeat")},n.getRGBA=function(t,e){if(0==t.indexOf("0x")&&(t=t.replace("0x","#")),t.length<7&&(t="#000000"),1!=e){t="rgba("+parseInt("0x"+t.substr(1,2))+","+parseInt("0x"+t.substr(3,2))+","+parseInt("0x"+t.substr(5,2))+","+e+")"}return t},n.prototype.addDraw=function(t,e){var n=this;n._UI.UD=!0,n._command[n._command.length]=[1,t,e]},n.prototype.drawRoundRect=function(t,e,n,i,r,o,a,s){void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0);var l=(n<i?n:i)/2,u=0,c=0,h=0,d=0;r<0&&(r*=u=-1),r>l&&(r=l),o<0&&(o*=c=-1),o>l&&(o=l),s<0&&(s*=h=-1),s>l&&(s=l),a<0&&(a*=d=-1),a>l&&(a=l);var p=this._command;p[p.length]=[1,"moveTo",[t+n-o,e]],p[p.length]=[1,"arcTo",[t+n+o*c,e-o*c,t+n,e+o,o]],p[p.length]=[1,"lineTo",[t+n,e+i-s]],p[p.length]=[1,"arcTo",[t+n+s*h,e+i+s*h,t+n-s,e+i,s]],p[p.length]=[1,"lineTo",[t+a,e+i]],p[p.length]=[1,"arcTo",[t-a*d,e+i+a*d,t,e+i-a,a]],p[p.length]=[1,"lineTo",[t,e+r]],p[p.length]=[1,"arcTo",[t-r*u,e-r*u,t+r,e,r]],p[p.length]=[1,"closePath",[]]},n.prototype.moveTo=function(t,e){this._command[this._command.length]=[1,"moveTo",[t,e]]},n.prototype.lineTo=function(t,e){this._command[this._command.length]=[1,"lineTo",[t,e]]},n.prototype.arcTo=function(t,e){this._command[this._command.length]=[1,"arcTo",[t,e]]},n.prototype.quadraticCurveTo=function(t,e,n,i){this._command[this._command.length]=[1,"quadraticCurveTo",[t,e,n,i]]},n.prototype.bezierCurveTo=function(t,e,n,i,r,o){this._command[this._command.length]=[1,"bezierCurveTo",[t,e,n,i,r,o]]},n.prototype.closePath=function(){this._command[this._command.length]=[1,"closePath",[]]},n.prototype.drawRect=function(t,e,n,i){var r=this._command;r[r.length]=[1,"moveTo",[t,e]],r[r.length]=[1,"lineTo",[t+n,e]],r[r.length]=[1,"lineTo",[t+n,e+i]],r[r.length]=[1,"lineTo",[t,e+i]],r[r.length]=[1,"closePath",[]]},n.prototype.drawArc=function(t,e,n,i,r){this._command[this._command.length]=[1,"arc",[t,e,n,i/180*Math.PI,r/180*Math.PI]]},n.prototype.drawCircle=function(t,e,n){this._command[this._command.length]=[1,"arc",[t,e,n,0,2*Math.PI]]},n.prototype.drawEllipse=function(t,e,n,i){var r=.5522848,o=n/2*r,a=i/2*r,s=t+n,l=e+i,u=t+n/2,c=e+i/2,h=this._command;h[h.length]=[1,"moveTo",[t,c]],h[h.length]=[1,"bezierCurveTo",[t,c-a,u-o,e,u,e]],h[h.length]=[1,"bezierCurveTo",[u+o,e,s,c-a,s,c]],h[h.length]=[1,"bezierCurveTo",[s,c+a,u+o,l,u,l]],h[h.length]=[1,"bezierCurveTo",[u-o,l,t,c+a,t,c]]},n.prototype.clear=function(){var t=this;t._command=[],t._UI.UD=!0,t._texture&&(t._texture.width=0,t._texture.height=0),t._offsetX=0,t._offsetY=0,t._bounds.width=0,t._bounds.height=0},n.prototype.beginFill=function(t){this._fill(t)},n.prototype.beginLinearGradientFill=function(t,e){this._fill(n.getGradientColor(t,e))},n.prototype.beginBitmapFill=function(t,e){var i=this;e&&(i._isBitmapFill=e),i._fill(n.getBitmapStyle(t))},n.prototype._fill=function(t){var e=this,n=e._command;n[n.length]=[0,"fillStyle",t],n[n.length]=[1,"beginPath",[]],e._UI.UD=!0},n.prototype.beginStroke=function(t,e,n,i,r){void 0===e&&(e=1),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=0),this._stroke(t,e,n,i,r)},n.prototype.beginLinearGradientStroke=function(t,e,i,r,o,a){void 0===i&&(i=1),void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=10),this._stroke(n.getGradientColor(t,e),i,r,o,a)},n.prototype.beginBitmapStroke=function(t,e,i,r,o,a){void 0===i&&(i=1),void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=10);var s=this;e&&(s._isBitmapStroke=e),s._stroke(n.getBitmapStyle(t),i,r,o,a)},n.prototype._stroke=function(t,e,i,r,o){var a=this._command;a[a.length]=[0,"lineWidth",e],a[a.length]=[0,"lineCap",n._caps[i]],a[a.length]=[0,"lineJoin",n._joins[r]],a[a.length]=[0,"miterLimit",o],a[a.length]=[0,"strokeStyle",t],a[a.length]=[1,"beginPath",[]],this._UI.UD=!0},n.prototype.endFill=function(){var t=this,e=t._command,n=t._isBitmapFill;n&&(e[e.length]=[2,"setTransform",n]),e[e.length]=[1,"fill",[]],n&&(t._isBitmapFill=null)},n.prototype.setLineDash=function(t){void 0===t&&(t=[]);var e=this._command;e[e.length]=[1,"setLineDash",[t,0]]},n.prototype.endStroke=function(){var t=this,e=t._command,n=t._isBitmapStroke;n&&(e[e.length]=[2,"setTransform",n]),e[e.length]=[1,"stroke",[]],n&&(t._isBitmapStroke=null)},n.prototype.updateMatrix=function(){var t=this;if(e.prototype.updateMatrix.call(this),t._UI.UD||t._UI.UF){var n=t._command.length,i=void 0,r=void 0,o=void 0,a=void 0,s=void 0;if(n>0){var l=void 0,u=0,c=0,h=0;for(s=0;s<n;s++)if(l=t._command[s],1==l[0]){if("moveTo"==l[1]||"lineTo"==l[1]||"arcTo"==l[1]||"bezierCurveTo"==l[1])void 0==i&&(i=l[2][0]),void 0==r&&(r=l[2][1]),void 0==o&&(o=l[2][0]),void 0==a&&(a=l[2][1]),"bezierCurveTo"==l[1]?(i=Math.min(i,l[2][0],l[2][2],l[2][4]),r=Math.min(r,l[2][1],l[2][3],l[2][5]),o=Math.max(o,l[2][0],l[2][2],l[2][4]),a=Math.max(a,l[2][1],l[2][3],l[2][5]),u=l[2][4],c=l[2][5]):(i=Math.min(i,l[2][0]),r=Math.min(r,l[2][1]),o=Math.max(o,l[2][0]),a=Math.max(a,l[2][1]),u=l[2][0],c=l[2][1]);else if("quadraticCurveTo"==l[1]){var d=.5*(u+l[2][0]),p=.5*(c+l[2][1]),_=.5*(l[2][0]+l[2][2]),f=.5*(l[2][1]+l[2][3]);void 0==i&&(i=d),void 0==r&&(r=p),void 0==o&&(o=d),void 0==a&&(a=p),i=Math.min(i,d,_,l[2][2]),r=Math.min(r,p,f,l[2][3]),o=Math.max(o,d,_,l[2][2]),a=Math.max(a,p,f,l[2][3]),u=l[2][2],c=l[2][3]}else if("arc"==l[1]){var v=l[2][0],y=l[2][1],g=l[2][2],m=v-g,b=y-g,x=v+g,w=y+g;void 0==i&&(i=m),void 0==r&&(r=b),void 0==o&&(o=x),void 0==a&&(a=w),i=Math.min(i,m),r=Math.min(r,b),o=Math.max(o,x),a=Math.max(a,w)}}else"lineWidth"==l[1]&&h<l[2]&&(h=l[2]);if(void 0!=i||h>0){void 0==i&&(i=0,r=0),i-=20+h>>1,r-=20+h>>1,o+=20+h>>1,a+=20+h>>1;var E=o-i,T=a-r;if(t._offsetX=i,t._offsetY=r,t._bounds.x=i+10,t._bounds.y=r+10,t._bounds.width=E-20,t._bounds.height=T-20,!t._isUseToMask){var P=t._texture,M=P.getContext("2d");P.width=E,P.height=T,M.clearRect(0,0,E,T),M.setTransform(1,0,0,1,-i,-r),t._draw(M);var O=t.cFilters,C=O.length;if(C>0){for(var L=M.getImageData(0,0,E,T),S=0;S<C;S++)O[S].drawFilter(L);M.putImageData(L,0,0)}}}}t._UI.UD=!1}t._UI.UM=!1,t._UI.UA=!1,t._UI.UF=!1},n.prototype._draw=function(t,e){void 0===e&&(e=!1);var n,i=this,r=i._command,o=r.length,a=i._offsetX,s=i._offsetY,l=!1;e&&t.beginPath();for(var u=0;u<o;u++)if(n=r[u],n[0]>0){var c=n[2].length;if(e&&(l||"beginPath"==n[1]||"closePath"==n[1]||0==c))continue;if(0==c)t[n[1]]();else if(2==c)t[n[1]](n[2][0],n[2][1]);else if(4==c)t[n[1]](n[2][0],n[2][1],n[2][2],n[2][3]);else if(5==c)t[n[1]](n[2][0],n[2][1],n[2][2],n[2][3],n[2][4]);else if(6==c){var h=n[2][4],d=n[2][5];2==n[0]&&(h-=a,d-=s),t[n[1]](n[2][0],n[2][1],n[2][2],n[2][3],h,d)}}else e?"strokeStyle"==n[1]?l=!0:"fillStyle"==n[1]&&(l=!1):t[n[1]]=n[2];e&&t.closePath()},n.prototype.hitTestPoint=function(n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1);var o=this;if(e.prototype.hitTestPoint.call(this,n,i,r)){if(o._isUseToMask||!o.hitTestWidthPixel)return o;var a=void 0;a=i?o.globalToLocal(n):n;var s=o._texture;if(!s||0==s.width||0==s.height)return null;var l=t.DisplayObject._canvas;l.width=1,l.height=1,a.x-=o._offsetX,a.y-=o._offsetY;var u=l.getContext("2d");if(u.clearRect(0,0,1,1),u.setTransform(1,0,0,1,-a.x,-a.y),u.drawImage(s,0,0),u.getImageData(0,0,1,1).data[3]>0)return o}return null},n.prototype.changeColor=function(t){for(var e=this,n=e._command.length,i=e._command,r=0;r<n;r++)0==i[r][0]&&("fillStyle"==i[r][1]&&t.fillColor&&i[r][2]!=t.fillColor&&(i[r][2]=t.fillColor,e._UI.UD=!0),"strokeStyle"==i[r][1]&&t.strokeColor&&i[r][2]!=t.strokeColor&&(i[r][2]=t.strokeColor,e._UI.UD=!0),"lineWidth"==i[r][1]&&t.lineWidth&&i[r][2]!=t.lineWidth&&(i[r][2]=t.lineWidth,e._UI.UD=!0))},n.prototype.destroy=function(){var t=this;t._command=null,t._isBitmapStroke=null,t._isBitmapFill=null,e.prototype.destroy.call(this)},n._caps=["butt","round","square"],n._joins=["miter","round","bevel"],n}(t.DisplayObject);t.Shape=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(){e.call(this),this.mouseChildren=!0,this.children=[],this._removeChildren=[],this._updateState=0,this._instanceType="annie.Sprite"}return __extends(n,e),n.prototype.destroy=function(){for(var t=this,i=0;i<t.children.length;i++)t.children[i].destroy();t.parent&&n._removeFormParent(t.parent,t),t.children.length=0,t._removeChildren.length=0,e.prototype.destroy.call(this)},Object.defineProperty(n.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(e){var n=this;n._texture||(n._texture=new Image),e?n._texture.src=t.toDisplayCache(n):(n._texture.src="",n._offsetX=0,n._offsetY=0),n._cacheAsBitmap=e},enumerable:!0,configurable:!0}),n.prototype.addChild=function(t){this.addChildAt(t,this.children.length)},n.prototype.removeChild=function(t){for(var e=this,n=e.children.length,i=0;i<n;i++)if(e.children[i]==t){e.removeChildAt(i);break}},n._getElementsByName=function(t,e,i,r,o){var a=e.children.length;if(a>0)for(var s,l=void 0,u=0;u<a;u++){if(l=e.children[u],(s=l.name)&&""!=s&&t.test(s)&&(o[o.length]=l,i))return;r&&null!=l.children&&n._getElementsByName(t,l,i,r,o)}},n.prototype.getChildByName=function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=!1),!t)return null;var r,o=this;r="string"==typeof t?new RegExp("^"+t+"$"):t;var a=[];n._getElementsByName(r,o,e,i,a);var s=a.length;return 0==s?null:1==s?a[0]:a},n.prototype.addChildAt=function(t,e){if(t){var i,r=this,o=t.parent;o&&n._removeFormParent(o,t),i=r.children.length,e>=i?r.children[i]=t:0==e?r.children.unshift(t):r.children.splice(e,0,t),o!=r&&(t._cp=!0,t.stage=null,t.parent=r,r.stage&&1==r._updateState&&(r.stage.isReUpdate=!0))}},n._removeFormParent=function(t,e){for(var n=t.children,i=n.length,r=!1,o=0;o<i;o++)if(n[o]==e){n.splice(o,1),r=!0;break}if(!r){n=t._removeChildren,i=n.length;for(var o=0;o<i;o++)if(n[o]==e){n.splice(o,1);break}}},n.prototype.getChildAt=function(t){return this.children.length-1>=t?this.children[t]:null},n.prototype.getChildIndex=function(t){for(var e=this,n=e.children.length,i=0;i<n;i++)if(e.children[i]==t)return i;return-1},n.prototype.swapChild=function(t,e){var n=this,i=-1,r=-1,o=n.children.length;if(i="number"==typeof t?t:n.getChildIndex(t),r="number"==typeof e?e:n.getChildIndex(e),i==r||i<0||i>=o||r<0||r>=o)return!1;var a=n.children[i];return n.children[i]=n.children[r],n.children[r]=a,!0},n.prototype.removeChildAt=function(t){var e,n=this,i=n.children.length-1;i<0||(e=t==i?n.children.pop():0==t?n.children.shift():n.children.splice(t,1)[0],n._removeChildren.push(e))},n.prototype.removeAllChildren=function(){for(var t=this,e=t.children.length,n=e-1;n>=0;n--)t.removeChildAt(0)},
n.prototype.hitTestPoint=function(e,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1);var r=this;if(!r.visible||!r.mouseEnable&&i)return null;if(r._cacheAsBitmap){var o=void 0;o=n?r.globalToLocal(e):e,o.x+=r._offsetX,o.y+=r._offsetY;var a=r._texture;if(!a||0==a.width||0==a.height)return null;var s=t.DisplayObject._canvas;s.width=1,s.height=1;var l=s.getContext("2d");if(l.clearRect(0,0,1,1),l.setTransform(1,0,0,1,-o.x,-o.y),l.drawImage(a,0,0),l.getImageData(0,0,1,1).data[3]>0)return r}else for(var u=r.children.length,c=void 0,h=void 0,d=u-1;d>=0;d--)if(h=r.children[d],!(h._isUseToMask>0)&&(!h.mask||h.mask.parent!=h.parent||h.mask.hitTestPoint(e,n,i))&&(c=h.hitTestPoint(e,n,i)))return c;return null},n.prototype.getBounds=function(){var e=this,n=e._bounds;if(n.x=0,n.y=0,n.width=0,n.height=0,e._cacheAsBitmap)e._texture&&(n.x=e._offsetX,n.y=e._offsetY,n.width=e._texture.width,n.height=e._texture.height);else{var i=e.children.length;if(i>0){for(var r=0;r<i;r++)e.children[r].visible&&t.Rectangle.createFromRects(n,e.children[r].getDrawRect());if(e.mask&&e.mask.parent==e.parent){var o=e.mask.getDrawRect();n.x<o.x&&(n.x=o.x),n.y<o.y&&(n.y=o.y),n.width>o.width&&(n.width=o.width),n.height>o.height&&(n.height=o.height)}}}return n},n.prototype.render=function(t){var n=this;if(n._updateState=0,n._visible)if(n._cacheAsBitmap)e.prototype.render.call(this,t);else{n.updateMatrix();for(var i=void 0,r=void 0,o=n.children.length,a=0;a<o;a++)r=n.children[a],r._isUseToMask>0||(i?r.mask&&r.mask.parent==r.parent?r.mask!=i&&(t.endMask(),i=r.mask,t.beginMask(i)):(t.endMask(),i=null):r.mask&&r.mask.parent==r.parent&&(i=r.mask,t.beginMask(i)),r.render(t));i&&t.endMask(),n._UI.UF=!1,n._UI.UM=!1,n._UI.UA=!1}},n.prototype.updateEventAndScript=function(t){var n=this;if(n._visible&&(e.prototype.updateEventAndScript.call(this,t),!n._cacheAsBitmap)){n._updateState=1;var i=null,r=null,o=0;if(0==t){r=n.children,o=r.length;for(var a=o-1;a>=0;a--)(i=r[a])&&i.stage&&(i.updateEventAndScript(t),i.stage=null)}else if(1==t){r=n.children,o=r.length;for(var a=o-1;a>=0;a--)(i=r[a])&&!i.stage&&(i.stage=n.stage,i.updateEventAndScript(t))}else{r=n.children,o=r.length;for(var a=o-1;a>=0;a--)(i=r[a])&&(i.stage?i.updateEventAndScript(t):(i.stage=n.stage,i.updateEventAndScript(1)))}for(r=n._removeChildren,o=r.length;o>0;)i=r.shift(),i.updateEventAndScript(0),i.stage=null,i.parent=null,o=r.length}},n}(t.DisplayObject);t.Sprite=e}(annie||(annie={}));var annie;!function(t){var e=function(t){function e(e,n){t.call(this),this.media=null,this.type="",this.isPlaying=!0,this.name="",this._loop=1,this._repeate=1;var i=this;i._instanceType="annie.Media","string"==typeof e?(i.media=document.createElement(n),i.media.src=e):i.media=e,i._SBWeixin=i._weixinSB.bind(i),i.media.addEventListener("ended",i._endEvent=function(){-1==i._loop?i.play(0):(i._loop--,i._loop>0?i.play(0,i._loop):i.stop()),i.dispatchEvent("onPlayEnd")}.bind(i)),i.type=n.toLocaleUpperCase(),i.media.addEventListener("timeupdate",i._updateEvent=function(){i.dispatchEvent("onPlayUpdate",{currentTime:i.media.currentTime})}),i.media.addEventListener("play",i._playEvent=function(){i.dispatchEvent("onPlayStart")})}return __extends(e,t),e.prototype.play=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this;0==e?n._loop=n._repeate:(n._loop=e,n._repeate=e),n.media.currentTime!=t&&(n.media.currentTime=t);var i=window;if(i.WeixinJSBridge)try{i.WeixinJSBridge.invoke("getNetworkType",{},n._SBWeixin)}catch(t){n.media.play()}else n.media.play();n.isPlaying=!0},e.prototype._weixinSB=function(){this.media.play()},e.prototype.stop=function(){var t=this;t.media.pause(),t.media.currentTime=0,t.isPlaying=!1},e.prototype.pause=function(t){void 0===t&&(t=!0);var e=this;t?(e.media.pause(),e.isPlaying=!1):(e.media.play(),e.isPlaying=!0)},Object.defineProperty(e.prototype,"volume",{get:function(){return this.media.volume},set:function(t){var e=this;e.media.volume=t,e.media.muted=0==t},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){var e=this;e.media.pause(),e.media.removeEventListener("ended",e._endEvent),e.media.removeEventListener("onPlayStart",e._playEvent),e.media.removeEventListener("timeupdate",e._updateEvent),e.media=null,t.prototype.destroy.call(this)},e}(t.EventDispatcher);t.Media=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(i){e.call(this,i,"Audio");var r=this;r._instanceType="annie.Sound",t.Sound._soundList.push(r),r.volume=n._volume}return __extends(n,e),n.prototype.destroy=function(){for(var n=t.Sound._soundList.length,i=n-1;i>=0;i--)t.Sound._soundList[i]&&t.Sound._soundList[i]!=this||t.Sound._soundList.splice(i,1);e.prototype.destroy.call(this)},n.prototype.stop2=function(){var t=this;t.isPlaying&&t.media.pause()},n.prototype.play2=function(){var t=this;t.isPlaying&&t.play()},n.stopAllSounds=function(){for(var e=t.Sound._soundList.length,n=e-1;n>=0;n--)t.Sound._soundList[n]?t.Sound._soundList[n].stop2():t.Sound._soundList.splice(n,1)},n.resumePlaySounds=function(){for(var e=t.Sound._soundList.length,n=e-1;n>=0;n--)t.Sound._soundList[n]?t.Sound._soundList[n].play2():t.Sound._soundList.splice(n,1)},n.setAllSoundsVolume=function(e){for(var i=t.Sound._soundList.length,r=i-1;r>=0;r--)t.Sound._soundList[r]?t.Sound._soundList[r].volume=e:t.Sound._soundList.splice(r,1);n._volume=e},n._soundList=[],n._volume=1,n}(t.Media);t.Sound=e}(annie||(annie={}));var annie;!function(t){var e=function(t){function e(e,n,i){void 0===n&&(n=0),void 0===i&&(i=0),t.call(this,e,"Video");var r=this;r._instanceType="annie.Video",r.media.setAttribute("playsinline","true"),r.media.setAttribute("webkit-playsinline","true"),r.media.setAttribute("x-webkit-airplay","true"),r.media.setAttribute("x5-video-player-type","h5"),r.media.poster="",r.media.preload="auto",r.media.controls=!1,n&&i&&(r.media.width=n,r.media.height=i)}return __extends(e,t),e}(t.Media);t.Video=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(){e.call(this),this._curFrame=1,this._wantFrame=0,this._lastFrameObj=null,this._isPlaying=!0,this._isFront=!0,this._lastFrame=0,this._a2x_res_class={tf:1},this._a2x_res_children=[],this._a2x_script=null,this._mode=-2,this._clicked=!1,this.isUpdateFrame=!1,this._a2x_sounds=null,this._frameState=0,this._instanceType="annie.MovieClip"}return __extends(n,e),Object.defineProperty(n.prototype,"currentFrame",{get:function(){var t=this;return t._wantFrame>0?t._wantFrame:t._curFrame},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isFront",{get:function(){return this._isFront},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalFrames",{get:function(){return this._a2x_res_class.tf},enumerable:!0,configurable:!0}),n.prototype.stop=function(){this._isPlaying=!1},n.prototype.addFrameScript=function(t,e){var n=this;void 0==n._a2x_script&&(n._a2x_script={}),n._a2x_script[t]=e},n.prototype.removeFrameScript=function(t){var e=this;void 0!=e._a2x_script&&(e._a2x_script[t]=null)},Object.defineProperty(n.prototype,"isButton",{get:function(){return-1==this._mode},enumerable:!0,configurable:!0}),n.prototype.initButton=function(){var t=this;-1!=t._mode&&t._a2x_res_class.tf>1&&(t.mouseChildren=!1,t.addEventListener("onMouseDown",t._mouseEvent.bind(t)),t.addEventListener("onMouseUp",t._mouseEvent.bind(t)),t.addEventListener("onMouseOut",t._mouseEvent.bind(t)),t.gotoAndStop(1),t._mode=-1)},Object.defineProperty(n.prototype,"clicked",{get:function(){return this._clicked},set:function(t){var e=this;t!=e._clicked&&(t?e._mouseEvent({type:"onMouseDown"}):e.gotoAndStop(1),e._clicked=t)},enumerable:!0,configurable:!0}),n.prototype._mouseEvent=function(t){var e=this;if(!e._clicked){var n=2;"onMouseDown"==t.type?e._curFrame>2&&(n=3):n=1,e.gotoAndStop(n)}},n.prototype.getCurrentLabel=function(){var t=this;return t._a2x_res_class.tf>1&&t._a2x_res_class.l[t._curFrame-1]?t._a2x_res_class.l[t._curFrame-1]:null},n.prototype.nextFrame=function(){var t=this;0==t._wantFrame&&(t._wantFrame=t._curFrame),t._wantFrame<t.totalFrames&&(t._wantFrame+=1),t._isPlaying=!1,t.stage&&1==t._frameState&&!t.isSameFrame()&&(t.stage.isReUpdate=!0)},n.prototype.prevFrame=function(){var t=this;0==t._wantFrame&&(t._wantFrame=t._curFrame),t._wantFrame>1&&(t._wantFrame-=1),t._isPlaying=!1,t.stage&&1==t._frameState&&!t.isSameFrame()&&(t.stage.isReUpdate=!0)},n.prototype.isSameFrame=function(){var t=this;return(0==t._wantFrame?t._curFrame:t._wantFrame)==t._lastFrame},n.prototype.gotoAndStop=function(t){var e=this;e._isPlaying=!1;var n=e._a2x_res_class;"string"==typeof t?t=void 0!=n.label[t]?n.label[t]:e._curFrame:"number"==typeof t&&(t>n.tf&&(t=n.tf),t<1&&(t=1)),e._wantFrame=t,e.stage&&1==e._frameState&&!e.isSameFrame()&&(e.stage.isReUpdate=!0)},n.prototype.play=function(t){void 0===t&&(t=!0);var e=this;e._isPlaying=!0,e._isFront=t},n.prototype.gotoAndPlay=function(t,e){void 0===e&&(e=!0);var n=this;n._isFront=e,n._isPlaying=!0;var i=n._a2x_res_class;"string"==typeof t?t=void 0!=i.label[t]?i.label[t]:n._curFrame:"number"==typeof t&&(t>i.tf&&(t=i.tf),t<1&&(t=1)),n._wantFrame=t,n.stage&&1==n._frameState&&!n.isSameFrame()&&(n.stage.isReUpdate=!0)},n.prototype.updateFrame=function(){var e=this;if(!e._cacheAsBitmap&&e._a2x_res_class.tf>1&&(e._mode>=0?(e._isPlaying=!1,e._curFrame=e.parent._curFrame-e._mode):0!=e._wantFrame&&(e._curFrame=e._wantFrame,e._wantFrame=0),e._lastFrame==e._curFrame&&e._isPlaying&&0==e._frameState&&(e._isFront?++e._curFrame>e._a2x_res_class.tf&&(e._curFrame=1):--e._curFrame<1&&(e._curFrame=e._a2x_res_class.tf)),e._frameState=1,e._lastFrame!=e._curFrame)){e._mode<0&&(e.isUpdateFrame=!0),e._lastFrame=e._curFrame;var i=e._a2x_res_class,r=e._a2x_res_children,o=r.length,a=0,s=null,l=null,u=i.f[i.timeLine[e._curFrame-1]];if(e._lastFrameObj!=u){e._lastFrameObj=u,e.children.length=0,e._removeChildren.length=0;for(var c=null,h=-1,d=o-1;d>=0;d--)a=r[d][0],s=r[d][1],l=u&&u.c?u.c[a]:null,l&&t.d(s,l),l||0==a?(void 0!=l.ma?(c=s,h=l.ma):c&&(s.mask=c,a==h&&(c=null)),e.children.unshift(s),s.parent&&e.parent==e||(s._cp=!0,s.parent=e)):s.parent&&(e._removeChildren.push(s),n._resetMC(s))}if(e.isUpdateFrame){var p=e._a2x_res_class;e.isUpdateFrame=!1;var _=e._curFrame-1,f=void 0,v=!1,y=e._isFront;if(e._a2x_script&&void 0!=(f=e._a2x_script[_])&&(null!=f&&f(),v=!0),v||(f=p.a[_])&&e[f[0]](void 0==f[1]||f[1],void 0==f[2]||f[2]),e.hasEventListener(t.Event.CALL_FRAME)&&(f=p.e[_]))for(var d=0;d<f.length;d++)e.dispatchEvent(t.Event.CALL_FRAME,{frameIndex:e._curFrame,frameName:f[d]});(1==e._curFrame&&!y||e._curFrame==e._a2x_res_class.tf&&y)&&e.hasEventListener(t.Event.END_FRAME)&&e.dispatchEvent(t.Event.END_FRAME,{frameIndex:e._curFrame,frameName:"endFrame"});var g=p.s[_];if(g)for(var m in g)e._a2x_sounds[m-1].play(0,g[m])}}},n.prototype.updateEventAndScript=function(t){var n=this;n._visible&&(n.updateFrame(),e.prototype.updateEventAndScript.call(this,t))},n._resetMC=function(t){var e=!1;if("annie.MovieClip"==t._instanceType?(t._wantFrame=1,t._lastFrame=0,t._isFront=!0,t._mode<-1?t._isPlaying=!0:t._isPlaying=!1,e=!0):"annie.Sprite"==t._instanceType&&(e=!0),e)for(var i=0;i<t.children.length;i++)n._resetMC(t.children[i])},n.prototype.render=function(t){this._frameState=0,e.prototype.render.call(this,t)},n.prototype.destroy=function(){var t=this;e.prototype.destroy.call(this),t._lastFrameObj=null,t._a2x_script=null,t._a2x_res_children=null,t._a2x_res_class=null,t._a2x_sounds=null},n}(t.Sprite);t.MovieClip=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(){e.call(this),this.htmlElement=null,this._isAdded=!1;var n=this;n._instanceType="annie.FloatDisplay",n.addEventListener(t.Event.REMOVE_TO_STAGE,function(t){n.htmlElement&&(n.htmlElement.style.display="none")}),n.addEventListener(t.Event.ADD_TO_STAGE,function(t){if(n.htmlElement){var e=n.htmlElement.style;n._isAdded?n.htmlElement&&n.visible&&(e.display="inline"):(n._isAdded=!0,n.stage.rootDiv.insertBefore(n.htmlElement,n.stage.rootDiv.childNodes[0]),n.stage._floatDisplayList.push(n))}})}return __extends(n,e),n.prototype.init=function(t){var e,n=this;e="string"==typeof t?document.getElementById(t):"annie.Video"==t._instanceType?t.media:t;var i=e.style;i.position="absolute",i.display="none",i.transformOrigin=i.WebkitTransformOrigin="0 0 0";var r=n.getStyle(e,"width"),o=n.getStyle(e,"height"),a=0,s=0;r.indexOf("px")&&(a=parseInt(r)),o.indexOf("px")&&(s=parseInt(o)),n._bounds.width=a,n._bounds.height=s,n.htmlElement=e},n.prototype.getStyle=function(t,e){if(t.style[e])return t.style[e];if(document.defaultView&&document.defaultView.getComputedStyle){e=e.replace(/([A-Z])/g,"-$1"),e=e.toLowerCase();var n=document.defaultView.getComputedStyle(t,"");return n&&n.getPropertyValue(e)}return null},n.prototype.updateStyle=function(){var e=this,n=e.htmlElement;if(n){var i=n.style,r=e._visible;if(r)if(e.stage)for(var o=e.parent;o;){if(!o._visible){r=!1;break}o=o.parent}else r=!1;var a=r?"inline":"none";if(a!=i.display&&(i.display=a),r||e._UI.UM||e._UI.UA||e._UI.UF){if(e._UI.UM){var s=e.cMatrix,l=t.devicePixelRatio;i.transform=i.webkitTransform="matrix("+(s.a/l).toFixed(4)+","+(s.b/l).toFixed(4)+","+(s.c/l).toFixed(4)+","+(s.d/l).toFixed(4)+","+(s.tx/l).toFixed(4)+","+(s.ty/l).toFixed(4)+")"}e._UI.UA&&(i.opacity=e.cAlpha),e._UI.UF=!1,e._UI.UM=!1,e._UI.UA=!1}}},n.prototype.destroy=function(){var t=this,n=t.htmlElement;n&&(n.style.display="none",n.parentNode&&n.parentNode.removeChild(n),t._isAdded=!1,t.htmlElement=null);for(var i=t.stage._floatDisplayList,r=i.length,o=0;o<r;o++)if(i[o]==t){i.splice(o,1);break}e.prototype.destroy.call(this)},n}(t.DisplayObject);t.FloatDisplay=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(){e.call(this),this._textAlign="left",this._textAlpha=1,this._textHeight=0,this._lineHeight=14,this._textWidth=120,this._lineType="single",this._text="",this._font="Arial",this._size=12,this._color="#fff",this._italic=!1,this._bold=!1,this._border=!1,this._stroke=0,this._strokeColor="#000",this.realLines=[],this._instanceType="annie.TextField",this._texture=window.document.createElement("canvas")}return __extends(n,e),Object.defineProperty(n.prototype,"textAlign",{get:function(){return this._textAlign},set:function(t){this._setProperty("_textAlign",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textAlpha",{get:function(){return this._textAlpha},set:function(t){this._setProperty("_textAlpha",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textHeight",{get:function(){return this._textHeight},set:function(t){this._setProperty("_textHeight",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._setProperty("_lineHeight",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textWidth",{get:function(){return this._textWidth},set:function(t){this._setProperty("_textWidth",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineType",{get:function(){return this._lineType},set:function(t){this._setProperty("_lineType",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this._text},set:function(t){this._setProperty("_text",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"font",{get:function(){return this._font},set:function(t){this._setProperty("_font",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._size},set:function(t){this._setProperty("_size",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){return this._color},set:function(t){this._setProperty("_color",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"italic",{get:function(){return this._italic},set:function(t){this._setProperty("_italic",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bold",{get:function(){return this._bold},set:function(t){this._setProperty("_bold",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"border",{get:function(){return this._border},set:function(t){this._setProperty("_border",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this._stroke},set:function(t){this._setProperty("_stroke",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(t){this._setProperty("_strokeColor",t,3)},enumerable:!0,configurable:!0}),n.prototype._prepContext=function(e){var n=this,i=n.size||12;i+="px ",i+=n.font,n._bold&&(i="bold "+i),n._italic&&(i="italic "+i),e.font=i,e.textAlign=n._textAlign||"left",e.textBaseline="top",e.lineJoin="miter",e.miterLimit=2.5,e.fillStyle=t.Shape.getRGBA(n._color,n._textAlpha),e.strokeStyle=n.strokeColor,e.lineWidth=Math.abs(n._stroke)},n.prototype.getTextWidth=function(t){void 0===t&&(t=0);var e=this;return e.updateMatrix(),e._texture.getContext("2d").measureText(e.realLines[t]).width},Object.defineProperty(n.prototype,"lines",{get:function(){return this.realLines.length},enumerable:!0,configurable:!0}),n.prototype._getMeasuredWidth=function(t){return this._texture.getContext("2d").measureText(t).width},n.prototype.updateMatrix=function(){e.prototype.updateMatrix.call(this);var t=this;if(t._UI.UD||t._UI.UF){t._text+="";var n=t._texture,i=n.getContext("2d"),r=t._text.toString().split(/(?:\r\n|\r|\n)/),o=[];t.realLines=o,t._prepContext(i);var a=0,s=t._lineHeight;if(t._text.indexOf("\n")<0&&"single"==t.lineType){o[o.length]=r[0];var l=r[0];if(t._getMeasuredWidth(l)>t._textWidth)for(var u=t._getMeasuredWidth(l[0]),c=l[0],h=l.length,d=1;d<h;d++){if(a=i.measureText(l[d]).width,(u+=a)>t._textWidth){o[0]=c;break}c+=l[d]}}else for(var p=0,_=r.length;p<_;p++){var l=r[p];if(l){for(var u=t._getMeasuredWidth(l[0]),c=l[0],h=l.length,d=1;d<h;d++)a=i.measureText(l[d]).width,u+=a,u>t._textWidth?(o[o.length]=c,c=l[d],u=a):c+=l[d];o[o.length]=c}}var f=s*o.length,v=t._textWidth,y=0;"center"==t._textAlign?y=.5*v:"right"==t._textAlign&&(y=v),n.width=v+20,n.height=f+20,i.clearRect(0,0,n.width,n.width),t.border&&(i.beginPath(),i.strokeStyle="#000",i.lineWidth=1,i.strokeRect(10.5,10.5,v,f),i.closePath()),i.setTransform(1,0,0,1,y+10,10),t._prepContext(i);for(var p=0;p<o.length;p++)t._stroke>0&&i.strokeText(o[p],0,p*s,v),i.fillText(o[p],0,p*s,v),t._stroke<0&&i.strokeText(o[p],0,p*s,v);var g=t.cFilters,m=g.length;if(m>0){for(var b=i.getImageData(0,0,v,f),p=0;p<m;p++)g[p].drawFilter(b);i.putImageData(b,0,0)}t._offsetX=-10,t._offsetY=-10,t._UI.UD=!1,t._bounds.height=f,t._bounds.width=v}t._UI.UM=!1,t._UI.UA=!1,t._UI.UF=!1},n}(t.DisplayObject);t.TextField=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(i){void 0===i&&(i=0),e.call(this),this.inputType=0,this.isAutoDownKeyBoard=!0,this._size=14,this._font="Arial";var r=null,o=this;o._instanceType="annie.InputText",i<2?(r=document.createElement("input"),r.type=n._inputTypeList[i]):(r=document.createElement("textarea"),r.style.resize="none",r.style.overflow="hidden"),o.inputType=i;var a=function(){o.isAutoDownKeyBoard&&"pc"!=t.osType&&o.htmlElement&&o.htmlElement.blur()}.bind(o);o.addEventListener(t.Event.REMOVE_TO_STAGE,function(e){o.stage.removeEventListener(t.MouseEvent.MOUSE_UP,a)}),o.addEventListener(t.Event.ADD_TO_STAGE,function(e){o.stage.addEventListener(t.MouseEvent.MOUSE_UP,a)}),o.init(r)}return __extends(n,e),n.prototype.init=function(t){e.prototype.init.call(this,t);var n=this;n.htmlElement.style.outline="none",n.htmlElement.style.borderWidth="thin",n.htmlElement.style.borderColor="#000",n.htmlElement.onblur=function(){document.body.scrollTop=0}},n.prototype.initInfo=function(t,e,n,i,r,o,a){var s=this;s.htmlElement.placeholder=t,s.htmlElement.style.font=i+"px "+r,s._size=i,s._font=r,s.htmlElement.style.color=e,s.htmlElement.style.textAlign=n,s.border=o,2==s.inputType&&(s.htmlElement.style.lineHeight=a+"px")},Object.defineProperty(n.prototype,"lineHeight",{get:function(){return parseInt(this.htmlElement.style.lineHeight)},set:function(t){this.htmlElement.style.lineHeight=t+"px",this.htmlElement.style.height=t+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bold",{get:function(){return"bold"==this.htmlElement.style.fontWeight},set:function(t){var e=this.htmlElement.style;e.fontWeight=t?"bold":"normal"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._size},set:function(t){var e=this;e._size!=t&&(e._size=t,e.htmlElement.style.font=t+"px "+e._font)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"font",{get:function(){return this._font},set:function(t){var e=this;t!=e._font&&(e._font=t,e.htmlElement.style.font=e._size+"px "+e._font)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"italic",{get:function(){return"italic"==this.htmlElement.style.fontStyle},set:function(t){var e=this.htmlElement.style;e.fontStyle=t?"italic":"normal"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textHeight",{get:function(){return parseInt(this.htmlElement.style.height)},set:function(t){this.htmlElement.style.height=t+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textWidth",{get:function(){return parseInt(this.htmlElement.style.width)},set:function(t){this.htmlElement.style.width=t+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){return this.htmlElement.style.color},set:function(t){this.htmlElement.style.color=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"border",{get:function(){return"none"!=this.htmlElement.style.borderStyle},set:function(t){var e=this;t?(e.htmlElement.style.borderStyle="inset",e.htmlElement.style.backgroundColor="#fff"):(e.htmlElement.style.borderStyle="none",e.htmlElement.style.backgroundColor="transparent")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){var t=this;if(t.htmlElement)return t.htmlElement.value},set:function(t){var e=this;e.htmlElement&&(e.htmlElement.value=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxCharacters",{get:function(){var t=this.htmlElement.getAttribute("maxlength");return null===t?0:t},set:function(t){this.htmlElement.setAttribute("maxlength",t)},enumerable:!0,configurable:!0}),n._inputTypeList=["input","password","textarea"],n}(t.FloatDisplay);t.InputText=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(i,r,o,a,s,l){if(void 0===i&&(i="annieEngine"),void 0===r&&(r=640),void 0===o&&(o=1040),void 0===a&&(a=30),void 0===s&&(s="fixedHeight"),void 0===l&&(l=0),e.call(this),this.iosTouchendPreventDefault=!0,this.isPreventDefaultEvent=!0,this.rootDiv=null,this.renderObj=null,this.renderType=0,this.viewRect=new t.Rectangle,this.isMultiTouch=!1,this.isMultiMouse=!1,this.autoSteering=!1,this.autoResize=!0,this.desWidth=0,this.desHeight=0,this.divHeight=0,this.divWidth=0,this.bgColor="",this._scaleMode="onScale",this._flush=0,this._currentFlush=0,this._lastDpList={},this._floatDisplayList=[],this._ml=[],this._mp=[],this._mouseDownPoint={},this.isReUpdate=!1,this._mouseEventTypes={mousedown:"onMouseDown",mouseup:"onMouseUp",mousemove:"onMouseMove",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp"},this.muliPoints=[],this._mP1=new t.Point,this._mP2=new t.Point,this.mouseEvent=null,this.resize=function(){var e=this,n=e.getRootDivWH(e.rootDiv);if(e.divHeight!=n.h&&e.divWidth!=n.w)if(0==e.divWidth||0==e.divHeight){if(0==n.w||0==n.h)return;e._UI.UM=!0,e.divHeight=n.h,e.divWidth=n.w,e.renderObj.reSize(),e.setAlign(),e.dispatchEvent(new t.Event("onInitStage"))}else{e.autoResize&&(e._UI.UM=!0,e.divHeight=n.h,e.divWidth=n.w,e.renderObj.reSize(),e.setAlign());var i=new t.Event("onResize");e.dispatchEvent(i)}},t.debug&&!n._isLoadedVConsole){n._isLoadedVConsole=!0;var u=document.createElement("script");u.onload=function(){new VConsole,u.onload=null},document.head.appendChild(u),u.src="libs/vconsole.min.js"}var c=this;c._instanceType="annie.Stage",c.stage=c,c.name="stageInstance_"+c.instanceId;var h=document.getElementById(i);c.renderType=l,c.desWidth=r,c.desHeight=o,c.rootDiv=h,c.setFrameRate(a),c._scaleMode=s,c.anchorX=r>>1,c.anchorY=o>>1,c.renderObj=new t.CanvasRender(c);var d=c.rootDiv;c.mouseEvent=c.onMouseEvent.bind(c),"pc"!=t.osType?(d.addEventListener("touchstart",c.mouseEvent,!1),d.addEventListener("touchmove",c.mouseEvent,!1),d.addEventListener("touchend",c.mouseEvent,!1)):(d.addEventListener("mousedown",c.mouseEvent,!1),d.addEventListener("mousemove",c.mouseEvent,!1),d.addEventListener("mouseup",c.mouseEvent,!1)),c.renderObj.init(),n.addUpdateObj(c)}return __extends(n,e),Object.defineProperty(n,"pause",{get:function(){return n._pause},set:function(e){var i=n;e!=i._pause&&(i._pause=e,e?t.Sound.stopAllSounds():t.Sound.resumePlaySounds(),t.globalDispatcher.dispatchEvent("onRunChanged",{pause:e}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(t){var e=this;t!=e._scaleMode&&(e._scaleMode=t,e.setAlign())},enumerable:!0,configurable:!0}),n.prototype.render=function(t){t.begin(),e.prototype.render.call(this,t);for(var n=this,i=n._floatDisplayList,r=i.length,o=0;o<r;o++)i[o].updateStyle()},n.prototype._initMouseEvent=function(t,e,n,i){t._pd=!1,t._bpd=!1,t.clientX=e.x,t.clientY=e.y,t.stageX=n.x,t.stageY=n.y,t.identifier=i},n.prototype.flush=function(){var t=this,e=2,n=!1;if(0==t._flush?(t.resize(),n=!0):0==t._currentFlush?(t._currentFlush=t._flush,t.resize()):(t._currentFlush==t._flush&&(n=!0),t._currentFlush--),n){do{t.isReUpdate=!1,t.updateEventAndScript(e),++e>100&&(trace("出现无限死循环,请检查"),t.isReUpdate=!1)}while(t.isReUpdate);t.render(t.renderObj)}},n.prototype.setFrameRate=function(t){var e=this;e._flush=60/t-1>>0,e._flush<0&&(e._flush=0)},n.prototype.getFrameRate=function(){return 60/(this._flush+1)},n.prototype.getRootDivWH=function(t){var e=640,n=960;return""!=t.style.width?(e=parseInt(t.style.width),n=parseInt(t.style.height)):(e=document.documentElement.clientWidth,n=document.documentElement.clientHeight),{w:e,h:n}},n.prototype.onMouseEvent=function(e){for(var i=this,r=n._dragDisplay,o=e.target.offsetLeft,a=e.target.offsetTop,s=e.target.parentNode;"BODY"!=s.nodeName;)o+=s.offsetLeft,a+=s.offsetTop,s=s.parentNode;if(i.isMultiTouch&&e.targetTouches&&e.targetTouches.length>1){if(2==e.targetTouches.length){i._mP1.x=e.targetTouches[0].clientX-o,i._mP1.y=e.targetTouches[0].clientY-a,i._mP2.x=e.targetTouches[1].clientX-o,i._mP2.y=e.targetTouches[1].clientY-a;var l=Math.atan2(i._mP1.y-i._mP2.y,i._mP1.x-i._mP2.x)/Math.PI*180,u=t.Point.distance(i._mP1,i._mP2);if(i.muliPoints.push({p1:i._mP1,p2:i._mP2,angle:l,dis:u}),i.muliPoints.length>=2){i._touchEvent||(i._touchEvent=new t.TouchEvent(t.TouchEvent.ON_MULTI_TOUCH),i._touchEvent.target=i);var c=i.muliPoints.length;i._touchEvent.rotate=2*(i.muliPoints[c-1].angle-i.muliPoints[c-2].angle),i._touchEvent.scale=(i.muliPoints[c-1].dis-i.muliPoints[c-2].dis)/(i.divHeight>i.divWidth?i.desWidth:i.desHeight)*4,i._touchEvent.clientPoint1.x=i.muliPoints[c-1].p1.x*t.devicePixelRatio,i._touchEvent.clientPoint2.x=i.muliPoints[c-1].p2.x*t.devicePixelRatio,i._touchEvent.clientPoint1.y=i.muliPoints[c-1].p1.y*t.devicePixelRatio,i._touchEvent.clientPoint2.y=i.muliPoints[c-1].p2.y*t.devicePixelRatio,i.dispatchEvent(i._touchEvent),i.muliPoints.shift()}}else i.muliPoints.length=0;r&&(r._lastDragPoint.x=Number.MAX_VALUE,r._lastDragPoint.y=Number.MAX_VALUE),i._mouseDownPoint={},i._lastDpList={}}else if(i.muliPoints.length>0&&(i._touchEvent.rotate=0,i._touchEvent.scale=0,i._touchEvent.clientPoint1.x=0,i._touchEvent.clientPoint2.x=0,i._touchEvent.clientPoint1.y=0,i._touchEvent.clientPoint2.y=0,i.dispatchEvent(i._touchEvent),i.muliPoints.length=0),t.EventDispatcher._totalMEC>0){var h,d=void 0,p=i._mouseEventTypes[e.type],_=void 0,f=void 0,v=void 0,y=void 0,g=void 0,m=void 0;"pc"==t.osType?(e.identifier=0,d=[e]):d=i.isMultiMouse?e.changedTouches:[e.changedTouches[0]];for(var b=0;b<d.length;b++)if(g=0,_=[],m="m"+d[b].identifier,y=i._mp.length>0?i._mp.shift():new t.Point,y.x=(d[b].clientX-o)*t.devicePixelRatio,y.y=(d[b].clientY-a)*t.devicePixelRatio,f=i.globalToLocal(y,t.DisplayObject._bp),i._ml[g]?(h=i._ml[g],h.type=p):(h=new t.MouseEvent(p),i._ml[g]=h),_[_.length]=h,i._initMouseEvent(h,y,f,m),g++,"onMouseDown"==p?i._mouseDownPoint[m]=y:"onMouseUp"==p&&i._mouseDownPoint[m]&&t.Point.distance(i._mouseDownPoint[m],y)<20&&t.EventDispatcher.getMouseEventCount("onMouseClick")>0&&(i._ml[g]?(h=i._ml[g],h.type="onMouseClick"):(h=new t.MouseEvent("onMouseClick"),i._ml[g]=h),_[_.length]=h,i._initMouseEvent(h,y,f,m),g++),g>0){var x=i.hitTestPoint(y,!0,!0),w=[];if(x)for(;x;)!1===x.mouseChildren&&(w.length=0),w[w.length]=x,x=x.parent;else w[w.length]=i;for(var c=w.length,E=c-1;E>=0;E--){x=w[E];for(var T=0;T<g;T++)_[T]._bpd||x.hasEventListener(_[T].type)&&(_[T].currentTarget=x,_[T].target=w[0],v=x.globalToLocal(y,t.DisplayObject._bp),_[T].localX=v.x,_[T].localY=v.y,x.dispatchEvent(_[T]))}w.reverse();for(var E=c-1;E>=0;E--){x=w[E];for(var T=0;T<g;T++)_[T]._bpd||x.hasEventListener(_[T].type)&&(_[T].currentTarget=x,_[T].target=w[g-1],v=x.globalToLocal(y,t.DisplayObject._bp),_[T].localX=v.x,_[T].localY=v.y,x.dispatchEvent(_[T],null,!1))}if("onMouseDown"!=p){if((t.EventDispatcher.getMouseEventCount("onMouseOver")>0||t.EventDispatcher.getMouseEventCount("onMouseOut")>0)&&i._lastDpList[m]){var P=i._lastDpList[m].length,M=w.length;c=P>M?P:M;for(var O=!1,C=void 0,L=void 0,E=1;E<c;E++)O||i._lastDpList[m][E]!=w[E]&&(O=!0,i._ml[g]?(C=i._ml[g],C.type="onMouseOver"):(C=new t.MouseEvent("onMouseOver"),i._ml[g]=C),i._initMouseEvent(C,y,f,m),g++,i._ml[g]?(L=i._ml[g],L.type="onMouseOut"):(L=new t.MouseEvent("onMouseOut"),i._ml[g]=L),i._initMouseEvent(L,y,f,m)),O&&(i._lastDpList[m][E]&&(L._bpd||(x=i._lastDpList[m][E],x.hasEventListener("onMouseOut")&&(L.currentTarget=x,L.target=i._lastDpList[m][P-1],v=x.globalToLocal(y,t.DisplayObject._bp),L.localX=v.x,L.localY=v.y,x.dispatchEvent(L)))),w[E]&&(C._bpd||(x=w[E],x.hasEventListener("onMouseOver")&&(C.currentTarget=x,C.target=w[M-1],v=x.globalToLocal(y,t.DisplayObject._bp),C.localX=v.x,C.localY=v.y,x.dispatchEvent(C)))))}i._mp[i._mp.length]=y}if(r&&r.stage&&r.parent){var S=r.x,F=r.y;v=r.parent.globalToLocal(y,t.DisplayObject._bp),r._isDragCenter?(S=v.x,F=v.y):(r._lastDragPoint.x!=Number.MAX_VALUE&&(S+=v.x-r._lastDragPoint.x,F+=v.y-r._lastDragPoint.y),r._lastDragPoint.x=v.x,r._lastDragPoint.y=v.y),v.x=S,v.y=F,0!=r._dragBounds.width&&(r._dragBounds.isPointIn(v)||(S<r._dragBounds.x?S=r._dragBounds.x:S>r._dragBounds.x+r._dragBounds.width&&(S=r._dragBounds.x+r._dragBounds.width),F<r._dragBounds.y?F=r._dragBounds.y:F>r._dragBounds.y+r._dragBounds.height&&(F=r._dragBounds.y+r._dragBounds.height))),r.x=S,r.y=F}"onMouseUp"==p?(r&&r.stage&&(r._lastDragPoint.x=Number.MAX_VALUE,r._lastDragPoint.y=Number.MAX_VALUE),delete i._mouseDownPoint[m],delete i._lastDpList[m]):i._lastDpList[m]=w}}"_a2x_canvas"==e.target.id&&i.isPreventDefaultEvent&&("touchend"==e.type&&"ios"==t.osType&&i.iosTouchendPreventDefault&&e.preventDefault(),("touchmove"==e.type||"touchstart"==e.type&&"android"==t.osType)&&e.preventDefault())},n.prototype.setAlign=function(){var e=this,n=e.divHeight*t.devicePixelRatio,i=e.divWidth*t.devicePixelRatio,r=e.desHeight,o=e.desWidth;e.anchorX=o>>1,e.anchorY=r>>1;var a=n>i,s=r>o,l=1,u=1;if(e.x=i-o>>1,e.y=n-r>>1,e.autoSteering&&s!=a){var c=n;n=i,i=c}if("noScale"!=e._scaleMode)switch(l=n/r,u=i/o,e._scaleMode){case"noBorder":u>l?l=u:u=l;break;case"showAll":u<l?l=u:u=l;break;case"fixedWidth":l=u;break;case"fixedHeight":u=l}e.scaleX=u,e.scaleY=l,e.viewRect.x=o-i/u>>1,e.viewRect.y=r-n/l>>1,e.viewRect.width=o-2*e.viewRect.x,
e.viewRect.height=r-2*e.viewRect.y,e.autoSteering?e.rotation=s==a?0:r>o?-90:90:e.rotation=0},n.prototype.getBounds=function(){return this.viewRect},n.flushAll=function(){if(!n._pause)for(var t=n.allUpdateObjList.length,e=t-1;e>=0;e--)n.allUpdateObjList[e]&&n.allUpdateObjList[e].flush();requestAnimationFrame(n.flushAll)},n.addUpdateObj=function(t){for(var e=!1,i=n.allUpdateObjList.length,r=0;r<i;r++)if(n.allUpdateObjList[r]===t){e=!0;break}e||n.allUpdateObjList.unshift(t)},n.removeUpdateObj=function(t){for(var e=n.allUpdateObjList.length,i=0;i<e;i++)if(n.allUpdateObjList[i]===t){n.allUpdateObjList.splice(i,1);break}},n.prototype.destroy=function(){e.prototype.destroy.call(this);var i=this;n.removeUpdateObj(i);var r=i.rootDiv;"pc"!=t.osType?(r.removeEventListener("touchstart",i.mouseEvent,!1),r.removeEventListener("touchmove",i.mouseEvent,!1),r.removeEventListener("touchend",i.mouseEvent,!1)):(r.removeEventListener("mousedown",i.mouseEvent,!1),r.removeEventListener("mousemove",i.mouseEvent,!1),r.removeEventListener("mouseup",i.mouseEvent,!1)),r.style.display="none",r.parentNode&&r.parentNode.removeChild(r),i.renderObj=null},n._pause=!1,n._dragDisplay=null,n._isLoadedVConsole=!1,n.allUpdateObjList=[],n}(t.Sprite);t.Stage=e}(annie||(annie={}));var annie;!function(t){var e=function(t){function e(e,n,i,r){void 0===e&&(e="black"),void 0===n&&(n=2),void 0===i&&(i=2),void 0===r&&(r=2),t.call(this),this.color="black",this.offsetX=2,this.offsetY=2,this.blur=2,this.type="Shadow";var o=this;o._instanceType="annie.ShadowFilter",o.offsetX=n,o.offsetY=i,o.blur=r,o.color=e}return __extends(e,t),e.prototype.toString=function(){var t=this;return t.type+t.offsetX+t.offsetY+t.blur+t.color},e.prototype.drawFilter=function(t){void 0===t&&(t=null)},e.prototype.destroy=function(){},e}(t.AObject);t.ShadowFilter=e;var n=function(t){function e(e){t.call(this),this.redMultiplier=0,this.redOffset=0,this.greenMultiplier=0,this.greenOffset=0,this.blueMultiplier=0,this.blueOffset=0,this.alphaMultiplier=0,this.alphaOffset=0,this.type="Color";var n=this;n._instanceType="annie.ColorFilter",n.redMultiplier=e[0],n.greenMultiplier=e[1],n.blueMultiplier=e[2],n.alphaMultiplier=e[3],n.redOffset=e[4],n.greenOffset=e[5],n.blueOffset=e[6],n.alphaOffset=e[7]}return __extends(e,t),e.prototype.drawFilter=function(t){if(void 0===t&&(t=null),t)for(var e=this,n=t.data,i=n.length,r=0;r<i;r+=4)n[r]=n[r]*e.redMultiplier+e.redOffset,n[r+1]=n[r+1]*e.greenMultiplier+e.greenOffset,n[r+2]=n[r+2]*e.blueMultiplier+e.blueOffset,n[r+3]=n[r+3]*e.alphaMultiplier+e.alphaOffset},e.prototype.toString=function(){var t=this;return t.type+t.redMultiplier+t.greenMultiplier+t.blueMultiplier+t.alphaMultiplier+t.redOffset+t.greenOffset+t.blueOffset+t.alphaOffset},e.prototype.destroy=function(){},e}(t.AObject);t.ColorFilter=n;var i=function(t){function e(n,i,r,o){t.call(this),this.brightness=0,this.contrast=0,this.saturation=0,this.hue=0,this.type="ColorMatrix";var a=this;a._instanceType="annie.ColorMatrixFilter",a.brightness=n,a.contrast=i,a.saturation=r,a.hue=o,a.colorMatrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],n=a._cleanValue(n,255),0!=n&&a._multiplyMatrix([1,0,0,0,n,0,1,0,0,n,0,0,1,0,n,0,0,0,1,0,0,0,0,0,1]),i=this._cleanValue(i,100);var s;if(0!=i&&(i<0?s=127+i/100*127:(s=i%1,s=0==s?e.DELTA_INDEX[i]:e.DELTA_INDEX[i<<0]*(1-s)+e.DELTA_INDEX[1+(i<<0)]*s,s=127*s+127),a._multiplyMatrix([s/127,0,0,0,.5*(127-s),0,s/127,0,0,.5*(127-s),0,0,s/127,0,.5*(127-s),0,0,0,1,0,0,0,0,0,1])),0!=(r=this._cleanValue(r,100))){s=1+(r>0?3*r/100:r/100);var l=.3086,u=.6094,c=.082;a._multiplyMatrix([l*(1-s)+s,u*(1-s),c*(1-s),0,0,l*(1-s),u*(1-s)+s,c*(1-s),0,0,l*(1-s),u*(1-s),c*(1-s)+s,0,0,0,0,0,1,0,0,0,0,0,1])}if(0!=(o=this._cleanValue(o,180)/180*Math.PI)){var h=Math.cos(o),d=Math.sin(o),l=.213,u=.715,c=.072;a._multiplyMatrix([l+h*(1-l)+d*-l,u+h*-u+d*-u,c+h*-c+d*(1-c),0,0,l+h*-l+.143*d,u+h*(1-u)+.14*d,c+h*-c+-.283*d,0,0,l+h*-l+d*-(1-l),u+h*-u+d*u,c+h*(1-c)+d*c,0,0,0,0,0,1,0,0,0,0,0,1])}}return __extends(e,t),e.prototype.drawFilter=function(t){if(void 0===t&&(t=null),t)for(var e,n,i,r,o=t.data,a=o.length,s=this.colorMatrix,l=s[0],u=s[1],c=s[2],h=s[3],d=s[4],p=s[5],_=s[6],f=s[7],v=s[8],y=s[9],g=s[10],m=s[11],b=s[12],x=s[13],w=s[14],E=s[15],T=s[16],P=s[17],M=s[18],O=s[19],C=0;C<a;C+=4)e=o[C],n=o[C+1],i=o[C+2],r=o[C+3],o[C]=e*l+n*u+i*c+r*h+d,o[C+1]=e*p+n*_+i*f+r*v+y,o[C+2]=e*g+n*m+i*b+r*x+w,o[C+3]=e*E+n*T+i*P+r*M+O},e.prototype._multiplyMatrix=function(t){var e,n,i,r=[];for(e=0;e<5;e++){for(n=0;n<5;n++)r[n]=this.colorMatrix[n+5*e];for(n=0;n<5;n++){var o=0;for(i=0;i<5;i++)o+=t[n+5*i]*r[i];this.colorMatrix[n+5*e]=o}}},e.prototype._cleanValue=function(t,e){return Math.min(e,Math.max(-e,t))},e.prototype.toString=function(){var t=this;return t.type+t.brightness+t.hue+t.saturation+t.contrast},e.prototype.destroy=function(){this.colorMatrix=null},e.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],e}(t.AObject);t.ColorMatrixFilter=i;var r=function(t){function e(e,n,i){void 0===e&&(e=2),void 0===n&&(n=2),void 0===i&&(i=1),t.call(this),this.type="blur",this.blurX=0,this.blurY=0,this.quality=1;var r=this;r._instanceType="annie.BlurFilter",r.blurX=e,r.blurY=n,r.quality=i}return __extends(e,t),e.prototype.toString=function(){var t=this;return t.type+t.blurX+t.blurY+t.quality},e.prototype.drawFilter=function(t){void 0===t&&(t=null);var n=this,i=n.blurX>>1;if(isNaN(i)||i<0)return!1;var r=n.blurY>>1;if(isNaN(r)||r<0)return!1;if(0==i&&0==r)return!1;var o=n.quality;(isNaN(o)||o<1)&&(o=1),o|=0,o>3&&(o=3),o<1&&(o=1);var a=t.data,s=0,l=0,u=0,c=0,h=0,d=0,p=0,_=0,f=0,v=0,y=0,g=0,m=0,b=0,x=0,w=i+i+1|0,E=r+r+1|0,T=0|t.width,P=0|t.height,M=T-1|0,O=P-1|0,C=i+1|0,L=r+1|0,S={r:0,b:0,g:0,a:0},F=S;for(u=1;u<w;u++)F=F.n={r:0,b:0,g:0,a:0};F.n=S;var D={r:0,b:0,g:0,a:0},A=D;for(u=1;u<E;u++)A=A.n={r:0,b:0,g:0,a:0};A.n=D;for(var U=null,I=0|e.MUL_TABLE[i],R=0|e.SHG_TABLE[i],k=0|e.MUL_TABLE[r],j=0|e.SHG_TABLE[r];o-- >0;){p=d=0;var B=I,X=R;for(l=P;--l>-1;){for(_=C*(g=a[0|d]),f=C*(m=a[d+1|0]),v=C*(b=a[d+2|0]),y=C*(x=a[d+3|0]),F=S,u=C;--u>-1;)F.r=g,F.g=m,F.b=b,F.a=x,F=F.n;for(u=1;u<C;u++)c=d+((M<u?M:u)<<2)|0,_+=F.r=a[c],f+=F.g=a[c+1],v+=F.b=a[c+2],y+=F.a=a[c+3],F=F.n;for(U=S,s=0;s<T;s++)a[d++]=_*B>>>X,a[d++]=f*B>>>X,a[d++]=v*B>>>X,a[d++]=y*B>>>X,c=p+((c=s+i+1)<M?c:M)<<2,_-=U.r-(U.r=a[c]),f-=U.g-(U.g=a[c+1]),v-=U.b-(U.b=a[c+2]),y-=U.a-(U.a=a[c+3]),U=U.n;p+=T}for(B=k,X=j,s=0;s<T;s++){for(d=s<<2|0,_=L*(g=a[d])|0,f=L*(m=a[d+1|0])|0,v=L*(b=a[d+2|0])|0,y=L*(x=a[d+3|0])|0,A=D,u=0;u<L;u++)A.r=g,A.g=m,A.b=b,A.a=x,A=A.n;for(h=T,u=1;u<=r;u++)d=h+s<<2,_+=A.r=a[d],f+=A.g=a[d+1],v+=A.b=a[d+2],y+=A.a=a[d+3],A=A.n,u<O&&(h+=T);if(d=s,U=D,o>0)for(l=0;l<P;l++)c=d<<2,a[c+3]=x=y*B>>>X,x>0?(a[c]=_*B>>>X,a[c+1]=f*B>>>X,a[c+2]=v*B>>>X):a[c]=a[c+1]=a[c+2]=0,c=s+((c=l+L)<O?c:O)*T<<2,_-=U.r-(U.r=a[c]),f-=U.g-(U.g=a[c+1]),v-=U.b-(U.b=a[c+2]),y-=U.a-(U.a=a[c+3]),U=U.n,d+=T;else for(l=0;l<P;l++)c=d<<2,a[c+3]=x=y*B>>>X,x>0?(x=255/x,a[c]=(_*B>>>X)*x,a[c+1]=(f*B>>>X)*x,a[c+2]=(v*B>>>X)*x):a[c]=a[c+1]=a[c+2]=0,c=s+((c=l+L)<O?c:O)*T<<2,_-=U.r-(U.r=a[c]),f-=U.g-(U.g=a[c+1]),v-=U.b-(U.b=a[c+2]),y-=U.a-(U.a=a[c+3]),U=U.n,d+=T}}},e.prototype.destroy=function(){},e.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],e.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],e}(t.AObject);t.BlurFilter=r}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(t){e.call(this),this.rootContainer=null,this._instanceType="annie.CanvasRender",this._stage=t}return __extends(n,e),n.prototype.begin=function(){var t=this,e=t.rootContainer;t._ctx.setTransform(1,0,0,1,0,0),""!=t._stage.bgColor?(t._ctx.fillStyle=t._stage.bgColor,t._ctx.fillRect(0,0,e.width,e.height)):t._ctx.clearRect(0,0,e.width,e.height)},n.prototype.beginMask=function(t){var e=this;e._ctx.save(),e._ctx.globalAlpha=0,e.drawMask(t),e._ctx.clip()},n.prototype.drawMask=function(t){var e=this;t.updateMatrix();var n=t.cMatrix;if(e._ctx.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),"annie.Shape"==t._instanceType)t._draw(e._ctx,!0);else if("annie.Sprite"==t._instanceType){t._updateState=0;for(var i=0;i<t.children.length;i++)e.drawMask(t.children[i])}else if("annie.MovieClip"==t._instanceType){t._frameState=0,t._updateState=0;for(var i=0;i<t.children.length;i++)e.drawMask(t.children[i])}else{var r=t._bounds;e._ctx.rect(0,0,r.width,r.height)}},n.prototype.endMask=function(){this._ctx.restore()},n.prototype.draw=function(t){var e=this,n=t._texture;if(n&&n.width>0&&n.height>0){var i=e._ctx;i.globalAlpha=t.cAlpha;var r=t.cMatrix;if(i.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),t.rect&&!t._isCache){var o=t.rect;i.drawImage(n,o.x,o.y,o.width,o.height,0,0,o.width,o.height)}else i.translate(t._offsetX,t._offsetY),i.drawImage(n,0,0)}},n.prototype.init=function(){var t=this;t.rootContainer||(t.rootContainer=document.createElement("canvas"),t._stage.rootDiv.appendChild(t.rootContainer),t.rootContainer.id="_a2x_canvas");var e=t.rootContainer;t._ctx=e.getContext("2d")},n.prototype.reSize=function(){var e=this,n=e.rootContainer;n.width=e._stage.divWidth*t.devicePixelRatio,n.height=e._stage.divHeight*t.devicePixelRatio,n.style.width=e._stage.divWidth+"px",n.style.height=e._stage.divHeight+"px"},n.prototype.destroy=function(){var t=this;t.rootContainer=null,t._stage=null,t._ctx=null},n}(t.AObject);t.CanvasRender=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(){e.call(this),this._req=null,this.headers=[],this.responseType="",this.url="",this.method="get",this.data=null,this._fqs=function(t,e){var n=[];if(t)for(var i in t)n.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e&&(n=n.concat(e)),n.join("&")},this._fus=function(t,e){var n=this;if(null==e||""==e)return t;var i=[],r=t.indexOf("?");if(-1!=r){var o=t.slice(r+1);return i=i.concat(o.split("&")),t.slice(0,r)+"?"+n._fqs(e,i)}return t+"?"+n._fqs(e,i)},this._instanceType="annie.URLLoader"}return __extends(n,e),n.prototype.loadCancel=function(){var t=this;t._req&&t._req.abort()},n.prototype.load=function(e,n){void 0===n&&(n="form");var i=this;if(i.loadCancel(),""==i.responseType){var r=e.split("."),o=r[r.length-1],a=o.split("?")[0].toLocaleLowerCase();"mp3"==a||"ogg"==a||"wav"==a?i.responseType="sound":"jpg"==a||"jpeg"==a||"png"==a||"gif"==a?i.responseType="image":"css"==a?i.responseType="css":"mp4"==a?i.responseType="video":"svg"==a?i.responseType="svg":"xml"==a?i.responseType="xml":"json"==a?i.responseType="json":"txt"==a?i.responseType="text":"js"==a?i.responseType="js":"."+a==t.suffixName?i.responseType="swf":i.responseType="unKnow"}var s=0;if(i._req||(i._req=new XMLHttpRequest,i._req.withCredentials=!1,i._req.onprogress=function(t){i.dispatchEvent("onProgress",{loadedBytes:t.loaded,totalBytes:t.total})},i._req.onerror=function(t){if(++s>2)i.dispatchEvent("onError",{id:2,msg:t.message});else if(i._req.abort(),i.data)if("form"==n)i._req.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset=UTF-8"),i._req.send(i._fqs(i.data,null));else{var e="application/json";"json"!=n&&(e="multipart/form-data"),i._req.setRequestHeader("Content-type",e+";charset=UTF-8"),i._req.send(i.data)}else i._req.send()},i._req.onreadystatechange=function(e){if(i._req.readyState===i._req.DONE)if(200==i._req.status||0==i._req.status){var n=new t.Event("onComplete"),r=i._req.response;n.data={type:i.responseType,response:null};var o=void 0;switch(i.responseType){case"css":o=document.createElement("link"),o.rel="stylesheet",o.href=i.url;break;case"image":case"sound":case"video":o=i.url;break;case"json":o=JSON.parse(r);break;case"js":case"swf":o="JS_CODE",t.Eval(r);break;case"text":case"unKnow":case"xml":default:o=r}n.data.response=o,i.data=null,i.responseType="",i.dispatchEvent(n)}else i.dispatchEvent("onError",{id:0,msg:"访问地址不存在"})}),i.data&&"get"==i.method.toLocaleLowerCase()?(i.url=i._fus(e,i.data),i.data=null):i.url=e,"image"==i.responseType||"sound"==i.responseType||"video"==i.responseType?i._req.responseType="blob":i._req.responseType="text",i._req.open(i.method,i.url,!0),i.headers.length>0){for(var l=0;l<i.headers.length;l+=2)i._req.setRequestHeader(i.headers[l],i.headers[l+1]);i.headers.length=0}if(i.data)if("form"==n)i._req.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset=UTF-8"),i._req.send(i._fqs(i.data,null));else{var u="application/json";"json"!=n&&(u="multipart/form-data"),i._req.setRequestHeader("Content-type",u+";charset=UTF-8"),i._req.send(i.data)}else i._req.send()},n.prototype.addHeader=function(t,e){this.headers.push(t,e)},n.prototype.destroy=function(){var t=this;t.loadCancel(),t.headers=null,t.data=null,e.prototype.destroy.call(this)},n}(t.EventDispatcher);t.URLLoader=e}(annie||(annie={}));var annie;!function(t){function e(){R.load(S+"resource/"+L[F]+"/"+L[F]+".res.json?t="+Y)}function n(t){var n=t.data.response;B.push(n),D+=n.length,F++,L[F]?e():(F=0,N=1/D,s())}function i(e){if(I){var n=window,i=e.data.totalBytes;"android"==t.osType&&n.swfBytes&&n.swfBytes[L[F]]&&(i=n.swfBytes[L[F]]),I(100*(X+e.data.loadedBytes/i*N)>>0)}}function r(t,e){void 0===e&&(e=null);var n=null;q=0;for(var i in t)if(n=t[i],1==n.t){if(!n.f){n.f=[];continue}if(n.tf>1){for(var r=n.f,o=r.length,s=null,l=null,u=[],c=0;c<o;c++){if(s=r[c].c){for(var h in s){var d=s[h].at;if(void 0!=d&&-1!=d){if(0==d)u.push(h);else for(var p=0;p<u.length;p++)if(u[p]==d){u.splice(p,0,h);break}delete s[h].at}}if(l)for(var h in l)if(s[h])if(-1!=s[h].at)for(var _ in l[h])void 0==s[h][_]&&(s[h][_]=l[h][_]);else delete s[h];else s[h]=l[h]}l=s}n.ol=u}}else if(e)if(2==t[i]){var f=new Image;f.src=e[i],e[i]=f,q++,e[i].onload=W}else if(5==t[i]){var v=new Audio;v.src=e[i],e[i]=v,q++,e[i].onload=W}q<=0&&a()}function o(e){var n=L[F];if(t._isReleased)r(t.res[L[F]]._a2x_con,t.res[L[F]]);else if("js"!=e.data.type&&"css"!=e.data.type){var i=e.data.response;if(t.res[n][B[F][0].id]=i,"_a2x_con"==B[F][0].id)r(i);else if("image"==e.data.type){var o=new Image;o.src=i,q++,o.onload=W,t.res[n][B[F][0].id]=o}else if("sound"==e.data.type){var s=new Audio;s.src=i,q++,s.onload=W,t.res[n][B[F][0].id]=s}else a()}else a()}function a(){if(A++,X=A/D,B[F].shift(),B[F].length>0)s();else{t.res[L[F]]._f2x_had_loaded_scene=!0;var e={};e.sceneName=L[F],F++,e.sceneId=F,e.sceneTotal=L.length,F==L.length?(C=!1,I(100),U(e)):(U(e),s())}}function s(){var e=S+B[F][0].src;t._isReleased?(k.responseType="swf",e+="?v="+t._isReleased):e+="?v="+Y,k.load(e)}function l(e){return!(void 0==t.res[e]||null==t.res[e]||!t.res[e]._f2x_had_loaded_scene)}function u(e){delete t.res[e];var n=window,i=n[e];for(var r in i)delete i[r];delete n[e],i=null}function c(e,n){var i=t.res;return i[e][n]?i[e][n]:null}function h(e,n){return new t.Bitmap(t.res[e][n])}function d(t,e,n){if(void 0===n&&(n=1),t._a2x_res_obj!=e){void 0!=e.tr&&1!=e.tr.length||(e.tr=[0,0,1,1,0,0]);var i=t._a2x_res_obj;if(i.tr!=e.tr&&(c=e.tr,t.x=c[0],t.y=c[1],t.scaleX=c[2],t.scaleY=c[3],t.skewX=c[4],t.skewY=c[5]),void 0!=e.w&&(t.textWidth=e.w,t.textHeight=e.h,"annie.TextField"==t._instanceType&&(t.y+=2)),t.alpha=void 0==e.al?1:e.al,void 0!=e.t&&(-1==e.t&&t.initButton&&t.initButton(),t._mode=e.t),i.fi!=e.fi)if(void 0!=e.fi){for(var r,o=[],a=void 0,s=0;s<e.fi.length;s++)switch(e.fi[s][0]){case 0:r=.5*(e.fi[s][2]+e.fi[s][3]),a=T.getRGBA(e.fi[s][10],e.fi[s][11]);var l=e.fi[s][4]*Math.cos(e.fi[s][1]),u=e.fi[s][4]*Math.sin(e.fi[s][1]);o[o.length]=new M(a,l,u,r);break;case 1:o[o.length]=new P(e.fi[s][1],e.fi[s][2],e.fi[s][3]);break;case 2:r=.5*(e.fi[s][1]+e.fi[s][2]),a=T.getRGBA(e.fi[s][7],e.fi[s][6]),o[o.length]=new M(a,0,0,r);break;case 6:o[o.length]=new O(e.fi[s][1],e.fi[s][2],e.fi[s][3],e.fi[s][4]);break;case 7:o[o.length]=new E(e.fi[s][1])}o.length>0?t.filters=o:t.filters=null}else t.filters=null;t._a2x_res_obj=e;var c}}function p(e,n){var i,r=t.res[e]._a2x_con[n],o=decodeURIComponent(r[9]),a=decodeURIComponent(r[4]).replace(/\s(Regular|Medium)/,""),s=r[5],l=G[r[3]],u=H[r[2]],c=r[11],h=r[10],d=r[6],p=r[7],_=r[12],f=r[8];return 0==r[1]||1==r[1]?(i=new t.TextField,i.text=o,i.font=a,i.size=s,i.textAlign=l,i.lineType=u,i.italic=c,i.bold=h,i.color=d,i.textAlpha=p,i.border=_,i.lineHeight=f):(i=new t.InputText(r[2]),i.initInfo(o,d,l,s,a,_,f),i.italic=c,i.bold=h),i}function _(e,n){var i="_f2x_s"+n;if(t.res[e][i])return t.res[e][i];var r=null,o=h(e,n);return o?(r=o.rect?t.Bitmap.convertToImage(o,!1):o.bitmapData,t.res[e][i]=r,r):(console.log("error:矢量位图填充时,未找到位图资源!"),null)}function f(e,n){for(var i=t.res[e]._a2x_con[n][1],r=new t.Shape,o=0;o<i.length;o++)1==i[o][0]?(0==i[o][1]?r.beginFill(t.Shape.getRGBA(i[o][2][0],i[o][2][1])):1==i[o][1]?r.beginLinearGradientFill(i[o][2][0],i[o][2][1]):2==i[o][1]?r.beginRadialGradientFill(i[o][2][0],i[o][2][1]):r.beginBitmapFill(h(e,i[o][2][0]).bitmapData,i[o][2][1]),r.decodePath(i[o][3]),r.endFill()):(0==i[o][1]?r.beginStroke(t.Shape.getRGBA(i[o][2][0],i[o][2][1]),i[o][4],i[o][5],i[o][6],i[o][7]):1==i[o][1]?r.beginLinearGradientStroke(i[o][2][0],i[o][2][1],i[o][4],i[o][5],i[o][6],i[o][7]):2==i[o][1]?r.beginRadialGradientStroke(i[o][2][0],i[o][2][1],i[o][4],i[o][5],i[o][6],i[o][7]):r.beginBitmapStroke(h(e,i[o][2][0]).bitmapData,i[o][2][1],i[o][4],i[o][5],i[o][6],i[o][7]),r.decodePath(i[o][3]),r.endStroke());return r}function v(e,n){return new t.Sound(t.res[e][n])}function y(e){var n=new x;e.isNeedOption&&n.addHeader("X-Requested-With","XMLHttpRequest"),n.method=void 0==e.type?"get":e.type,n.data=void 0==e.data?null:e.data,n.responseType=void 0==e.responseType?"text":e.responseType,void 0!=e.success&&n.addEventListener(t.Event.COMPLETE,e.success),void 0!=e.error&&n.addEventListener(t.Event.ERROR,e.error),n.load(e.url)}function g(t,e,n,i){var r=window;1==e&&(r[n]=i);var o=document.createElement("script"),a=document.getElementsByTagName("head")[0];o.onload=function(t){0==e&&i(r[n]),t.path[0].src="",r[n]=null,delete r[n],a.removeChild(t.path[0])},a.appendChild(o);var s;s=t.indexOf("?")>0?"&":"?",o.src=t+s+"a_n_n_i_e="+Math.random()+"&callback="+n}function m(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(e);return null!=n?decodeURIComponent(n[2]):null}function b(e,n,i){var r=window,o=t.res[n],a=o._a2x_con,s=a[i];e._a2x_res_class=s;var l,u=!1;if(s.tf>1&&(u=!0,void 0==s.timeLine)){var c=s.f.length,_=[],y=c>0?s.f[0].i:s.tf,g=0;if(y>0)for(var m=0;m<y;m++)_[_.length]=-1;if(c>0)for(l=0;l<c;l++){g=l+1<c?s.f[l+1].i:s.tf,y=s.f[l].i;for(var m=0;m<g-y;m++)_[_.length]=l}s.timeLine=_,s.f||(s.f=[]),s.a||(s.a={}),s.s||(s.s={}),s.e||(s.e={});var x={};if(s.l)for(var w in s.l)for(var E=0;E<s.l[w].length;E++)x[s.l[w][E]]=parseInt(w)+1;else s.l=[];s.label=x}var T=s.c;if(T){var P=[],M=T.length,O=null,C=0,L=null,S=0;for(l=0;l<M;l++){switch(C=Array.isArray(a[T[l]])?a[T[l]][0]:a[T[l]].t){case 1:case 4:s.n&&s.n[l]&&e[s.n[l]]?O=e[s.n[l]]:(4==C?O=p(n,T[l]):0==T[l].indexOf("_$")?(O=a[T[l]].tf>1?new t.MovieClip:new t.Sprite,b(O,n,T[l])):O=new r[n][T[l]],s.n&&s.n[l]&&(e[s.n[l]]=O,O.name=s.n[l]));break;case 2:O=h(n,T[l]);break;case 3:O=f(n,T[l]);break;case 5:O=v(n,T[l]),O.name=T[l],e.addSound(O)}if(u)P[P.length]=O,5==C&&(O.isPlaying=!1,e._a2x_sounds||(e._a2x_sounds={}),e._a2x_sounds[l]=O);else{var w=l+1;5==C?O._loop=O._repeate=s.s[0][w]:(d(O,s.f[0].c[w]),void 0!=s.f[0].c[w].ma?(L=O,S=s.f[0].c[w].ma-1):L&&l<=S&&(O.mask=L,l==S&&(L=null)),e.addChildAt(O,0))}}if(u){var F=s.ol;if(F)for(var D=0;D<F.length;D++)e._a2x_res_children[D]=[F[D],P[F[D]-1]]}}}var x=t.URLLoader,w=t.Event,E=t.ColorFilter,T=t.Shape,P=t.BlurFilter,M=t.ShadowFilter,O=t.ColorMatrixFilter;t._isReleased=!1,t.suffixName=".swf",t._shareSceneList=[],t.res={};var C,L,S,F,D,A,U,I,R,k,j,B,X,N,Y=(new Date).getTime();t.loadScene=function(r,a,u,c){if(void 0===c&&(c=""),C&&(R.loadCancel(),k.loadCancel()),L=[],S=c,"string"==typeof r)if(l(r)){var h={};h.sceneName=r,h.sceneId=1,h.sceneTotal=1,u(h)}else t.res[r]={},L.push(r);else for(var d=r.length,p=0,_=0;_<d;_++)if(l(r[_])){var h={};h.sceneName=r[_],h.sceneId=++p,h.sceneTotal=d,u(h)}else t.res[r[_]]={},L.push(r[_]);if(0!=L.length)if(j||(R=new x,R.addEventListener(w.COMPLETE,n),k=new x,k.addEventListener(w.COMPLETE,o),k.addEventListener(w.PROGRESS,i),j=!0),X=0,F=0,D=0,A=0,C=!0,U=u,I=a,B=[],t._isReleased){if(t._shareSceneList.length>0&&!l("f2xShare"))for(var _=0;_<L.length;_++)if(t._shareSceneList.indexOf(L[_])>=0){L.unshift("f2xShare");break}F=0,D=L.length,N=1/D;for(var _=0;_<D;_++)B.push([{src:"src/"+L[_]+"/"+L[_]+t.suffixName}]);s()}else e()};var q=0,W=function(t){t.target.onload=null,--q<=0&&a()};t.isLoadedScene=l,t.unLoadScene=u,t.getResource=c,t.d=d;var H=["single","multiline"],G=["left","center","right"];t.sb=_,t.ajax=y,t.jsonp=g,t.getQueryString=m,t.initRes=b,console.log("https://github.com/flash2x/AnnieJS")}(annie||(annie={}));var annie;!function(t){var e=function(t){function e(){t.call(this),this.pause=!1,this.currentFrame=0,this.totalFrames=0,this._isLoop=0,this._delay=0,this._isFront=!0,this._cParams=null,this._loop=!1}return __extends(e,t),e.prototype.init=function(t,e,n,i,r){if(void 0===i&&(i=!0),void 0===r&&(r=!0),e<=0||"number"!=typeof e)throw new Error("annie.Tween.to()或者annie.Tween.from()方法的第二个参数一定要是大于0的数字");var o=this;o.currentFrame=1;var a=60*e>>0;o.totalFrames=a>0?a:1,o.target=t,o._isTo=i,o._isLoop=0,o._startData={},o._disData={},o._delay=0,o._isFront=!0,o._ease=null,o._update=null,o._cParams=null,o._loop=!1,o._completeFun=null;for(var s in n)switch(s){case"useFrame":1==n[s]&&(o.totalFrames=e);break;case"yoyo":!1===n[s]?o._isLoop=0:!0===n[s]?o._isLoop=Number.MAX_VALUE:o._isLoop=n[s];break;case"delay":n.useFrame?o._delay=n[s]:o._delay=60*n[s]>>0;break;case"ease":o._ease=n[s];break;case"onUpdate":o._update=n[s];break;case"onComplete":o._completeFun=n[s];break;case"completeParams":o._cParams=n[s];break;case"loop":o._loop=n[s];break;default:"number"==typeof n[s]&&(i?(o._startData[s]=t[s],o._disData[s]=n[s]-t[s]):(o._startData[s]=n[s],o._disData[s]=t[s]-n[s],t[s]=n[s]))}},e.prototype.update=function(){var t=this;if(!t.pause){if(t._isFront&&t._delay>0)return void t._delay--;var e=t.currentFrame/t.totalFrames;if(!(e<0||e>1)){t._ease&&(e=t._ease(e));var i=!1;for(var r in t._disData)i=!0,t.target[r]=t._startData[r]+t._disData[r]*e;if(!i)return void n.kill(t.instanceId);t._update&&t._update(e);var o=t._completeFun,a=t._cParams;t._isFront?++t.currentFrame>t.totalFrames&&(t._loop?t.currentFrame=1:(o&&o(0==t._isLoop,a),t._isLoop>0?(t._isFront=!1,t.currentFrame=t.totalFrames,t._isLoop--):n.kill(t.instanceId))):--t.currentFrame<0&&(o&&o(0==t._isLoop,a),t._isLoop>0?(t._isFront=!0,t.currentFrame=1):n.kill(t.instanceId))}}},e.prototype.destroy=function(){var t=this;t._update=null,t._completeFun=null,t._ease=null},e}(t.AObject);t.TweenObj=e;var n=function(){function n(){}return n.to=function(t,e,i){return n.createTween(t,e,i,!0)},n.from=function(t,e,i){return n.createTween(t,e,i,!1)},n.createTween=function(i,r,o,a,s){void 0===s&&(s=!0);for(var l,u=n._tweenList.length,c=0;c<u;c++)if(l=n._tweenList[c],i==l.target)for(var h in l._startData)void 0!=o[h]&&(delete l._startData[h],delete l._disData[h]);return u=n._tweenPool.length,u>0?(l=n._tweenPool.shift(),l._instanceId=t.AObject._object_id++):l=new e,n._tweenList.push(l),l.init(i,r,o,a,s),l.instanceId},n.killAll=function(){for(var t,e=n._tweenList.length,i=0;i<e;i++)t=n._tweenList[i],t.target=null,t._completeFun=null,t._cParams=null,t._update=null,t._ease=null,t._loop=!1,n._tweenPool.push(t);n._tweenList.length=0},n.kill=function(t){for(var e,i=n._tweenList.length,r=0;r<i;r++)if(e=n._tweenList[r],e.instanceId==t){e.target=null,e._completeFun=null,e._cParams=null,e._update=null,e._ease=null,e._loop=null,n._tweenPool.push(e),n._tweenList.splice(r,1);break}},n.quadraticIn=function(t){return t*t},n.quadraticOut=function(t){return t*(2-t)},n.quadraticInOut=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},n.cubicIn=function(t){return t*t*t},n.cubicOut=function(t){return--t*t*t+1},n.cubicInOut=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},n.quarticIn=function(t){return t*t*t*t},n.quarticOut=function(t){return 1- --t*t*t*t},n.quarticInOut=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},n.quinticIn=function(t){return t*t*t*t*t},n.quinticOut=function(t){return--t*t*t*t*t+1},n.quinticInOut=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},n.sinusoidalIn=function(t){return 1-Math.cos(t*Math.PI/2)},n.sinusoidalOut=function(t){return Math.sin(t*Math.PI/2)},n.sinusoidalInOut=function(t){return.5*(1-Math.cos(Math.PI*t))},n.exponentialIn=function(t){return 0===t?0:Math.pow(1024,t-1)},n.exponentialOut=function(t){return 1===t?1:1-Math.pow(2,-10*t)},n.exponentialInOut=function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},n.circularIn=function(t){return 1-Math.sqrt(1-t*t)},n.circularOut=function(t){return Math.sqrt(1- --t*t)},n.circularInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},n.elasticIn=function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},n.elasticOut=function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},n.elasticInOut=function(t){return 0===t?0:1===t?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1)},n.backIn=function(t){var e=1.70158;return t*t*((e+1)*t-e)},n.backOut=function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},n.backInOut=function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},n.bounceIn=function(t){return 1-n.bounceOut(1-t)},n.bounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},n.bounceInOut=function(t){return t<.5?.5*n.bounceIn(2*t):.5*n.bounceOut(2*t-1)+.5},n.flush=function(){for(var t=n._tweenList.length,e=t-1;e>=0;e--)n._tweenList[e]?n._tweenList[e].update():n._tweenList.splice(e,1)},n._tweenPool=[],n._tweenList=[],n}();t.Tween=n}(annie||(annie={}));var annie;!function(t){var e=function(t){function e(n,i){void 0===i&&(i=0),t.call(this),this._currentCount=0,this._delay=0,this._frameDelay=0,this._currentFrameDelay=0,this._repeatCount=0,this._running=!1,n<=0&&(n=1);var r=this;r._delay=n,r._frameDelay=Math.ceil(.001*n*60),r._repeatCount=i,e._timerList.push(r)}return __extends(e,t),e.prototype.reset=function(){var t=this;t._running=!1,t._currentCount=0,t._currentFrameDelay=0},e.prototype.start=function(){var t=this;t._running=!0,t._currentCount==t._repeatCount&&(t._currentCount=0)},e.prototype.stop=function(){this._running=!1},Object.defineProperty(e.prototype,"currentCount",{get:function(){return this._currentCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},set:function(t){this._delay=t,this._frameDelay=Math.ceil(.001*t*60)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"repeatCount",{get:function(){return this._repeatCount},set:function(t){t<0&&(t=0),this._repeatCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"running",{get:function(){return this._running},enumerable:!0,configurable:!0}),e.prototype.kill=function(){for(var t=e._timerList.length,n=this,i=0;i<t;i++)if(e._timerList[i]._instanceId==n._instanceId){e._timerList.splice(i,1);break}},e.prototype.update=function(){var t=this;t._running&&++t._currentFrameDelay==t._frameDelay&&(t._repeatCount&&t._currentCount++,t._currentFrameDelay=0,t.dispatchEvent("onTimer"),t._repeatCount&&t._currentCount==t._repeatCount&&(t._running=!1,t.dispatchEvent("onTimerComplete")))},e.flush=function(){for(var t=e._timerList.length,n=t-1;n>=0;n--)e._timerList[n]?e._timerList[n].update():e._timerList.splice(n,1)},e.prototype.destroy=function(){this.kill(),t.prototype.destroy.call(this)},e._timerList=[],e}(t.EventDispatcher);t.Timer=e}(annie||(annie={}));var annie;!function(t){function e(t){window.location.href=t}function n(t){var e=new XMLHttpRequest;e.open("get",t,!0),e.send()}t.Eval=eval.bind(window),t.debug=!1,t.version="2.1.0",t.osType=function(){var t=navigator.userAgent.toLocaleLowerCase(),e=/android/,n=/iphone|ipod|ipad/;return e.test(t)?"android":n.test(t)?"ios":"pc"}(),t.globalDispatcher=new t.EventDispatcher,t.devicePixelRatio=window.devicePixelRatio?window.devicePixelRatio:1,t.StageScaleMode={EXACT_FIT:"exactFit",NO_BORDER:"noBorder",NO_SCALE:"noScale",SHOW_ALL:"showAll",FIXED_WIDTH:"fixedWidth",FIXED_HEIGHT:"fixedHeight"},t.navigateToURL=e,t.sendToURL=n;var i=null;t.toDisplayDataURL=function(e,n,r,o){void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=""),i||(i=new t.CanvasRender(null),i.rootContainer=t.DisplayObject._canvas);var a={p:e.parent,x:e.x,y:e.y};e.parent=null,e._cp=!0,e.x=e.y=0,n||(n=e.getDrawRect()),e.x=-n.x,e.y=-n.y;var s=n.width,l=n.height;return i.rootContainer.width=s,i.rootContainer.height=l,i.rootContainer.style.width=s/t.devicePixelRatio+"px",i.rootContainer.style.height=l/t.devicePixelRatio+"px",i._ctx=i.rootContainer.getContext("2d"),""==o?i._ctx.clearRect(0,0,s,l):(i._ctx.fillStyle=o,i._ctx.fillRect(0,0,s,l)),e.render(i),e.parent=a.p,e._cp=!0,e.x=a.x,e.y=a.y,r?r.quality&&(r.quality/=100):r={type:"png"},i.rootContainer.toDataURL("image/"+r.type,r.quality)},t.toDisplayCache=function(e){i||(i=new t.CanvasRender(null),i.rootContainer=t.DisplayObject._canvas);var n={p:e.parent,x:e.x,y:e.y,scX:e.scaleX,scY:e.scaleY,r:e.rotation,skX:e.skewX,skY:e.skewY};e.parent=null,e._cp=!0,e.x=e.y=0,e.scaleX=e.scaleY=1,e.rotation=e.skewX=e.skewY=0;var r=e.getBounds(),o=r.width,a=r.height;return e.x=-r.x,e.y=-r.y,e._offsetX=r.x,e._offsetY=r.y,i.rootContainer.width=o,i.rootContainer.height=a,i.rootContainer.style.width=o/t.devicePixelRatio+"px",i.rootContainer.style.height=a/t.devicePixelRatio+"px",i._ctx=i.rootContainer.getContext("2d"),i._ctx.clearRect(0,0,o,a),e.render(i),e.parent=n.p,e._cp=!0,e.x=n.x,e.y=n.y,e.scaleX=n.scX,e.scaleY=n.scY,e.rotation=n.r,e.skewX=n.skX,e.skewY=n.skY,i.rootContainer.toDataURL("image/png")},t.getStagePixels=function(e,n){var i=e.localToGlobal(new t.Point(n.x,n.y))
;return e.renderObj.rootContainer.getContext("2d").getImageData(i.x,i.y,n.width,n.height)}}(annie||(annie={})),annie.Stage.addUpdateObj(annie.Tween),annie.Stage.addUpdateObj(annie.Timer),annie.Stage.flushAll();
window.AnnieRoot= window;
window.A2xExtend=__extends;
window.trace=console.log;