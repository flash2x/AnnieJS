var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},annie;!function(e){var t=function(){function e(){this._instanceId=0,this._instanceType="AObject",this._instanceId=e._object_id++}return Object.defineProperty(e.prototype,"instanceId",{get:function(){return this._instanceId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instanceType",{get:function(){return this._instanceType},enumerable:!0,configurable:!0}),e._object_id=0,e}();e.AObject=t;var n=function(t){function n(){t.call(this),this.eventTypes=null,this._instanceType="annie.EventDispatcher",this.eventTypes={}}return __extends(n,t),n.getMouseEventCount=function(e){void 0===e&&(e="");var t=0;if(""==e)for(var i in n._MECO)0==i.indexOf("onMouse")&&(t+=n._MECO[i]);else n._MECO[e]&&(t=n._MECO[e]);return t},n.prototype.addEventListener=function(e,t){if(!e)throw new Error("添加侦听的type值为undefined");if(!t)throw new Error("侦听回调函数不能为null");var n=this;n.eventTypes[e]||(n.eventTypes[e]=[]),n.eventTypes[e].indexOf(t)<0&&(n.eventTypes[e].unshift(t),0==e.indexOf("onMouse")&&n._changeMouseCount(e,!0))},n.prototype._changeMouseCount=function(e,t){var i=t?1:-1;n._MECO[e]||(n._MECO[e]=0),n._MECO[e]+=i,n._MECO[e]<0&&(n._MECO[e]=0),n._totalMEC+=i},n.prototype.dispatchEvent=function(t,n){void 0===n&&(n=null);var i=this;"string"==typeof t&&(t=new e.Event(t));var r=i.eventTypes[t.type];if(r){var a=r.length;null==t.target&&(t.target=i),null!=n&&(t.data=n);for(var o=a-1;o>=0;o--)r[o]?r[o](t):r.splice(o,1);return!0}return!1},n.prototype.hasEventListener=function(e){return!!(this.eventTypes[e]&&this.eventTypes[e].length>0)},n.prototype.removeEventListener=function(e,t){var n=this,i=n.eventTypes[e];if(i)for(var r=i.length,a=r-1;a>=0;a--)i[a]===t&&(i.splice(a,1),0==e.indexOf("onMouse")&&n._changeMouseCount(e,!1))},n.prototype.removeAllEventListener=function(){var e=this;for(var t in e.eventTypes)if(0==t.indexOf("onMouse"))for(var n=0;n<e.eventTypes[t].length;n++)e._changeMouseCount(t,!1);e.eventTypes={}},n._MECO={},n._totalMEC=0,n}(t);e.EventDispatcher=n}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t){e.call(this),this.type="",this.target=null,this.data=null,this._pd=!1,this._instanceType="annie.Event",this.type=t}return __extends(t,e),t.prototype.preventDefault=function(){this._pd=!0},t.RESIZE="onResize",t.ON_PLAY_UPDATE="onPlayUpdate",t.ON_PLAY_END="onPlayEnd",t.ON_PLAY_START="onPlayStart",t.ON_FLIP_START="onFlipStart",t.ON_FLIP_STOP="onFlipStop",t.ON_SCROLL_TO_HEAD="onScrollToHead",t.ON_SCROLL_STOP="onScrollStop",t.ON_SCROLL_START="onScrollStart",t.ON_SCROLL_TO_END="onScrollToEnd",t.ON_SLIDE_START="onSlideStart",t.ON_SLIDE_END="onSlideEnd",t.INIT_TO_STAGE="onInitStage",t.ADD_TO_STAGE="onAddToStage",t.REMOVE_TO_STAGE="onRemoveToStage",t.ENTER_FRAME="onEnterFrame",t.END_FRAME="onEndFrame",t.CALL_FRAME="onCallFrame",t.COMPLETE="onComplete",t.PROGRESS="onProgress",t.ERROR="onError",t.ABORT="onAbort",t.START="onStart",t.TIMER="onTimer",t.TIMER_COMPLETE="onTimerComplete",t}(e.AObject);e.Event=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t){e.call(this,t),this.clientX=0,this.clientY=0,this.stageX=0,this.stageY=0,this.localX=0,this.localY=0,this.currentTarget=null,this._instanceType="annie.MouseEvent"}return __extends(t,e),t.prototype.updateAfterEvent=function(){this.target.stage._uae=!0},t.MOUSE_DOWN="onMouseDown",t.MOUSE_UP="onMouseUp",t.CLICK="onMouseClick",t.MOUSE_MOVE="onMouseMove",t.MOUSE_OVER="onMouseOver",t.MOUSE_OUT="onMouseOut",t}(e.Event);e.MouseEvent=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(n){t.call(this,n),this.clientPoint1=new e.Point,this.clientPoint2=new e.Point,this.scale=0,this.rotate=0,this._instanceType="annie.TouchEvent"}return __extends(n,t),n.prototype.updateAfterEvent=function(){this.target.stage._uae=!0},n.ON_MULTI_TOUCH="onMultiTouch",n}(e.Event);e.TouchEvent=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t,n){void 0===t&&(t=0),void 0===n&&(n=0),e.call(this),this.x=0,this.y=0;var i=this;i._instanceType="annie.Point",i.x=t,i.y=n}return __extends(t,e),t.distance=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=e.length;return 4==n?Math.sqrt((e[0]-e[2])*(e[0]-e[2])+(e[1]-e[3])*(e[1]-e[3])):2==n?Math.sqrt((e[0].x-e[1].x)*(e[0].x-e[1].x)+(e[0].y-e[1].y)*(e[0].y-e[1].y)):void 0},t}(e.AObject);e.Point=t}(annie||(annie={}));var annie;!function(e){function t(e){switch(e){case r:case-a:return 0;case i:case-i:return-1;case a:case-r:return 0;default:return Math.cos(e)}}function n(e){switch(e){case r:case-a:return 1;case i:case-i:return 0;case a:case-r:return-1;default:return Math.sin(e)}}var i=Math.PI,r=i>>1,a=i+r,o=Math.PI/180,s=function(i){function r(t,n,r,a,o,s){void 0===t&&(t=1),void 0===n&&(n=0),void 0===r&&(r=0),void 0===a&&(a=1),void 0===o&&(o=0),void 0===s&&(s=0),i.call(this),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.transformPoint=function(t,n,i){void 0===i&&(i=null);var r=this;return i||(i=new e.Point),i.x=t*r.a+n*r.c+r.tx,i.y=t*r.b+n*r.d+r.ty,i},this.prepend=function(e){var t=this,n=e.a,i=e.b,r=e.c,a=e.d,o=e.tx,s=e.ty,l=t.a,c=t.c,u=t.tx;t.a=n*l+r*t.b,t.b=i*l+a*t.b,t.c=n*c+r*t.d,t.d=i*c+a*t.d,t.tx=n*u+r*t.ty+o,t.ty=i*u+a*t.ty+s};var l=this;l._instanceType="annie.Matrix",l.a=t,l.b=n,l.c=r,l.d=a,l.tx=o,l.ty=s}return __extends(r,i),r.prototype.clone=function(){var e=this;return new r(e.a,e.b,e.c,e.d,e.tx,e.ty)},r.prototype.setFrom=function(e){var t=this;t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t.tx=e.tx,t.ty=e.ty},r.prototype.identity=function(){var e=this;e.a=e.d=1,e.b=e.c=e.tx=e.ty=0},r.prototype.invert=function(){var e=this,t=new r(e.a,e.b,e.c,e.d,e.tx,e.ty),n=e.a,i=e.b,a=e.c,o=e.d,s=e.tx,l=e.ty;if(0==i&&0==a)return 0==n||0==o?t.a=t.d=t.tx=t.ty=0:(n=t.a=1/n,o=t.d=1/o,t.tx=-n*s,t.ty=-o*l),t;var c=n*o-i*a;if(0==c)return t.identity(),t;c=1/c;var u=t.a=o*c;return i=t.b=-i*c,a=t.c=-a*c,o=t.d=n*c,t.tx=-(u*s+a*l),t.ty=-(i*s+o*l),t},r.prototype.createBox=function(e,i,r,a,s,l,c,u,d){var h=this;if(0!=s?l=c=s%360:(l%=360,c%=360),0==l&&0==c)h.a=r,h.b=h.c=0,h.d=a;else{l*=o,c*=o;var p=t(l),_=n(l);l==c?(h.a=p*r,h.b=_*r):(h.a=t(c)*r,h.b=n(c)*r),h.c=-_*a,h.d=p*a}h.tx=e+u-(u*h.a+d*h.c),h.ty=i+d-(u*h.b+d*h.d)},r.isEqual=function(e,t){return e.tx==t.tx&&e.ty==t.ty&&e.a==t.a&&e.b==t.b&&e.c==t.c&&e.d==t.d},r.prototype.concat=function(e){var t=this,n=t.a,i=t.b,r=t.c,a=t.d,o=t.tx,s=t.ty,l=e.a,c=e.b,u=e.c,d=e.d,h=e.tx,p=e.ty;t.a=n*l+i*u,t.b=n*c+i*d,t.c=r*l+a*u,t.d=r*c+a*d,t.tx=o*l+s*u+h,t.ty=o*c+s*d+p},r.prototype.rotate=function(e){var t=this,n=Math.sin(e),i=Math.cos(e),r=t.a,a=t.b,o=t.c,s=t.d,l=t.tx,c=t.ty;t.a=r*i-a*n,t.b=r*n+a*i,t.c=o*i-s*n,t.d=o*n+s*i,t.tx=l*i-c*n,t.ty=l*n+c*i},r.prototype.scale=function(e,t){var n=this;n.a*=e,n.d*=t,n.c*=e,n.b*=t,n.tx*=e,n.ty*=t},r.prototype.translate=function(e,t){var n=this;n.tx+=e,n.ty+=t},r}(e.AObject);e.Matrix=s}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t,n,i,r){void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=0),e.call(this),this.x=0,this.y=0,this.width=0,this.height=0;var a=this;a._instanceType="annie.Rectangle",a.x=t,a.y=n,a.height=r,a.width=i}return __extends(t,e),t.prototype.isPointIn=function(e){var t=this;return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height},t.createFromRects=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];for(var r,a,o,s,l=e.x,c=e.y,u=e.width,d=e.height,h=0;h<n.length;h++)null!=n[h]&&(r=l+u,o=c+d,a=n[h].x+n[h].width,s=n[h].y+n[h].height,l>n[h].x&&(l=n[h].x),c>n[h].y&&(c=n[h].y),a>r&&(r=a),s>o&&(o=s));return new t(l,c,r-l,o-c)},t.createFromPoints=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];for(var r=e.x,a=e.y,o=e.x,s=e.y,l=0;l<n.length;l++)null!=n[l]&&(r>n[l].x&&(r=n[l].x),a>n[l].y&&(r=n[l].y),o<n[l].x&&(o=n[l].x),s<n[l].y&&(s=n[l].y));return new t(r,a,o-r,s-a)},t.createRectform2Point=function(e,t,n){var i=t.x,r=t.y,a=t.x,o=t.y;i>n.x&&(i=n.x),r>n.y&&(i=n.y),a<n.x&&(a=n.x),o<n.y&&(o=n.y),e.x=i,e.y=r,e.width=a-i,e.height=o-r},t.testRectCross=function(e,t){var n,i,r,a;return n=e.x+e.width/2,i=e.y+e.height/2,r=t.x+t.width/2,a=t.y+t.height/2,Math.abs(n-r)<=e.width/2+t.width/2&&Math.abs(i-a)<=e.height/2+t.height/2},t}(e.AObject);e.Rectangle=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){t.call(this),this._updateInfo={UM:!1,UA:!1,UF:!1},this.stage=null,this.cAlpha=1,this.cMatrix=new e.Matrix,this._enterFrameEvent=null,this.mouseEnable=!0,this.cFilters=[],this.name="",this._x=0,this._y=0,this._scaleX=1,this._scaleY=1,this._rotation=0,this._alpha=1,this._skewX=0,this._skewY=0,this._anchorX=0,this._anchorY=0,this._visible=!0,this.blendMode="normal",this._matrix=new e.Matrix,this.mask=null,this._filters=[],this.parent=null,this._cp=!0,this._cacheImg=null,this._cacheX=0,this._cacheY=0,this._bounds=new e.Rectangle,this._drawRect=new e.Rectangle,this._isNeedUpdate=!0,this._instanceType="annie.DisplayObject"}return __extends(n,t),Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(e){this._setProperty("_x",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(e){this._setProperty("_y",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleX",{get:function(){return this._scaleX},set:function(e){this._setProperty("_scaleX",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleY",{get:function(){return this._scaleY},set:function(e){this._setProperty("_scaleY",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._setProperty("_rotation",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alpha",{get:function(){return this._alpha},set:function(e){this._setProperty("_alpha",e,1)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"skewX",{get:function(){return this._skewX},set:function(e){this._setProperty("_skewX",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"skewY",{get:function(){return this._skewY},set:function(e){this._setProperty("_skewY",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anchorX",{get:function(){return this._anchorX},set:function(e){this._setProperty("_anchorX",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anchorY",{get:function(){return this._anchorY},set:function(e){this._setProperty("_anchorY",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this._visible},set:function(e){this._setProperty("_visible",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"matrix",{get:function(){return this._matrix},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filters",{get:function(){return this._filters},set:function(e){this._setProperty("_filters",e,2)},enumerable:!0,configurable:!0}),n.prototype.globalToLocal=function(e,t){return void 0===t&&(t=null),this.cMatrix.invert().transformPoint(e.x,e.y,t)},n.prototype.localToGlobal=function(e,t){return void 0===t&&(t=null),this.cMatrix.transformPoint(e.x,e.y,t)},n.prototype.hitTestPoint=function(e,t){void 0===t&&(t=!1);var i=this;return i.visible?t&&!i.mouseEnable?null:i.getBounds().isPointIn(i.globalToLocal(e,n._bp))?i:null:null},n.prototype.getDrawRect=function(){var t=this,n=t.getBounds(),i=t.matrix.transformPoint(n.x,n.y),r=t.matrix.transformPoint(n.x+n.width,n.y+n.height);return e.Rectangle.createRectform2Point(t._drawRect,i,r),t._drawRect},n.prototype.update=function(t,n,i){var r=this;r.hasEventListener("onEnterFrame")&&(r._enterFrameEvent||(r._enterFrameEvent=new e.Event("onEnterFrame")),r.dispatchEvent(r._enterFrameEvent));var a=r._updateInfo;if(r._cp&&(a.UM=a.UA=a.UF=!0,r._cp=!1),a.UM&&r._matrix.createBox(r._x,r._y,r._scaleX,r._scaleY,r._rotation,r._skewX,r._skewY,r._anchorX,r._anchorY),(t||a.UM)&&(r.cMatrix.setFrom(r._matrix),r.parent&&r.cMatrix.prepend(r.parent.cMatrix)),(n||a.UA)&&(r.cAlpha=r._alpha,r.parent&&(r.cAlpha*=r.parent.cAlpha)),i||a.UF){r.cFilters.length=0;var o=r._filters;if(o)for(var s=o.length,l=0;s>l;l++)r.cFilters.push(o[l]);if(r.parent&&r.parent.cFilters.length>0)for(var s=r.parent.cFilters.length,c=r.parent.cFilters,l=s-1;l>=0;l--)r.cFilters.unshift(c[l])}},n.prototype.render=function(e){var t=this,n=t.cFilters,i=n.length,r=-1;if(i)for(var a=0;i>a;a++)if("Shadow"==t.cFilters[a].type){r=a;break}if(r>=0){var o=e._ctx;o.shadowBlur=n[r].blur,o.shadowColor=n[r].color,o.shadowOffsetX=n[r].offsetX,o.shadowOffsetY=n[r].offsetY,e.draw(t),o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0}else e.draw(t)},n.prototype._onDispatchBubbledEvent=function(e,t){void 0===t&&(t=!1);var n=this;("onRemoveToStage"!=e||n.stage)&&(n.stage=n.parent.stage,n.dispatchEvent(e),"onRemoveToStage"==e&&(n.stage=null))},Object.defineProperty(n.prototype,"width",{get:function(){return this.getWH().width},set:function(e){var t=this,n=t.width;if(0!=e){var i=e/n;t.scaleX*=i}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.getWH().height},set:function(e){var t=this,n=t.height;if(0!=e){var i=e/n;t.scaleY*=i}},enumerable:!0,configurable:!0}),n.prototype.getWH=function(){var e=this;e.update(!0,!1,!1);var t=e.getDrawRect();return{width:t.width,height:t.height}},n.prototype._setProperty=function(e,t,n){var i=this;if(i[e]!=t){i[e]=t;var r=i._updateInfo;0==n?r.UM=!0:1==n?r.UA=!0:2==n?r.UF=!0:3==n?i._isNeedUpdate=!0:4==n&&(i._cp=!0)}},n._bp=new e.Point,n._canvas=window.document.createElement("canvas"),n}(e.EventDispatcher);e.DisplayObject=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(e,n){void 0===e&&(e=null),void 0===n&&(n=null),t.call(this),this._bitmapData=null,this._realCacheImg=null,this.rect=null,this._isCache=!1,this.hitTestWidthPixel=!1;var i=this;i._instanceType="annie.Bitmap",i.rect=n,i.bitmapData=e}return __extends(n,t),Object.defineProperty(n.prototype,"bitmapData",{get:function(){return this._bitmapData},set:function(e){var t=this;t._setProperty("_bitmapData",e,3),e?(t._bounds.width=t.rect?t.rect.width:e.width,t._bounds.height=t.rect?t.rect.height:e.height):t._bounds.width=t._bounds.height=0},enumerable:!0,configurable:!0}),n.prototype.update=function(n,i,r){var a=this;t.prototype.update.call(this,n,i,r);var o=a._bitmapData;if((a._isNeedUpdate||r||a._updateInfo.UF)&&o){if(a._isNeedUpdate=!1,a.cFilters.length>0){a._realCacheImg||(a._realCacheImg=window.document.createElement("canvas"));var s=a._realCacheImg,l=a.rect,c=l?l.width:o.width,u=l?l.height:o.height,d=c+20,h=u+20;s.width=d,s.height=h,s.style.width=d/e.devicePixelRatio+"px",s.style.height=h/e.devicePixelRatio+"px";var p=s.getContext("2d");p.clearRect(0,0,d,h),p.translate(10,10),p.shadowBlur=0,p.shadowColor="#0",p.shadowOffsetX=0,p.shadowOffsetY=0,l?p.drawImage(a._bitmapData,l.x,l.y,c,u,0,0,c,u):p.drawImage(a._bitmapData,0,0);var _=a.cFilters,f=_.length;if(f>0){for(var v=p.getImageData(0,0,d,h),m=0;f>m;m++)_[m].drawFilter(v);p.putImageData(v,0,0)}a._cacheImg=a._realCacheImg,a._cacheX=-10,a._cacheY=-10,a._isCache=!0}else a._isCache=!1,a._cacheX=0,a._cacheY=0,a._cacheImg=o;var g=void 0,y=void 0;a.rect?(g=a.rect.width,y=a.rect.height):(g=a._cacheImg.width+2*a._cacheX,y=a._cacheImg.height+2*a._cacheY),a._bounds.width=g,a._bounds.height=y,a._cacheImg.updateTexture=!0}a._updateInfo.UF=!1,a._updateInfo.UM=!1,a._updateInfo.UA=!1},n.prototype.getBounds=function(){return this._bounds},n.convertToImage=function(e,t){if(void 0===t&&(t=!0),e.rect){var n=window.document.createElement("canvas"),i=e.rect.width,r=e.rect.height;n.width=i,n.height=r;var a=n.getContext("2d"),o=e.rect;if(a.drawImage(e.bitmapData,o.x,o.y,i,r,0,0,i,r),t){var s=new Image;return s.src=n.toDataURL(),s}return n}return e.bitmapData},n.prototype.hitTestPoint=function(t,n){void 0===n&&(n=!1);var i=this;if(n&&!i.mouseEnable)return null;var r=i.globalToLocal(t);if(r.x+=i._cacheX,r.y+=i._cacheY,i.getBounds().isPointIn(r)){if(!i.hitTestWidthPixel)return i;var a=i._cacheImg;if(!a||0==a.width||0==a.height)return null;var o=e.DisplayObject._canvas;o.width=1,o.height=1;var s=o.getContext("2d");if(s.clearRect(0,0,1,1),i.rect&&(r.x+=i.rect.x,r.y+=i.rect.y),s.setTransform(1,0,0,1,-r.x,-r.y),s.drawImage(a,0,0),s.getImageData(0,0,1,1).data[3]>0)return i}return null},n}(e.DisplayObject);e.Bitmap=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){t.call(this),this._command=[],this.hitTestWidthPixel=!0,this.beginRadialGradientFill=function(e,t,i){this._fill(n.getGradientColor(e,t,i))},this.beginRadialGradientStroke=function(e,t,i,r,a,o,s){void 0===r&&(r=1),void 0===a&&(a="butt"),void 0===o&&(o="miter"),void 0===s&&(s=10),this._stroke(n.getGradientColor(e,t,i),r,a,o,s)},this.decodePath=function(e){for(var t,i=this,r=["moveTo","lineTo","quadraticCurveTo","bezierCurveTo","closePath"],a=[2,2,4,6,0],o=0,s=e.length,l=0,c=0,u=n.BASE_64;s>o;){var d=e.charAt(o),h=u[d],p=h>>3,_=r[p];if(!_||3&h)throw"bad path data (@"+o+"): "+d;var f=a[p];p||(l=c=0),t=[],o++;for(var v=(h>>2&1)+2,m=0;f>m;m++){var g=u[e.charAt(o)],y=g>>5?-1:1;g=(31&g)<<6|u[e.charAt(o+1)],3==v&&(g=g<<6|u[e.charAt(o+2)]),g=y*g/10,m%2?l=g+=l:c=g+=c,t[m]=g,o+=v}i.addDraw(_,t)}},this._instanceType="annie.Shape",this._cacheImg=window.document.createElement("canvas")}return __extends(n,t),n.getGradientColor=function(t,n,i){var r,a=e.DisplayObject._canvas.getContext("2d");r=4==i.length?a.createLinearGradient(i[0],i[1],i[2],i[3]):a.createRadialGradient(i[0],i[1],i[2],i[3],i[4],i[5]);for(var o=0,s=t.length;s>o;o++)r.addColorStop(n[o],t[o]);return r},n.getBitmapStyle=function(t){var n=e.DisplayObject._canvas.getContext("2d");return n.createPattern(t,"repeat")},n.getRGBA=function(e,t){if(0==e.indexOf("0x")&&(e=e.replace("0x","#")),e.length<7&&(e="#000000"),1!=t){var n=parseInt("0x"+e.substr(1,2)),i=parseInt("0x"+e.substr(3,2)),r=parseInt("0x"+e.substr(5,2));e="rgba("+n+","+i+","+r+","+t+")"}return e},n.prototype.addDraw=function(e,t){var n=this;n._isNeedUpdate=!0,n._command.push([1,e,t])},n.prototype.drawRoundRect=function(e,t,n,i,r,a,o,s){void 0===r&&(r=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===s&&(s=0);var l=(i>n?n:i)/2,c=0,u=0,d=0,h=0;0>r&&(r*=c=-1),r>l&&(r=l),0>a&&(a*=u=-1),a>l&&(a=l),0>s&&(s*=d=-1),s>l&&(s=l),0>o&&(o*=h=-1),o>l&&(o=l);var p=this._command;p.push([1,"moveTo",[e+n-a,t]]),p.push([1,"arcTo",[e+n+a*u,t-a*u,e+n,t+a,a]]),p.push([1,"lineTo",[e+n,t+i-s]]),p.push([1,"arcTo",[e+n+s*d,t+i+s*d,e+n-s,t+i,s]]),p.push([1,"lineTo",[e+o,t+i]]),p.push([1,"arcTo",[e-o*h,t+i+o*h,e,t+i-o,o]]),p.push([1,"lineTo",[e,t+r]]),p.push([1,"arcTo",[e-r*c,t-r*c,e+r,t,r]]),p.push([1,"closePath",[]])},n.prototype.moveTo=function(e,t){this._command.push([1,"moveTo",[e,t]])},n.prototype.lineTo=function(e,t){this._command.push([1,"lineTo",[e,t]])},n.prototype.arcTo=function(e,t){this._command.push([1,"arcTo",[e,t]])},n.prototype.quadraticCurveTo=function(e,t,n,i){this._command.push([1,"quadraticCurveTo",[e,t,n,i]])},n.prototype.bezierCurveTo=function(e,t,n,i,r,a){this._command.push([1,"bezierCurveTo",[e,t,n,i,r,a]])},n.prototype.closePath=function(){this._command.push([1,"closePath",[]])},n.prototype.drawRect=function(e,t,n,i){var r=this._command;r.push([1,"moveTo",[e,t]]),r.push([1,"lineTo",[e+n,t]]),r.push([1,"lineTo",[e+n,t+i]]),r.push([1,"lineTo",[e,t+i]]),r.push([1,"closePath",[]])},n.prototype.drawArc=function(e,t,n,i,r){this._command.push([1,"arc",[e,t,n,i/180*Math.PI,r/180*Math.PI]])},n.prototype.drawCircle=function(e,t,n){this._command.push([1,"arc",[e,t,n,0,2*Math.PI]])},n.prototype.drawEllipse=function(e,t,n,i){var r=.5522848,a=n/2*r,o=i/2*r,s=e+n,l=t+i,c=e+n/2,u=t+i/2,d=this._command;d.push([1,"moveTo",[e,u]]),d.push([1,"bezierCurveTo",[e,u-o,c-a,t,c,t]]),d.push([1,"bezierCurveTo",[c+a,t,s,u-o,s,u]]),d.push([1,"bezierCurveTo",[s,u+o,c+a,l,c,l]]),d.push([1,"bezierCurveTo",[c-a,l,e,u+o,e,u]])},n.prototype.clear=function(){var e=this;e._command=[],e._isNeedUpdate=!0,e._cacheImg&&(e._cacheImg.width=0,e._cacheImg.height=0),e._cacheX=0,e._cacheY=0,e._bounds.width=0,e._bounds.height=0},n.prototype.beginFill=function(e){this._fill(e)},n.prototype.beginLinearGradientFill=function(e,t,i){this._fill(n.getGradientColor(e,t,i))},n.prototype.beginBitmapFill=function(e,t){var i=this;t&&(i._isBitmapFill=t),i._fill(n.getBitmapStyle(e))},n.prototype._fill=function(e){var t=this._command;t.push([0,"fillStyle",e]),t.push([1,"beginPath",[]]),this._isNeedUpdate=!0},n.prototype.beginStroke=function(e,t,n,i,r){void 0===t&&(t=1),void 0===n&&(n=""),void 0===i&&(i=""),void 0===r&&(r=0),this._stroke(e,t,n,i,r)},n.prototype.beginLinearGradientStroke=function(e,t,i,r,a,o,s){void 0===r&&(r=1),void 0===a&&(a="butt"),void 0===o&&(o="miter"),void 0===s&&(s=10),this._stroke(n.getGradientColor(e,t,i),r,a,o,s)},n.prototype.beginBitmapStroke=function(e,t,i,r,a,o){void 0===i&&(i=1),void 0===r&&(r="butt"),void 0===a&&(a="miter"),void 0===o&&(o=10);var s=this;t&&(s._isBitmapStroke=t),s._stroke(n.getBitmapStyle(e),i,r,a,o)},n.prototype._stroke=function(e,t,n,i,r){var a=this._command;a.push([0,"lineWidth",t]),a.push([0,"lineCap",n]),a.push([0,"lineJoin",i]),a.push([0,"miterLimit",r]),a.push([0,"strokeStyle",e]),a.push([1,"beginPath",[]]),this._isNeedUpdate=!0},n.prototype.endFill=function(){var e=this,t=e._command,n=e._isBitmapFill;n&&t.push([2,"setTransform",[n.a,n.b,n.c,n.d,n.tx,n.ty]]),t.push([1,"fill",[]]),n&&(e._isBitmapFill=null)},n.prototype.endStroke=function(){var e=this,t=e._command,n=e._isBitmapStroke;n&&t.push([2,"setTransform",[n.a,n.b,n.c,n.d,n.tx,n.ty]]),t.push([1,"stroke",[]]),n&&(e._isBitmapStroke=null)},n.prototype.update=function(n,i,r){var a=this;if(t.prototype.update.call(this,n,i,r),a._isNeedUpdate||r||a._updateInfo.UF){var o=a._command.length,s=void 0,l=void 0,c=void 0,u=void 0,d=void 0;if(o>0){var h=void 0,p=0,_=0,f=0;for(d=0;o>d;d++)if(h=a._command[d],1==h[0]){if("moveTo"==h[1]||"lineTo"==h[1]||"arcTo"==h[1]||"bezierCurveTo"==h[1])void 0==s&&(s=h[2][0]),void 0==l&&(l=h[2][1]),void 0==c&&(c=h[2][0]),void 0==u&&(u=h[2][1]),"bezierCurveTo"==h[1]?(s=Math.min(s,h[2][0],h[2][2],h[2][4]),l=Math.min(l,h[2][1],h[2][3],h[2][5]),c=Math.max(c,h[2][0],h[2][2],h[2][4]),u=Math.max(u,h[2][1],h[2][3],h[2][5]),p=h[2][4],_=h[2][5]):(s=Math.min(s,h[2][0]),l=Math.min(l,h[2][1]),c=Math.max(c,h[2][0]),u=Math.max(u,h[2][1]),p=h[2][0],_=h[2][1]);else if("quadraticCurveTo"==h[1]){var v=.5*(p+h[2][0]),m=.5*(p+h[2][1]),g=.5*(h[2][0]+h[2][2]),y=.5*(h[2][1]+h[2][3]);void 0==s&&(s=v),void 0==l&&(l=m),void 0==c&&(c=v),void 0==u&&(u=m),s=Math.min(s,v,g,h[2][2]),l=Math.min(l,m,y,h[2][3]),c=Math.max(c,v,g,h[2][2]),u=Math.max(u,m,y,h[2][3]),p=h[2][2],_=h[2][3]}else if("arc"==h[1]){var b=h[2][0],x=h[2][1],E=h[2][2],T=b-E,w=x-E,F=b+E,M=x+E;void 0==s&&(s=T),void 0==l&&(l=w),void 0==c&&(c=F),void 0==u&&(u=M),s=Math.min(s,T),l=Math.min(l,w),c=Math.max(c,F),u=Math.max(u,M)}}else"lineWidth"==h[1]&&f<h[2]&&(f=h[2]);if(void 0!=s||f>0){void 0==s&&(s=0,l=0),s-=20+f>>1,l-=20+f>>1,c+=20+f>>1,u+=20+f>>1;var L=c-s,C=u-l;a._cacheX=s,a._cacheY=l,a._bounds.width=L-20,a._bounds.height=C-20;var I=a._cacheImg,P=I.getContext("2d");I.width=L,I.height=C,I.style.width=L/e.devicePixelRatio+"px",I.style.height=C/e.devicePixelRatio+"px",P.clearRect(0,0,L,C),P.setTransform(1,0,0,1,-s,-l),a._drawShape(P);var S=a.cFilters,O=S.length;if(O>0){for(var R=P.getImageData(0,0,L,C),A=0;O>A;A++)S[A].drawFilter(R);P.putImageData(R,0,0)}I.updateTexture=!0}}a._isNeedUpdate=!1}a._updateInfo.UM=!1,a._updateInfo.UA=!1,a._updateInfo.UF=!1},n.prototype._drawShape=function(e,t){void 0===t&&(t=!1);for(var n,i=this,r=i._command,a=r.length,o=i._cacheX,s=i._cacheY,l=0;a>l;l++)if(n=r[l],n[0]>0){var c=n[2].length;if(0==c)e[n[1]]();else if(2==c)e[n[1]](n[2][0],n[2][1]);else if(4==c)e[n[1]](n[2][0],n[2][1],n[2][2],n[2][3]);else if(5==c)e[n[1]](n[2][0],n[2][1],n[2][2],n[2][3],n[2][4]);else if(6==c){var u=n[2][4],d=n[2][5];2==n[0]&&(u-=o,d-=s),e[n[1]](n[2][0],n[2][1],n[2][2],n[2][3],u,d)}}else t||(e[n[1]]=n[2])},n.prototype.getBounds=function(){return this._bounds},n.prototype.hitTestPoint=function(t,n){void 0===n&&(n=!1);var i=this;if(n&&!i.mouseEnable)return null;var r=i.globalToLocal(t);if(r.x-=i._cacheX,r.y-=i._cacheY,i.getBounds().isPointIn(r)){if(!i.hitTestWidthPixel)return i;var a=i._cacheImg;if(!a||0==a.width||0==a.height)return null;var o=e.DisplayObject._canvas;o.width=1,o.height=1;var s=o.getContext("2d");if(s.clearRect(0,0,1,1),s.setTransform(1,0,0,1,-r.x,-r.y),s.drawImage(a,0,0),s.getImageData(0,0,1,1).data[3]>0)return i}return null},n.prototype.changeColor=function(e){for(var t=this,n=t._command.length,i=t._command,r=0;n>r;r++)0==i[r][0]&&("fillStyle"==i[r][1]&&e.fillColor&&i[r][2]!=e.fillColor&&(i[r][2]=e.fillColor,t._isNeedUpdate=!0),"strokeStyle"==i[r][1]&&e.strokeColor&&i[r][2]!=e.strokeColor&&(i[r][2]=e.strokeColor,t._isNeedUpdate=!0),"lineWidth"==i[r][1]&&e.lineWidth&&i[r][2]!=e.lineWidth&&(i[r][2]=e.lineWidth,t._isNeedUpdate=!0))},n.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},n}(e.DisplayObject);e.Shape=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){t.call(this),this.mouseChildren=!0,this.children=[],this._instanceType="annie.Sprite"}return __extends(n,t),n.prototype.addChild=function(e){this.addChildAt(e,this.children.length)},n.prototype.removeChild=function(e){for(var t=this,n=t.children.length,i=0;n>i;i++)if(t.children[i]==e){t.removeChildAt(i);break}},n._getElementsByName=function(e,t,i,r,a){var o=t.children.length;if(o>0)for(var s,l=void 0,c=0;o>c;c++){if(l=t.children[c],s=l.name,s&&""!=s&&e.test(s)&&(a.push(l),i))return;r&&null!=l.children&&n._getElementsByName(e,l,i,r,a)}},n.prototype.getChildByName=function(e,t,i){if(void 0===t&&(t=!0),void 0===i&&(i=!1),!e)return null;var r,a=this;r="string"==typeof e?new RegExp("^"+e+"$"):e;var o=[];n._getElementsByName(r,a,t,i,o);var s=o.length;return 0==s?null:1==s?o[0]:o},n.prototype.addChildAt=function(e,t){if(e){var n,i=this,r=i==e.parent;if(e.parent)if(r){n=i.children.length;for(var a=0;n>a;a++)if(i.children[a]==e){i.children.splice(a,1);break}}else e.parent.removeChild(e);e.parent=i,n=i.children.length,t>=n?i.children.push(e):0==t?i.children.unshift(e):i.children.splice(t,0,e),i.stage&&!r&&(e._cp=!0,e._onDispatchBubbledEvent("onAddToStage"))}},n.prototype.getChildAt=function(e){return this.children.length-1>=e?this.children[e]:null},n.prototype.getChildIndex=function(e){for(var t=this.children.length,n=0;t>n;n++)if(this.children[n]==e)return n;return-1},n.prototype._onDispatchBubbledEvent=function(e,n){void 0===n&&(n=!1);var i=this,r=i.children.length;if("onRemoveToStage"!=e||i.stage){i.stage=i.parent.stage;for(var a=0;r>a;a++)i.children[a]._onDispatchBubbledEvent(e,n);t.prototype._onDispatchBubbledEvent.call(this,e,n)}},n.prototype.removeChildAt=function(e){var t,n=this,i=n.children.length-1;0>i||(t=e==i?n.children.pop():0==e?n.children.shift():n.children.splice(e,1)[0],t._onDispatchBubbledEvent("onRemoveToStage"),t.parent=null)},n.prototype.removeAllChildren=function(){for(var e=this,t=e.children.length,n=t-1;n>=0;n--)e.removeChildAt(0)},n.prototype.update=function(e,n,i){var r=this;t.prototype.update.call(this,e,n,i),r._updateInfo.UM&&(e=!0),r._updateInfo.UA&&(n=!0),r._updateInfo.UF&&(i=!0);for(var a,o=r.children.length,s=[],l=o-1;l>=0;l--)a=r.children[l],a.mask&&s.indexOf(a.mask.instanceId)<0&&(a.mask.parent=r,r.totalFrames&&a.mask.totalFrames?(a.mask.gotoAndStop(r.currentFrame),a.mask.update(!0)):a.mask.update(e),s.push(a.mask.instanceId)),a.update(e,n,i);r._updateInfo.UM=!1,r._updateInfo.UA=!1,r._updateInfo.UF=!1},n.prototype.hitTestPoint=function(e,t){void 0===t&&(t=!1);var n=this;if(!n._visible)return null;if(t&&!n.mouseEnable)return null;for(var i,r,a=n.children.length,o=a-1;o>=0;o--)if(r=n.children[o],(!r.mask||r.mask.hitTestPoint(e,t))&&(i=r.hitTestPoint(e,t)))return i;return null},n.prototype.getBounds=function(){var t,n=this,i=n.children.length;if(0==i)t=new e.Rectangle;else{t=n.children[0].getDrawRect();for(var r=1;i>r;r++)t=e.Rectangle.createFromRects(t,n.children[r].getDrawRect())}return t},n.prototype.render=function(e){var t=this;if(!t._cp&&t.cAlpha>0&&t._visible){for(var n=void 0,i=void 0,r=t.children.length,a=0;r>a;a++)i=t.children[a],i.cAlpha>0&&i._visible&&(n?i.mask?i.mask!=n&&(e.endMask(),n=i.mask,e.beginMask(n)):(e.endMask(),n=null):i.mask&&(n=i.mask,e.beginMask(n)),i.render(e));n&&e.endMask()}},n}(e.DisplayObject);e.Sprite=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t,n){e.call(this),this.media=null,this.type="",this._loop=0;var i=this;i._instanceType="annie.Media","string"==typeof t?(i.media=document.createElement(n),i.media.src=t):i.media=t,i._SBWeixin=i._weixinSB.bind(i),i.media.addEventListener("ended",function(){i._loop--,i._loop>0?i.play(0,i._loop):i.media.pause(),i.dispatchEvent("onPlayEnd")}.bind(i)),i.type=n.toLocaleUpperCase(),i.media.addEventListener("timeupdate",function(){i.dispatchEvent("onPlayUpdate",{currentTime:i.media.currentTime})}),i.media.addEventListener("play",function(){i.dispatchEvent("onPlayStart")})}return __extends(t,e),t.prototype.play=function(e,t){void 0===e&&(e=0),void 0===t&&(t=1);var n=this;n._loop=t;try{n.media.currentTime=e}catch(i){trace(i)}var r=window;if(r.WeixinJSBridge)try{r.WeixinJSBridge.invoke("getNetworkType",{},n._SBWeixin)}catch(i){n.media.play()}else n.media.play()},t.prototype._weixinSB=function(){this.media.play()},t.prototype.stop=function(){this.media.pause(),this.media.currentTime=0},t.prototype.pause=function(e){void 0===e&&(e=!0),e?this.media.pause():this.media.play()},Object.defineProperty(t.prototype,"volume",{get:function(){return this.media.volume},set:function(e){this.media.volume=e,0==e?this.media.muted=!0:this.media.muted=!1},enumerable:!0,configurable:!0}),t}(e.EventDispatcher);e.Media=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(n){t.call(this,n,"Audio"),this._instanceType="annie.Sound",e.Sound._soundList.push(this)}return __extends(n,t),n.prototype.destory=function(){for(var t=e.Sound._soundList.length,n=t-1;n>=0;n--)e.Sound._soundList[n]&&e.Sound._soundList[n]!=this||e.Sound._soundList.splice(n,1)},n.stopAllSounds=function(){for(var t=e.Sound._soundList.length,n=t-1;n>=0;n--)e.Sound._soundList[n]?e.Sound._soundList[n].stop():e.Sound._soundList.splice(n,1)},n.setAllSoundsVolume=function(t){for(var n=e.Sound._soundList.length,i=n-1;i>=0;i--)e.Sound._soundList[i]?e.Sound._soundList[i].volume=t:e.Sound._soundList.splice(i,1)},n._soundList=[],n}(e.Media);e.Sound=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t,n,i){void 0===n&&(n=0),void 0===i&&(i=0),e.call(this,t,"Video");var r=this;r._instanceType="annie.Video",r.media.setAttribute("playsinline","true"),r.media.setAttribute("webkit-playsinline","true"),r.media.setAttribute("x-webkit-airplay","true"),r.media.setAttribute("x5-video-player-type","h5"),r.media.poster="",r.media.preload="auto",r.media.controls=!1,n&&i&&(r.media.width=n,r.media.height=i)}return __extends(t,e),t}(e.Media);e.Video=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(n){t.call(this),this.src="",this._lastSrc="",this._needBufferFrame=0,this._currentLoadIndex=0,this.currentFrame=0,this.currentBitmap=null,this.totalsFrame=1,this.rect=null,this.loop=!1,this._isLoaded=!1,this.canPlay=!1,this.isPlaying=!0,this.autoplay=!1;var i=this;i._instanceType="annie.ImageFrames",i.src=n,i.rect=new e.Rectangle,i.list=[],i._urlLoader=new e.URLLoader,i._urlLoader.addEventListener(e.Event.COMPLETE,i.success.bind(i));
}return __extends(n,t),n.prototype.success=function(e){var t=this;if("json"==e.data.type){t._configInfo={};for(var n in e.data.response)t._configInfo[n]=e.data.response[n];t._startTime=Date.now(),t._urlLoader.responseType="image",t.loadImage()}else if(t.list.push(e.data.response),t._currentLoadIndex=t.list.length,t._currentLoadIndex==t._configInfo.totalsPage)t.canPlay||(t.canPlay=!0),t._isLoaded=!0,t.dispatchEvent("onload");else{t.loadImage();var i=t._currentLoadIndex*t._configInfo.pageCount;if(i>30){if(0==t._needBufferFrame){var r=Date.now(),a=r-t._startTime;1e3>a?t._needBufferFrame=60:1500>a?t._needBufferFrame=90:2e3>a?t._needBufferFrame=120:2500>a?t._needBufferFrame=150:t._needBufferFrame=180}i>=t._needBufferFrame&&!t.canPlay&&(t.canPlay=!0,t.dispatchEvent("oncanplay"))}}},n.prototype.update=function(){var e=this;if(e.canPlay&&e.autoplay){if(e.currentFrame==e._configInfo.totalsFrame)e.currentFrame=0,e.loop||(e.autoplay=!1,e.isPlaying=!1),e.dispatchEvent("onPlayEnd");else if(e.currentFrame<e._currentLoadIndex*e._configInfo.pageCount-1||e._isLoaded){var t=Math.floor(e.currentFrame/e._configInfo.pageCount),n=e.currentFrame%e._configInfo.pageCount,i=Math.floor(n/e._configInfo.rowCount),r=n%e._configInfo.rowCount;e.rect.x=r*(e._configInfo.dis+e._configInfo.width)+e._configInfo.dis,e.rect.y=i*(e._configInfo.dis+e._configInfo.height)+e._configInfo.dis,e.rect.width=e._configInfo.width,e.rect.height=e._configInfo.height,e.currentBitmap=e.list[t],e.currentFrame++,e.isPlaying||(e.isPlaying=!0)}else e.canPlay=!1,e.isPlaying=!1;e.dispatchEvent("onPlayUpdate",{currentTime:e._currentLoadIndex})}e.checkChange()},n.prototype.checkChange=function(){var e=this;e._lastSrc!=e.src&&(""!=e.src?(e._urlLoader.responseType="json",e._urlLoader.load(e.src+"/config.json"),e.canPlay=!1,e._currentLoadIndex=0,e.currentFrame=0,e._needBufferFrame=0,e._isLoaded=!1,e._lastSrc=e.src):e.clear())},n.prototype.loadImage=function(){var e=this;e._urlLoader.load(e.src+"/"+e._configInfo.name+e._currentLoadIndex+e._configInfo.type)},n.prototype.play=function(){this.autoplay=!0},n.prototype.pause=function(){this.autoplay=!1},n.prototype.clear=function(){var e=this;e._urlLoader.loadCancel(),e.list=[],e.src="",e._lastSrc=""},n}(e.EventDispatcher);e.ImageFrames=t}(annie||(annie={}));var annie;!function(e){var t=function(){function e(){var e=this;e.frameChildList=new Array,e.keyIndex=0,e.eventName="",e.soundName="",e.soundScene="",e.soundTimes=1}return e.prototype.setDisplayInfo=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var i=this,r={display:e,x:0,y:0,scaleX:1,scaleY:1,rotation:0,skewX:0,skewY:0,alpha:1};Flash2x.d(r,t,n),i.frameChildList.push(r)},e.prototype.setGraphicInfo=function(e,t,n){var i=this,r=i.frameChildList.length-1;i.frameChildList[r].graphicInfo={loopType:e,firstFrame:t,parentFrameIndex:n}},e}(),n=function(n){function i(){n.call(this),this._timeline=[],this.floatView=new e.Sprite,this.currentFrame=1,this.isPlaying=!0,this.isFront=!0,this.totalFrames=1,this._scriptLayer=[],this._labelFrame={},this._frameLabel={},this._isNeedUpdateChildren=!0,this._isUpdateFrame=!1,this._goFrame=1,this._mouseEvent=function(e){var t=this,n=2;"onMouseDown"==e.type?t.currentFrame>2&&(n=3):n=1,t.gotoAndStop(n)};var t=this;t._instanceType="annie.MovieClip",t.addChild(t.floatView)}return __extends(i,n),i.prototype.stop=function(){var e=this;e.isPlaying=!1},i.prototype.as=function(e,t){var n=this;n._scriptLayer[t]=e},i.prototype.addFrameScript=function(e,t){var n=this;n.as(t,e)},i.prototype.removeFrameScript=function(e){var t=this;t._scriptLayer[e]&&(t._scriptLayer[e]=null)},i.prototype.a=function(){var e=this;return e._currentLayer=[],e._timeline.unshift(e._currentLayer),e},i.prototype.b=function(e){var n=this;n._currentLayerFrame=new t,n._currentLayerFrame.keyIndex=n._currentLayer.length;for(var i=0;e>i;i++)n._currentLayer.push(n._currentLayerFrame);return n.totalFrames<n._currentLayer.length&&(n.totalFrames=n._currentLayer.length),n},i.prototype.c=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var i=this;return i._currentLayerFrame.setDisplayInfo(e,t,n),i},i.prototype.g=function(e,t,n){var i=this;return i._currentLayerFrame.setGraphicInfo(e,t,n),i},i.prototype.setGraphicInfo=function(e){var t=this;t._graphicInfo=e},i.prototype.initButton=function(){var e=this;e.mouseChildren=!1,e.totalFrames>1&&(e._scriptLayer[0]=function(){e.stop()},e.addEventListener("onMouseDown",this._mouseEvent.bind(this)),e.addEventListener("onMouseUp",this._mouseEvent.bind(this)),e.addEventListener("onMouseOut",this._mouseEvent.bind(this)))},i.prototype.d=function(e,t){var n=this;return n._labelFrame[e]=t+1,n._frameLabel[t+1]=e,n},i.prototype.getCurrentLabel=function(){var e=this;return e._frameLabel[e.currentFrame]?e._frameLabel[e.currentFrame]:""},i.prototype.e=function(e){var t=this;return t._currentLayerFrame.eventName=e,t},i.prototype.f=function(e,t,n){var i=this;return i._currentLayerFrame.soundName=t,i._currentLayerFrame.soundScene=e,i._currentLayerFrame.soundTimes=n,i},i.prototype.nextFrame=function(){var e=this;e._goFrame<e.totalFrames&&(e._goFrame++,e._isNeedUpdateChildren=!0),e.isPlaying=!1,e._isUpdateFrame=!1},i.prototype.prevFrame=function(){var e=this;e._goFrame>1&&(e._goFrame--,e._isNeedUpdateChildren=!0),e.isPlaying=!1,e._isUpdateFrame=!1},i.prototype.gotoAndStop=function(e){var t=this;t.isPlaying=!1;var n;"string"==typeof e?void 0!=t._labelFrame[e]?n=t._labelFrame[e]:trace("未找到帧标签叫'"+e+"'的帧"):"number"==typeof e&&(e>t.totalFrames&&(e=t.totalFrames),1>e&&(e=1),n=e),t._goFrame!=n&&(t._goFrame=n,t._isNeedUpdateChildren=!0,t._isUpdateFrame=!1)},i.prototype.play=function(e){void 0===e&&(e=!0);var t=this;t.isPlaying=!0,void 0==e?t.isFront=!0:t.isFront=e,t._isUpdateFrame=!0},i.prototype.gotoAndPlay=function(e,t){void 0===t&&(t=!0);var n=this;void 0==t?n.isFront=!0:n.isFront=t,n.isPlaying=!0;var i;"string"==typeof e?void 0!=n._labelFrame[e]?i=n._labelFrame[e]:trace("未找到帧标签叫'"+e+"'的帧"):"number"==typeof e&&(e>n.totalFrames&&(e=n.totalFrames),1>e&&(e=1),i=e),n._goFrame!=i&&(n._goFrame=i,n._isUpdateFrame=!1,n._isNeedUpdateChildren=!0)},i.prototype.setFrameChild=function(e,t){e._donotUpdateinMC=e._donotUpdateinMC||{};for(var n in t)null!=t[n]?e._donotUpdateinMC[n]=t[n]:delete e._donotUpdateinMC[t[n]]},i.prototype.update=function(t,i,r){var a=this;if(a._graphicInfo){var o=a.parent.currentFrame?a.parent.currentFrame:1,s=1,l=a._graphicInfo.parentFrameIndex+1,c=a._graphicInfo.firstFrame+1;"play once"==a._graphicInfo.loopType?o-l>=0&&(s=o-l+c,s>a.totalFrames&&(s=a.totalFrames)):"loop"==a._graphicInfo.loopType?(o-l>=0&&(s=(o-l+c)%a.totalFrames),0==s&&(s=a.totalFrames)):s=c,a._goFrame!=s&&(a._goFrame=s,a._isNeedUpdateChildren=!0),a.isPlaying=!1}else a.isPlaying&&a._isUpdateFrame&&(a.isFront?(a._goFrame++,a._goFrame>a.totalFrames&&(a._goFrame=1)):(a._goFrame--,a._goFrame<1&&(a._goFrame=a.totalFrames)),a._isNeedUpdateChildren=!0);var u=a.currentFrame=a._goFrame;if(a._isUpdateFrame=!0,a._isNeedUpdateChildren){var d=-1,h=a._timeline.length,p=0,_=null,f=null,v=null,m=0,g=a.children,y=void 0,b=[];for(y=0;y<a.children.length-1;y++)g[y].parent=null;for(a.children=[],y=0;h>y;y++)if(p=a._timeline[y].length,p>=u){if(_=a._timeline[y][u-1],void 0==_)continue;if(_.keyIndex==u-1&&(""!=_.soundName&&Flash2x.getMediaByName(_.soundScene,_.soundName).play(0,_.soundTimes),""!=_.eventName&&a.hasEventListener(e.Event.CALL_FRAME))){var x=new e.Event(e.Event.CALL_FRAME);x.data={frameIndex:u,frameName:_.eventName},b.push(x)}m=_.frameChildList.length;for(var E=0;m>E;E++){if(v=_.frameChildList[E],f=v.display,f.x=v.x,f.y=v.y,f.scaleX=v.scaleX,f.scaleY=v.scaleY,f.rotation=v.rotation,f.skewX=v.skewX,f.skewY=v.skewY,f.alpha=v.alpha,v.filters?f.filters=v.filters:f.filters=null,v.graphicInfo?f._graphicInfo=v.graphicInfo:f._graphicInfo&&(f._graphicInfo=null),void 0!=f._donotUpdateinMC)for(var T in f._donotUpdateinMC)void 0!=f._donotUpdateinMC[T]&&(f[T]=f._donotUpdateinMC[T]);f.parent=a,a.children.push(f),d=g.indexOf(f),0>d?(f._onDispatchBubbledEvent("onAddToStage"),f._cp=!0):g.splice(d,1)}}a._isNeedUpdateChildren=!1;var w=g.length;for(y=0;w>y;y++)g[y].parent||(g[y].parent=a,g[y]._onDispatchBubbledEvent("onRemoveToStage",!0),g[y]._cp=!0,g[y].parent=null);if(a.children.push(a.floatView),(1==u&&!a.isFront||u==a.totalFrames&&a.isFront)&&a.hasEventListener(e.Event.END_FRAME)){var F=new e.Event(e.Event.END_FRAME);F.data={frameIndex:u,frameName:1==u?"firstFrame":"endFrame"},b.push(F)}for(w=b.length,y=0;w>y;y++)a.dispatchEvent(b[y]);void 0!=a._scriptLayer[u-1]&&a._scriptLayer[u-1]()}n.prototype.update.call(this,t,i,r)},i.prototype._onDispatchBubbledEvent=function(e,t){if(void 0===t&&(t=!1),n.prototype._onDispatchBubbledEvent.call(this,e),t){var i=this;i._goFrame=1,i.currentFrame=1,i.isPlaying=!0,i.isFront=!0,i._isNeedUpdateChildren=!0,i._isUpdateFrame=!1}},i}(e.Sprite);e.MovieClip=n}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){t.call(this),this.htmlElement=null,this._isAdded=!1,this._instanceType="annie.FloatDisplay";var n=this;n.addEventListener(e.Event.REMOVE_TO_STAGE,function(e){n.htmlElement&&(n.htmlElement.style.display="none")}),n.addEventListener(e.Event.ADD_TO_STAGE,function(e){n._isAdded?n.htmlElement&&n.visible&&(n.htmlElement.style.display="block"):(n._isAdded=!0,n.stage.rootDiv.insertBefore(n.htmlElement,n.stage.rootDiv.childNodes[0]))})}return __extends(n,t),n.prototype.init=function(e){var t=this;"string"==typeof e?e=document.getElementById(e):"annie.Video"==e._instanceType&&(e=e.media);var n=e.style;n.position="absolute",n.display="none",n.transformOrigin=n.WebkitTransformOrigin="0 0 0",t.htmlElement=e},n.prototype.delElement=function(){var e=this.htmlElement;e&&(e.style.display="none",e.parentNode&&e.parentNode.removeChild(e),this._isAdded=!1,this.htmlElement=null)},n.prototype.update=function(n,i,r){var a=this,o=a.htmlElement;if(o){var s=o.style,l=a._visible;if(l)for(var c=a.parent;c;){if(!c._visible){l=!1;break}c=c.parent}var u=l?"block":"none";if(u!=s.display&&(s.display=u),l){if(t.prototype.update.call(this,n,i,r),n||a._updateInfo.UM){var d=a.cMatrix,h=e.devicePixelRatio;s.transform=s.webkitTransform="matrix("+(d.a/h).toFixed(4)+","+(d.b/h).toFixed(4)+","+(d.c/h).toFixed(4)+","+(d.d/h).toFixed(4)+","+(d.tx/h).toFixed(4)+","+(d.ty/h).toFixed(4)+")"}(i||a._updateInfo.UA)&&(s.opacity=a.cAlpha),a._updateInfo.UF=!1,a._updateInfo.UM=!1,a._updateInfo.UA=!1}}},n.prototype.getBounds=function(){return this._bounds},n.prototype.render=function(e){},n}(e.DisplayObject);e.FloatDisplay=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(n,i,r,a){t.call(this),this.video=null,this.videoType=0;var o=this;o._instanceType="annie.VideoPlayer";var s=!0;if(0==i)if("android"==e.osType)s=!1;else{var l=document.createElement("video");s="probably"==l.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')}else 1==i&&(s=!1);s?o.video=new e.Video(n+".mp4",1,1):o.video=new e.ImageFrames(n),o.videoType=s?1:0,o._bounds.width=r,o._bounds.height=a}return __extends(n,t),n.prototype.update=function(e,n,i){var r=this;r.visible&&(0==r.videoType?(r.video.update(e,n,i),r.rect=this.video.rect,r._cacheImg=r.bitmapData=r.video.currentBitmap):r._cacheImg=r.bitmapData=r.video.media,t.prototype.update.call(this,e,n,i))},n}(e.Bitmap);e.VideoPlayer=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){t.call(this),this._textAlign="left",this._lineHeight=0,this._lineWidth=0,this._lineType="single",this._text="",this._font="Arial",this._size=12,this._color="#fff",this._italic=!1,this._bold=!1,this._border=!1,this._instanceType="annie.TextField",this._cacheImg=window.document.createElement("canvas")}return __extends(n,t),Object.defineProperty(n.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._setProperty("_textAlign",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._setProperty("_lineHeight",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(e){this._setProperty("_lineWidth",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineType",{get:function(){return this._lineType},set:function(e){this._setProperty("_lineType",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this._text},set:function(e){this._setProperty("_text",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"font",{get:function(){return this._font},set:function(e){this._setProperty("_font",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._size},set:function(e){this._setProperty("_size",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){return this._color},set:function(e){this._setProperty("_color",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"italic",{get:function(){return this._italic},set:function(e){this._setProperty("_italic",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bold",{get:function(){return this._bold},set:function(e){this._setProperty("_bold",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"border",{get:function(){return this._border},set:function(e){this._setProperty("_border",e,3)},enumerable:!0,configurable:!0}),n.prototype._prepContext=function(e){var t=this,n=t.size||12;n+="px ",n+=t.font,t._bold&&(n="bold "+n),t._italic&&(n="italic "+n),e.font=n,e.textAlign=this._textAlign||"left",e.textBaseline="top",e.fillStyle=this._color},n.prototype._getMeasuredWidth=function(e){var t=this._cacheImg.getContext("2d"),n=t.measureText(e).width;return n},n.prototype.update=function(n,i,r){t.prototype.update.call(this,n,i,r);var a=this;if(a._isNeedUpdate||r||a._updateInfo.UF){a._text+="";var o=a._cacheImg,s=o.getContext("2d"),l=a._text.toString().split(/(?:\r\n|\r|\n)/),c=[];a._prepContext(s);var u=void 0;if(u=a.lineHeight?a.lineHeight:1.2*a._getMeasuredWidth("M"),a.lineWidth?a.lineWidth<u&&(a.lineWidth=u):a.lineWidth=10*u,a._text.indexOf("\n")<0&&"single"==a.lineType){c.push(l[0]);var d=l[0],h=a._getMeasuredWidth(d);if(h>a.lineWidth)for(var p=a._getMeasuredWidth(d[0]),_=d[0],f=0,v=d.length,m=1;v>m;m++){if(f=s.measureText(d[m]).width,p+=f,p>a.lineWidth){c[0]=_;break}_+=d[m]}}else for(var g=0,y=l.length;y>g;g++){var d=l[g];if(d){for(var p=a._getMeasuredWidth(d[0]),_=d[0],f=0,v=d.length,m=1;v>m;m++)f=s.measureText(d[m]).width,p+=f,p>this.lineWidth?(c.push(_),_=d[m],p=f):_+=d[m];c.push(_)}}var b=u*c.length,x=a.lineWidth,E=0;"center"==a.textAlign?E=.5*x:"right"==a.textAlign&&(E=x),o.width=x+20,o.height=b+20,o.style.width=o.width/e.devicePixelRatio+"px",o.style.height=o.height/e.devicePixelRatio+"px",s.clearRect(0,0,o.width,o.width),a.border&&(s.beginPath(),s.strokeStyle="#000",s.lineWidth=1,s.strokeRect(10.5,10.5,x,b),s.closePath()),s.setTransform(1,0,0,1,E+10,10),a._prepContext(s);for(var g=0;g<c.length;g++)s.fillText(c[g],0,g*u,x);var T=a.cFilters,w=T.length;if(w>0){for(var F=s.getImageData(0,0,x,b),g=0;w>g;g++)T[g].drawFilter(F);s.putImageData(F,0,0)}a._cacheX=-10,a._cacheY=-10,a._isNeedUpdate=!1,a._cacheImg.updateTexture=!0,a._bounds.height=b,a._bounds.width=x}a._updateInfo.UM=!1,a._updateInfo.UA=!1,a._updateInfo.UF=!1},n.prototype.getBounds=function(){return this._bounds},n}(e.DisplayObject);e.TextField=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(n){t.call(this),this.inputType="singleline",this.isAutoDownKeyBoard=!0;var i=null,r=this;r._instanceType="annie.InputText","multiline"!=n?(i=document.createElement("input"),n.indexOf("multiline")>=0&&(n="input"),i.type=n):(i=document.createElement("textarea"),i.style.resize="none",i.style.overflow="hidden"),r.inputType=n;var a=function(){r.isAutoDownKeyBoard&&r.htmlElement&&r.htmlElement.blur()}.bind(r);r.addEventListener(e.Event.REMOVE_TO_STAGE,function(t){r.stage.removeEventListener(e.MouseEvent.MOUSE_UP,a)}),r.addEventListener(e.Event.ADD_TO_STAGE,function(t){r.stage.addEventListener(e.MouseEvent.MOUSE_UP,a)}),r.init(i)}return __extends(n,t),n.prototype.init=function(e){t.prototype.init.call(this,e);var n=this;n.htmlElement.style.outline="none",n.htmlElement.style.borderWidth="thin",n.htmlElement.style.borderColor="#000"},n.prototype.initInfo=function(e,t,n,i,r,a,o,s,l){var c=this;c.htmlElement.placeholder=e,c.htmlElement.style.width=t+"px",c.htmlElement.style.height=n+"px",c.htmlElement.style.font=a+"px "+o,c.htmlElement.style.color=i,c.htmlElement.style.textAlign=r,c.border=s,"multiLine"==c.inputType&&(c.htmlElement.style.lineHeight=l+"px")},Object.defineProperty(n.prototype,"bold",{get:function(){return"bold"==this.htmlElement.style.fontWeight},set:function(e){var t=this.htmlElement.style;e?t.fontWeight="bold":t.fontWeight="normal"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"italic",{get:function(){return"italic"==this.htmlElement.style.fontStyle},set:function(e){var t=this.htmlElement.style;e?t.fontStyle="italic":t.fontStyle="normal"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){return this.htmlElement.style.color},set:function(e){var t=this.htmlElement.style;t.color=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"border",{get:function(){return"none"!=this.htmlElement.style.borderStyle},set:function(e){var t=this;e?(t.htmlElement.style.borderStyle="inset",t.htmlElement.style.backgroundColor="#fff"):(t.htmlElement.style.borderStyle="none",t.htmlElement.style.backgroundColor="transparent")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){var e=this;return e.htmlElement?e.htmlElement.value:void 0},set:function(e){var t=this;t.htmlElement&&(t.htmlElement.value=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxCharacters",{get:function(){var e=this.htmlElement.getAttribute("maxlength");return null===e?0:e},set:function(e){this.htmlElement.setAttribute("maxlength",e)},enumerable:!0,configurable:!0}),n}(e.FloatDisplay);e.InputText=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(i,r,a,o,s,l){void 0===i&&(i="annieEngine"),void 0===r&&(r=640),void 0===a&&(a=1040),void 0===o&&(o=30),void 0===s&&(s="fixedHeight"),void 0===l&&(l=0),t.call(this),this.iosTouchendPreventDefault=!0,this.isPreventDefaultEvent=!0,this.rootDiv=null,this.renderObj=null,this.renderType=0,this.pause=!1,this.viewRect=new e.Rectangle,this.isMultiTouch=!1,this.autoSteering=!1,this.autoResize=!1,this.desWidth=0,this.desHeight=0,this.divHeight=0,this.divWidth=0,this.bgColor="",this.scaleMode="onScale",this._flush=0,this._currentFlush=0,this._lastDpList={},this._rid=-1,this._uae=!1,this._ml=[],this._mouseDownPoint={},this._mouseEventTypes={mousedown:"onMouseDown",mouseup:"onMouseUp",mousemove:"onMouseMove",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp"},this.muliPoints=[],this.onMouseEvent=function(t){var n=this;if(n.isMultiTouch&&t.targetTouches)if(2==t.targetTouches.length){var i=new e.Point(t.targetTouches[0].clientX-t.target.offsetLeft,t.targetTouches[0].clientY-t.target.offsetTop),r=new e.Point(t.targetTouches[1].clientX-t.target.offsetLeft,t.targetTouches[1].clientY-t.target.offsetTop),a=Math.atan2(i.y-r.y,i.x-r.x)/Math.PI*180,o=e.Point.distance(i,r);if(n.muliPoints.push({p1:i,p2:r,angle:a,dis:o}),n.muliPoints.length>=2){n._touchEvent||(n._touchEvent=new e.TouchEvent(e.TouchEvent.ON_MULTI_TOUCH),n._touchEvent.target=n);var s=n.muliPoints.length;n._touchEvent.rotate=2*(n.muliPoints[s-1].angle-n.muliPoints[s-2].angle),n._touchEvent.scale=(n.muliPoints[s-1].dis-n.muliPoints[s-2].dis)/(n.divHeight>n.divWidth?n.desWidth:n.desHeight)*4,n._touchEvent.clientPoint1.x=n.muliPoints[s-1].p1.x*e.devicePixelRatio,n._touchEvent.clientPoint2.x=n.muliPoints[s-1].p2.x*e.devicePixelRatio,n._touchEvent.clientPoint1.y=n.muliPoints[s-1].p1.y*e.devicePixelRatio,n._touchEvent.clientPoint2.y=n.muliPoints[s-1].p2.y*e.devicePixelRatio,n.dispatchEvent(n._touchEvent),n.muliPoints=[]}}else n.muliPoints=[];if(e.EventDispatcher._totalMEC>0){var l,c=n._mouseEventTypes[t.type],u=void 0,d=void 0,h=void 0,p=void 0,_=void 0,f=void 0,v=void 0;"pc"==e.osType?(t.identifier="pc",u=[t]):u=t.changedTouches;for(var m=0;m<u.length;m++)if(f=0,d=[],v="m"+u[m].identifier,_=new e.Point((u[m].clientX-u[m].target.offsetLeft)*e.devicePixelRatio,(u[m].clientY-u[m].target.offsetTop)*e.devicePixelRatio),h=n.globalToLocal(_,e.DisplayObject._bp),e.EventDispatcher.getMouseEventCount()>0&&(n._ml[f]?(l=n._ml[f],l.type=c):(l=new e.MouseEvent(c),n._ml[f]=l),d.push(l),n._initMouseEvent(l,_,h),f++),"onMouseDown"==c?n._mouseDownPoint[v]=_:"onMouseUp"==c&&n._mouseDownPoint[v]&&e.Point.distance(n._mouseDownPoint[v],_)<20&&e.EventDispatcher.getMouseEventCount("onMouseClick")>0&&(n._ml[f]?(l=n._ml[f],l.type="onMouseClick"):(l=new e.MouseEvent("onMouseClick"),n._ml[f]=l),d.push(l),n._initMouseEvent(l,_,h),f++),f>0){var g=n.hitTestPoint(_,!0),y=[];if(g)for(;g;)g.mouseChildren===!1&&(y.length=0),y.push(g),g=g.parent;else y.push(n);var s=y.length;y.reverse();for(var b=0;s>b;b++){g=y[b];for(var x=0;f>x;x++)d[x]._pd===!1&&g.hasEventListener(d[x].type)&&(d[x].currentTarget=g,d[x].target=y[s-1],p=g.globalToLocal(_,e.DisplayObject._bp),d[x].localX=p.x,d[x].localY=p.y,g.dispatchEvent(d[x]))}if("onMouseDown"!=c&&(e.EventDispatcher.getMouseEventCount("onMouseOver")>0||e.EventDispatcher.getMouseEventCount("onMouseOut")>0)&&n._lastDpList[v]){var E=n._lastDpList[v].length,T=y.length;s=E>T?E:T;for(var w=!1,F=void 0,M=void 0,b=1;s>b;b++)w||n._lastDpList[v][b]!=y[b]&&(w=!0,n._ml[f]?(F=n._ml[f],F.type="onMouseOver"):(F=new e.MouseEvent("onMouseOver"),n._ml[f]=F),n._initMouseEvent(F,_,h),f++,n._ml[f]?(M=n._ml[f],M.type="onMouseOut"):(M=new e.MouseEvent("onMouseOut"),n._ml[f]=M),n._initMouseEvent(M,_,h)),w&&(n._lastDpList[v][b]&&M._pd===!1&&(g=n._lastDpList[v][b],g.hasEventListener("onMouseOut")&&(M.currentTarget=g,M.target=n._lastDpList[v][E-1],p=g.globalToLocal(_,e.DisplayObject._bp),M.localX=p.x,M.localY=p.y,g.dispatchEvent(M))),y[b]&&F._pd===!1&&(g=y[b],g.hasEventListener("onMouseOver")&&(F.currentTarget=g,F.target=y[T-1],p=g.globalToLocal(_,e.DisplayObject._bp),F.localX=p.x,F.localY=p.y,g.dispatchEvent(F))))}"onMouseUp"==c?(n._mouseDownPoint[v]=null,n._lastDpList[v]=null,delete n._mouseDownPoint[v],delete n._lastDpList[v]):n._lastDpList[v]=y}}n.isPreventDefaultEvent&&("touchend"==t.type&&"ios"==e.osType&&n.iosTouchendPreventDefault&&t.preventDefault(),("touchmove"==t.type||"touchstart"==t.type&&"android"==e.osType)&&t.preventDefault()),n._uae&&(n.update(),n._uae=!1)},this.setAlign=function(){var t=this,n=t.divHeight*e.devicePixelRatio,i=t.divWidth*e.devicePixelRatio,r=t.desHeight,a=t.desWidth,o=n>i,s=r>a,l=1,c=1;if(t.x=(i-a)/2,t.y=(n-r)/2,t.autoSteering&&s!=o){var u=n;n=i,i=u}if("noScale"!=t.scaleMode)switch(l=n/r,c=i/a,t.scaleMode){case"noBorder":c>l?l=c:c=l;break;case"showAll":l>c?l=c:c=l;break;case"fixedWidth":l=c;break;case"fixedHeight":c=l}t.scaleX=c,t.scaleY=l,t.viewRect.x=(a-i/c)/2,t.viewRect.y=(r-n/l)/2,t.viewRect.width=a-2*t.viewRect.x,t.viewRect.height=r-2*t.viewRect.y,t.autoSteering?s==o?t.rotation=0:r>a?t.rotation=-90:t.rotation=90:t.rotation=0},this.resize=function(){var e=this,t=e.getRootDivWH(e.rootDiv);e._updateInfo.UM=!0,e.divHeight=t.h,e.divWidth=t.w,e.renderObj.reSize(),e.setAlign()};var c=this;this._instanceType="annie.Stage",c.stage=this;var u="resize";c.name="stageInstance_"+c.instanceId;var d=document.getElementById(i);c.renderType=l,c.desWidth=r,c.desHeight=a,c.rootDiv=d,c.setFrameRate(o),c.scaleMode=s,c.anchorX=r/2,c.anchorY=a/2,0==l?c.renderObj=new e.CanvasRender(c):c.renderObj=new e.WGRender(c),c.renderObj.init(),window.addEventListener(u,function(t){clearTimeout(c._rid),c._rid=setTimeout(function(){c.autoResize&&c.resize();var t=new e.Event("onResize");c.dispatchEvent(t)},300)}),setTimeout(function(){if(c.resize(),n.addUpdateObj(c),e.debug&&!n._isLoadedVConsole){var t=document.createElement("script");t.onload=function(){c.dispatchEvent(new e.Event("onInitStage")),t.onload=null},document.head.appendChild(t),t.src="libs/vConsole.min.js"}else c.dispatchEvent(new e.Event("onInitStage"))},100);var h=c.renderObj.rootContainer,p=c.onMouseEvent.bind(c);"pc"!=e.osType?(h.addEventListener("touchstart",p,!1),h.addEventListener("touchmove",p,!1),h.addEventListener("touchend",p,!1)):(h.addEventListener("mousedown",p,!1),h.addEventListener("mousemove",p,!1),h.addEventListener("mouseup",p,!1))}return __extends(n,t),n.prototype.update=function(){var e=this;if(!e.pause){var n=e._updateInfo;t.prototype.update.call(this,n.UM,n.UA,n.UF)}},n.prototype.render=function(e){var n=this;n.pause||(e.begin(),t.prototype.render.call(this,e))},n.prototype._initMouseEvent=function(e,t,n){e._pd=!1,e.clientX=t.x,e.clientY=t.y,e.stageX=n.x,e.stageY=n.y},n.prototype.flush=function(){var e=this;0==e._flush?(e.update(),e.render(e.renderObj)):0==e._currentFlush?(e.update(),e._currentFlush=e._flush):(e._currentFlush==e._flush&&e.render(e.renderObj),e._currentFlush--)},n.prototype.setFrameRate=function(e){var t=this;t._flush=60/e-1>>0,t._flush<0&&(t._flush=0)},n.prototype.getFrameRate=function(){return 60/(this._flush+1)},n.prototype.getRootDivWH=function(e){var t=e.style.width,n=e.style.height,i=document.body.clientWidth,r=document.body.clientHeight,a=parseInt(t),o=parseInt(n);return"NaN"==a.toString()?a=i:t.indexOf("%")>0&&(a*=i/100),"NaN"==o.toString()?o=r:n.indexOf("%")>0&&(o*=r/100),{w:a,h:o}},n.prototype.kill=function(){n.removeUpdateObj(this)},n.prototype.getBounds=function(){return this.viewRect},n.flushAll=function(){for(var e=n.allUpdateObjList.length,t=0;e>t;t++)n.allUpdateObjList[t]&&n.allUpdateObjList[t].flush();requestAnimationFrame(n.flushAll)},n.addUpdateObj=function(e){for(var t=!1,i=n.allUpdateObjList.length,r=0;i>r;r++)if(n.allUpdateObjList[r]===e){t=!0;break}t||n.allUpdateObjList.unshift(e)},n.removeUpdateObj=function(e){for(var t=n.allUpdateObjList.length,i=0;t>i;i++)if(n.allUpdateObjList[i]===e){n.allUpdateObjList.splice(i,1);break}},n._isLoadedVConsole=!1,n.allUpdateObjList=[],n}(e.Sprite);e.Stage=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t,n,i,r){void 0===t&&(t="black"),void 0===n&&(n=2),void 0===i&&(i=2),void 0===r&&(r=2),e.call(this),this.color="black",this.offsetX=2,this.offsetY=2,this.blur=2,this.type="Shadow";var a=this;a._instanceType="annie.ShadowFilter",a.offsetX=n,a.offsetY=i,a.blur=r,a.color=t}return __extends(t,e),t.prototype.toString=function(){var e=this;return e.type+e.offsetX+e.offsetY+e.blur+e.color},t.prototype.drawFilter=function(e){void 0===e&&(e=null)},t}(e.AObject);e.ShadowFilter=t;var n=function(e){function t(t,n,i,r,a,o,s,l){void 0===t&&(t=1),void 0===n&&(n=1),void 0===i&&(i=1),void 0===r&&(r=1),void 0===a&&(a=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===l&&(l=0),e.call(this),this.redMultiplier=0,this.redOffset=0,this.greenMultiplier=0,this.greenOffset=0,this.blueMultiplier=0,this.blueOffset=0,this.alphaMultiplier=0,this.alphaOffset=0,this.type="Color";var c=this;c._instanceType="annie.ColorFilter",c.redMultiplier=t,c.greenMultiplier=n,c.blueMultiplier=i,c.alphaMultiplier=r,c.redOffset=a,c.greenOffset=o,c.blueOffset=s,c.alphaOffset=l}return __extends(t,e),t.prototype.drawFilter=function(e){if(void 0===e&&(e=null),e)for(var t=this,n=e.data,i=n.length,r=0;i>r;r+=4)n[r]=n[r]*t.redMultiplier+t.redOffset,n[r+1]=n[r+1]*t.greenMultiplier+t.greenOffset,n[r+2]=n[r+2]*t.blueMultiplier+t.blueOffset,n[r+3]=n[r+3]*t.alphaMultiplier+t.alphaOffset},t.prototype.toString=function(){var e=this;return e.type+e.redMultiplier+e.greenMultiplier+e.blueMultiplier+e.alphaMultiplier+e.redOffset+e.greenOffset+e.blueOffset+e.alphaOffset},t}(e.AObject);e.ColorFilter=n;var i=function(e){function t(n,i,r,a){e.call(this),this.brightness=0,this.contrast=0,this.saturation=0,this.hue=0,this.type="ColorMatrix";var o=this;o._instanceType="annie.ColorMatrixFilter",o.brightness=n,o.contrast=i,o.saturation=r,o.hue=a,o.colorMatrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],n=o._cleanValue(n,255),0!=n&&o._multiplyMatrix([1,0,0,0,n,0,1,0,0,n,0,0,1,0,n,0,0,0,1,0,0,0,0,0,1]),i=this._cleanValue(i,100);var s;if(0!=i&&(0>i?s=127+i/100*127:(s=i%1,s=0==s?t.DELTA_INDEX[i]:t.DELTA_INDEX[i<<0]*(1-s)+t.DELTA_INDEX[(i<<0)+1]*s,s=127*s+127),o._multiplyMatrix([s/127,0,0,0,.5*(127-s),0,s/127,0,0,.5*(127-s),0,0,s/127,0,.5*(127-s),0,0,0,1,0,0,0,0,0,1])),r=this._cleanValue(r,100),0!=r){s=1+(r>0?3*r/100:r/100);var l=.3086,c=.6094,u=.082;o._multiplyMatrix([l*(1-s)+s,c*(1-s),u*(1-s),0,0,l*(1-s),c*(1-s)+s,u*(1-s),0,0,l*(1-s),c*(1-s),u*(1-s)+s,0,0,0,0,0,1,0,0,0,0,0,1])}if(a=this._cleanValue(a,180)/180*Math.PI,0!=a){var d=Math.cos(a),h=Math.sin(a),l=.213,c=.715,u=.072;o._multiplyMatrix([l+d*(1-l)+h*-l,c+d*-c+h*-c,u+d*-u+h*(1-u),0,0,l+d*-l+.143*h,c+d*(1-c)+.14*h,u+d*-u+h*-.283,0,0,l+d*-l+h*-(1-l),c+d*-c+h*c,u+d*(1-u)+h*u,0,0,0,0,0,1,0,0,0,0,0,1])}}return __extends(t,e),t.prototype.drawFilter=function(e){if(void 0===e&&(e=null),e)for(var t,n,i,r,a=e.data,o=a.length,s=this.colorMatrix,l=s[0],c=s[1],u=s[2],d=s[3],h=s[4],p=s[5],_=s[6],f=s[7],v=s[8],m=s[9],g=s[10],y=s[11],b=s[12],x=s[13],E=s[14],T=s[15],w=s[16],F=s[17],M=s[18],L=s[19],C=0;o>C;C+=4)t=a[C],n=a[C+1],i=a[C+2],r=a[C+3],a[C]=t*l+n*c+i*u+r*d+h,a[C+1]=t*p+n*_+i*f+r*v+m,a[C+2]=t*g+n*y+i*b+r*x+E,a[C+3]=t*T+n*w+i*F+r*M+L},t.prototype._multiplyMatrix=function(e){var t,n,i,r=[];for(t=0;5>t;t++){for(n=0;5>n;n++)r[n]=this.colorMatrix[n+5*t];for(n=0;5>n;n++){var a=0;for(i=0;5>i;i++)a+=e[n+5*i]*r[i];this.colorMatrix[n+5*t]=a}}},t.prototype._cleanValue=function(e,t){return Math.min(t,Math.max(-t,e))},t.prototype.toString=function(){var e=this;return e.type+e.brightness+e.hue+e.saturation+e.contrast},t.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],t}(e.AObject);e.ColorMatrixFilter=i;var r=function(e){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=2),void 0===i&&(i=1),e.call(this),this.type="blur",this.blurX=0,this.blurY=0,this.quality=1;var r=this;r._instanceType="annie.BlurFilter",r.blurX=t,r.blurY=n,r.quality=i}return __extends(t,e),t.prototype.toString=function(){var e=this;return e.type+e.blurX+e.blurY+e.quality},t.prototype.drawFilter=function(e){void 0===e&&(e=null);var n=this,i=n.blurX>>1;if(isNaN(i)||0>i)return!1;var r=n.blurY>>1;if(isNaN(r)||0>r)return!1;if(0==i&&0==r)return!1;var a=n.quality;(isNaN(a)||1>a)&&(a=1),a|=0,a>3&&(a=3),1>a&&(a=1);var o=e.data,s=0,l=0,c=0,u=0,d=0,h=0,p=0,_=0,f=0,v=0,m=0,g=0,y=0,b=0,x=0,E=i+i+1|0,T=r+r+1|0,w=0|e.width,F=0|e.height,M=w-1|0,L=F-1|0,C=i+1|0,I=r+1|0,P={r:0,b:0,g:0,a:0},S=P;for(c=1;E>c;c++)S=S.n={r:0,b:0,g:0,a:0};S.n=P;var O={r:0,b:0,g:0,a:0},R=O;for(c=1;T>c;c++)R=R.n={r:0,b:0,g:0,a:0};R.n=O;for(var A=null,D=0|t.MUL_TABLE[i],U=0|t.SHG_TABLE[i],k=0|t.MUL_TABLE[r],N=0|t.SHG_TABLE[r];a-- >0;){p=h=0;var j=D,B=U;for(l=F;--l>-1;){for(_=C*(g=o[0|h]),f=C*(y=o[h+1|0]),v=C*(b=o[h+2|0]),m=C*(x=o[h+3|0]),S=P,c=C;--c>-1;)S.r=g,S.g=y,S.b=b,S.a=x,S=S.n;for(c=1;C>c;c++)u=h+((c>M?M:c)<<2)|0,_+=S.r=o[u],f+=S.g=o[u+1],v+=S.b=o[u+2],m+=S.a=o[u+3],S=S.n;for(A=P,s=0;w>s;s++)o[h++]=_*j>>>B,o[h++]=f*j>>>B,o[h++]=v*j>>>B,o[h++]=m*j>>>B,u=p+((u=s+i+1)<M?u:M)<<2,_-=A.r-(A.r=o[u]),f-=A.g-(A.g=o[u+1]),v-=A.b-(A.b=o[u+2]),m-=A.a-(A.a=o[u+3]),A=A.n;p+=w}for(j=k,B=N,s=0;w>s;s++){for(h=s<<2|0,_=I*(g=o[h])|0,f=I*(y=o[h+1|0])|0,v=I*(b=o[h+2|0])|0,m=I*(x=o[h+3|0])|0,R=O,c=0;I>c;c++)R.r=g,R.g=y,R.b=b,R.a=x,R=R.n;for(d=w,c=1;r>=c;c++)h=d+s<<2,_+=R.r=o[h],f+=R.g=o[h+1],v+=R.b=o[h+2],m+=R.a=o[h+3],R=R.n,L>c&&(d+=w);
if(h=s,A=O,a>0)for(l=0;F>l;l++)u=h<<2,o[u+3]=x=m*j>>>B,x>0?(o[u]=_*j>>>B,o[u+1]=f*j>>>B,o[u+2]=v*j>>>B):o[u]=o[u+1]=o[u+2]=0,u=s+((u=l+I)<L?u:L)*w<<2,_-=A.r-(A.r=o[u]),f-=A.g-(A.g=o[u+1]),v-=A.b-(A.b=o[u+2]),m-=A.a-(A.a=o[u+3]),A=A.n,h+=w;else for(l=0;F>l;l++)u=h<<2,o[u+3]=x=m*j>>>B,x>0?(x=255/x,o[u]=(_*j>>>B)*x,o[u+1]=(f*j>>>B)*x,o[u+2]=(v*j>>>B)*x):o[u]=o[u+1]=o[u+2]=0,u=s+((u=l+I)<L?u:L)*w<<2,_-=A.r-(A.r=o[u]),f-=A.g-(A.g=o[u+1]),v-=A.b-(A.b=o[u+2]),m-=A.a-(A.a=o[u+3]),A=A.n,h+=w}}},t.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],t.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],t}(e.AObject);e.BlurFilter=r}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(e){t.call(this),this.rootContainer=null,this._instanceType="annie.CanvasRender",this._stage=e}return __extends(n,t),n.prototype.begin=function(){var e=this,t=e.rootContainer;e._ctx.setTransform(1,0,0,1,0,0),""!=e._stage.bgColor?(e._ctx.fillStyle=e._stage.bgColor,e._ctx.fillRect(0,0,t.width,t.height)):e._ctx.clearRect(0,0,t.width,t.height)},n.prototype.beginMask=function(e){var t=this,n=!1;if(e.children&&e.children.length>0&&(e=e.children[0]),e._command&&e._command.length>0){t._ctx.save(),t._ctx.globalAlpha=0;var i=e.cMatrix;t._ctx.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),e._drawShape(t._ctx,!0),t._ctx.restore(),n=!0}t._ctx.save(),n&&t._ctx.clip()},n.prototype.endMask=function(){this._ctx.restore()},n.prototype.draw=function(e){var t=this;if(!e._cp){var n=e._cacheImg;if(n&&n.width>0&&n.height>0){var i=t._ctx;i.globalAlpha=e.cAlpha;var r=e.cMatrix;if(i.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),e.rect&&!e._isCache){var a=e.rect;i.drawImage(n,a.x,a.y,a.width,a.height,0,0,a.width,a.height)}else i.translate(e._cacheX,e._cacheY),i.drawImage(n,0,0)}}},n.prototype.init=function(){var e=this;e.rootContainer||(e.rootContainer=document.createElement("canvas"),e._stage.rootDiv.appendChild(e.rootContainer));var t=e.rootContainer;e._ctx=t.getContext("2d")},n.prototype.reSize=function(){var t=this,n=t.rootContainer;n.width=t._stage.divWidth*e.devicePixelRatio,n.height=t._stage.divHeight*e.devicePixelRatio,n.style.width=t._stage.divWidth+"px",n.style.height=t._stage.divHeight+"px"},n}(e.AObject);e.CanvasRender=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(e){t.call(this),this.rootContainer=null,this._maxTextureCount=0,this._uniformTexture=0,this._posAttr=0,this._textAttr=0,this._textures=[],this._instanceType="annie.WGRender",this._stage=e}return __extends(n,t),n.prototype.begin=function(){var e=this,t=e._ctx;if(""!=e._stage.bgColor){var n=e._stage.bgColor,i=parseInt("0x"+n.substr(1,2)),r=parseInt("0x"+n.substr(3,2)),a=parseInt("0x"+n.substr(5,2));t.clearColor(i/255,r/255,a/255,1)}else t.clearColor(0,0,0,0);t.clear(t.COLOR_BUFFER_BIT),e._textures.length=0},n.prototype.beginMask=function(e){},n.prototype.endMask=function(){},n.prototype.reSize=function(){var t=this,n=t.rootContainer;n.width=t._stage.divWidth*e.devicePixelRatio,n.height=t._stage.divHeight*e.devicePixelRatio,n.style.width=t._stage.divWidth+"px",n.style.height=t._stage.divHeight+"px",t._ctx.viewport(0,0,n.width,n.height),t._dW=n.width,t._dH=n.height,t._pMatrix=new Float32Array([1/t._dW*2,0,0,0,-1/t._dH*2,0,-1,1,1])},n.prototype._getShader=function(e){var t=this,n=t._ctx,i="",r=null;return 0==e?(i="precision highp float;varying vec2 v_TC;uniform sampler2D u_texture;uniform float u_A;void main() {gl_FragColor = texture2D(u_texture, v_TC)*u_A;}",r=n.createShader(n.FRAGMENT_SHADER)):(i="precision highp float;attribute vec2 a_P;attribute vec2 a_TC;varying vec2 v_TC;uniform mat3 vMatrix;uniform mat3 pMatrix;void main() {gl_Position =vec4((pMatrix*vMatrix*vec3(a_P, 1.0)).xy, 1.0, 1.0);v_TC = a_TC;}",r=n.createShader(n.VERTEX_SHADER)),n.shaderSource(r,i),n.compileShader(r),n.attachShader(t._program,r),r},n.prototype.init=function(){var t=this;t.rootContainer||(t.rootContainer=document.createElement("canvas"),t._stage.rootDiv.appendChild(t.rootContainer));var n=t.rootContainer,i=n.getContext("webgl")||n.getContext("experimental-webgl");t._ctx=i,t._program=i.createProgram();var r=t._program;t._getShader(0),t._getShader(1),i.linkProgram(r),i.useProgram(r),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),i.disable(i.DEPTH_TEST),i.enable(i.BLEND),i.disable(i.CULL_FACE),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),t._buffer=i.createBuffer(),t._pMI=i.getUniformLocation(t._program,"pMatrix"),t._vMI=i.getUniformLocation(t._program,"vMatrix"),t._uA=i.getUniformLocation(t._program,"u_A"),t._cM=new e.Matrix,t._maxTextureCount=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS)+1,t._uniformTexture=i.getUniformLocation(t._program,"u_texture"),t._posAttr=i.getAttribLocation(t._program,"a_P"),t._textAttr=i.getAttribLocation(t._program,"a_TC"),i.enableVertexAttribArray(t._posAttr),i.enableVertexAttribArray(t._textAttr)},n.prototype.setBuffer=function(e,t){var n=this,i=n._ctx;i.bindBuffer(i.ARRAY_BUFFER,e),i.bufferData(i.ARRAY_BUFFER,t,i.STATIC_DRAW),i.vertexAttribPointer(n._posAttr,2,i.FLOAT,!1,16,0),i.vertexAttribPointer(n._textAttr,2,i.FLOAT,!1,16,8)},n.prototype.draw=function(e){var t=this;if(!e._cp){var n=e._cacheImg;if(n&&n.width>0&&n.height>0){var i=t._ctx,r=void 0;if(n.updateTexture&&e._glInfo)r=e._glInfo;else{if(r={},e.rect&&!e._isCache){var a=e.rect;r.x=a.x/n.width,r.y=a.y/n.height,r.w=(a.x+a.width)/n.width,r.h=(a.y+a.height)/n.height,r.pw=a.width,r.ph=a.height}else{var o=e._cacheX,s=e._cacheY;r.x=o/n.width,r.y=s/n.height,r.w=(n.width-o)/n.width,r.h=(n.height-s)/n.height,r.pw=n.width-2*o,r.ph=n.height-2*s}e._glInfo=r}var l=[0,0,r.x,r.y,r.pw,0,r.w,r.y,0,r.ph,r.x,r.h,r.pw,r.ph,r.w,r.h],c=t._cM;c.identity(),c.tx=2*e._cacheX,c.ty=2*e._cacheY,c.prepend(e.cMatrix);var u=new Float32Array([c.a,c.b,0,c.c,c.d,0,c.tx,c.ty,1]);i.uniform1i(t._uniformTexture,t.createTexture(n)),t.setBuffer(t._buffer,new Float32Array(l)),i.uniform1f(t._uA,e.cAlpha),i.uniformMatrix3fv(t._pMI,!1,t._pMatrix),i.uniformMatrix3fv(t._vMI,!1,u),i.drawArrays(i.TRIANGLE_STRIP,0,4)}}},n.prototype.getActiveId=function(){for(var e=0;e<this._maxTextureCount;e++)if(!this._textures[e])return e;return 0},n.prototype.createTexture=function(e){var t=this,n=t._ctx,i=0,r=!0,a=!1;if(e._texture?(i=e._tid,t._textures[i]!=e&&(i=t.getActiveId(),a=!0),e.updateTexture||(r=!1)):i=t.getActiveId(),n.activeTexture(n["TEXTURE"+i]),r){var o=n.createTexture();n.bindTexture(n.TEXTURE_2D,o),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),e._texture=o}else a&&n.bindTexture(n.TEXTURE_2D,e._texture);return e.updateTexture=!1,e._tid=i,t._textures[i]=e,i},n}(e.AObject);e.WGRender=t}(annie||(annie={}));var annie;!function(e){e.Eval=eval.bind(window);var t=function(t){function n(){t.call(this),this._req=new XMLHttpRequest,this.headers=[],this.responseType=null,this.url="",this.method="get",this.data=null,this._fqs=function(e,t){var n=[];if(e)for(var i in e)n.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t&&(n=n.concat(t)),n.join("&")},this._fus=function(e,t){var n=this;if(null==t||""==t)return e;var i=[],r=e.indexOf("?");if(-1!=r){var a=e.slice(r+1);return i=i.concat(a.split("&")),e.slice(0,r)+"?"+n._fqs(t,i)}return e+"?"+n._fqs(t,i)},this._instanceType="annie.URLLoader"}return __extends(n,t),n.prototype.loadCancel=function(){var e=this;e._req&&e._req.abort()},n.prototype.load=function(t,n){void 0===n&&(n="form");var i=this;if(i.loadCancel(),null==i.responseType||""==i.responseType){var r=t.split("."),a=r[r.length-1],o=a.split("?")[0].toLocaleLowerCase();"mp3"==o||"ogg"==o||"wav"==o?i.responseType="sound":"jpg"==o||"jpeg"==o||"png"==o||"gif"==o?i.responseType="image":"css"==o?i.responseType="css":"mp4"==o?i.responseType="video":"svg"==o?i.responseType="svg":"xml"==o?i.responseType="xml":"json"==o?i.responseType="json":"txt"==o?i.responseType="text":"js"==o||"swf"==o?i.responseType="js":i.responseType="unKnow"}i._req||(i._req=new XMLHttpRequest);var s=i._req;s.withCredentials=!1,s.onprogress=function(e){!e||e.loaded>0&&0==e.total||i.dispatchEvent("onProgress",{loadedBytes:e.loaded,totalBytes:e.total})},s.onerror=function(e){if(l++,l>2)i.dispatchEvent("onError",{id:2,msg:e.message});else if(s.abort(),i.data)if("form"==n)s.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset=UTF-8"),s.send(i._fqs(i.data,null));else{var t="application/json";"json"!=n&&(t="multipart/form-data"),s.setRequestHeader("Content-type",t+";charset=UTF-8"),s.send(i.data)}else s.send()},s.onreadystatechange=function(t){var n=t.target;if(4==n.readyState)if(200==s.status||0==s.status){var r=!1,a=new e.Event("onComplete"),o=n.response;a.data={type:i.responseType,response:null};var l=void 0;switch(i.responseType){case"css":l=document.createElement("link"),l.rel="stylesheet",l.href=i.url;break;case"image":case"sound":case"video":var c;"image"==i.responseType?(r=!0,c=document.createElement("img"),c.onload=function(){URL.revokeObjectURL(c.src),c.onload=null,i.dispatchEvent(a)},c.src=URL.createObjectURL(o),l=c):"sound"==i.responseType?(c=document.createElement("AUDIO"),c.preload=!0,c.src=i.url,l=new e.Sound(i.url)):"video"==i.responseType&&(c=document.createElement("VIDEO"),c.preload=!0,c.src=i.url,l=new e.Video(c));break;case"json":l=JSON.parse(o);break;case"js":l="JS_CODE",e.Eval(o);break;case"text":case"unKnow":case"xml":default:l=o}a.data.response=l,i.data=null,i.responseType="",r||i.dispatchEvent(a)}else i.dispatchEvent("onError",{id:0,msg:"访问地址不存在"})};var l=0;if(i.data&&"get"==i.method.toLocaleLowerCase()?(i.url=i._fus(t,i.data),i.data=null):i.url=t,"image"==i.responseType||"sound"==i.responseType||"video"==i.responseType?s.responseType="blob":s.responseType="text",s.open(i.method,i.url,!0),i.headers.length>0){for(var c=0;c<i.headers.length;c+=2)s.setRequestHeader(i.headers[c],i.headers[c+1]);i.headers.length=0}if(i.data)if("form"==n)s.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset=UTF-8"),s.send(i._fqs(i.data,null));else{var u="application/json";"json"!=n&&(u="multipart/form-data"),s.setRequestHeader("Content-type",u+";charset=UTF-8"),s.send(i.data)}else s.send()},n.prototype.addHeader=function(e,t){this.headers.push(e,t)},n}(e.EventDispatcher);e.URLLoader=t}(annie||(annie={}));var Flash2x;!function(Flash2x){function _loadConfig(){_JSONQueue.load(_domain+"resource/"+_loadSceneNames[_loadIndex]+"/"+_loadSceneNames[_loadIndex]+".res.json?t="+_time)}function onCFGComplete(e){var t=e.data.response;_currentConfig.push(t),_totalLoadRes+=t.length,_loadIndex++,_loadSceneNames[_loadIndex]?_loadConfig():(_loadIndex=0,_loadSinglePer=1/_totalLoadRes,_loadRes())}function _onRESProgress(e){_progressCallback&&_progressCallback(100*(_loadPer+e.data.loadedBytes/e.data.totalBytes*_loadSinglePer)>>0)}function _onRESComplete(e){var t=_loadSceneNames[_loadIndex];if(Flash2x._isReleased){if("f2xShare"==t)return _currentConfig.shift(),_loadSceneNames.shift(),void _loadRes();var n=Flash2x,i=n[t+"Res"];for(var r in i){var a;i[r].indexOf("audio/")>0?a=new annie.Sound(i[r]):i[r].indexOf("image/")>0?(a=new Image,a.src=i[r]):a=JSON.parse(i[r]),Flash2x.res[t][r]=a}delete n[t+"Res"]}else"js"!=e.data.type&&"css"!=e.data.type&&(Flash2x.res[t][_currentConfig[_loadIndex][0].id]=e.data.response);_checkComplete()}function _checkComplete(){if(_loadedLoadRes++,_loadPer=_loadedLoadRes/_totalLoadRes,_currentConfig[_loadIndex].shift(),_currentConfig[_loadIndex].length>0)_loadRes();else{var e={};e.sceneName=_loadSceneNames[_loadIndex],_loadIndex++,e.sceneId=_loadIndex,e.sceneTotal=_loadSceneNames.length,_loadIndex==_loadSceneNames.length?(_isLoading=!1,_completeCallback(e)):(_completeCallback(e),_loadRes())}}function _loadRes(){var e=_domain+_currentConfig[_loadIndex][0].src;Flash2x._isReleased&&(_loaderQueue.responseType="js",e+="?v="+Flash2x._isReleased),_loaderQueue.load(e)}function isLoadedScene(e){return void 0!=Flash2x.res[e]&&null!=Flash2x.res[e]}function unLoadScene(sceneName){delete Flash2x.res[sceneName];var scene=eval(sceneName);for(var i in scene)delete scene[i];eval(sceneName+"=null;")}function getMediaByName(e,t){var n=Flash2x.res;return n[e][t]?n[e][t]:null}function b(e,t){var n=Flash2x.res,i=!1;if(n[e][t])return new annie.Bitmap(n[e][t]);for(var r=0;n[e]["F2xSSIMG"+r];){var a=n[e]["F2xSSIMGData"+r];if(void 0!=a[t]){i=!0;var o=a[t],s=n[e]["F2xSSIMG"+r];return new annie.Bitmap(s,o)}r++}return null}function d(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),t&&(void 0!=t.x&&(e.x=t.x),void 0!=t.y&&(e.y=t.y),void 0!=t.a&&(e.scaleX=t.a),void 0!=t.b&&(e.scaleY=t.b),void 0!=t.r&&(e.rotation=t.r),void 0!=t.c&&(e.skewX=t.c),void 0!=t.d&&(e.skewY=t.d),void 0!=t.o&&(e.alpha=t.o),void 0!=t.v&&(e.visible=t.v)),n&&n.length>0){for(var i=0,r=[];void 0!=n[i];)if(0==n[i])r.push(new ColorFilter(n[i+1],n[i+2],n[i+3],n[i+4],n[i+5],n[i+6],n[i+7],n[i+8])),i+=9;else if(1==n[i])r.push(new BlurFilter(n[i+1],n[i+2],n[i+3])),i+=4;else if(2==n[i]){var a=.5*(n[i+1]+n[i+2]),o=Shape.getRGBA(n[i+4],n[i+5]),s=n[i+7]*Math.cos(n[i+6]/180*Math.PI),l=n[i+7]*Math.sin(n[i+6]/180*Math.PI);r.push(new ShadowFilter(o,s,l,a)),i+=8}else if(3==n[i]){var c=.5*(n[i+1]+n[i+2]),o=Shape.getRGBA(n[i+4],n[i+5]);r.push(new ShadowFilter(o,0,0,c)),i+=6}else 4==n[i]&&(r.push(new ColorMatrixFilter(n[i+1],n[i+2],n[i+3],n[i+4])),i+=5);e.filters=r}}function t(e,t,n,i,r,a,o,s,l,c,u,d,h,p,_){void 0===d&&(d=!1),void 0===h&&(h=!1),void 0===p&&(p="single"),void 0===_&&(_=!1);var f;return 0==e||1==e?(f=new annie.TextField,f.text=t,f.font=r,f.size=n,f.lineWidth=s,f.lineHeight=c,f.textAlign=u,f.italic=d,f.bold=h,f.color=i,f.lineType=p,f.border=_):(f=new annie.InputText(p),f.initInfo(t,s,l,i,u,n,r,_,c/n),d&&(f.italic=!0),h&&(f.bold=!0)),f}function sb(e,t){var n="_f2x_s"+t;if(Flash2x.res[e][n])return Flash2x.res[e][n];var i=null,r=b(e,t);return r?(i=r.rect?annie.Bitmap.convertToImage(r,!1):r.bitmapData,Flash2x.res[e][n]=i,i):(trace("error:矢量位图填充时,未找到位图资源!"),null)}function s(e,t,n){var i=new annie.Shape;return t&&(0==t.type?i.beginFill(t.color):1==t.type?i.beginRadialGradientFill(t.gradient[0],t.gradient[1],t.points):2==t.type?i.beginLinearGradientFill(t.gradient[0],t.gradient[1],t.points):i.beginBitmapFill(sb(t.bitmapScene,t.bitmapName),t.matrix)),n&&(0==n.type?i.beginStroke(n.color,n.lineWidth,n.caps,n.joints,n.miter):1==n.type?i.beginRadialGradientStroke(n.gradient[0],n.gradient[1],n.points,n.lineWidth,n.caps,n.joints,n.miter):2==n.type?i.beginLinearGradientStroke(n.gradient[0],n.gradient[1],n.points,n.lineWidth,n.caps,n.joints,n.miter):i.beginBitmapStroke(sb(n.bitmapScene,n.bitmapName),n.matrix,n.lineWidth,n.caps,n.joints,n.miter)),0==e.type?i.decodePath(e.data):i.drawRoundRect(e.data.x,e.data.y,e.data.w,e.data.h,e.data.topLeftRadius,e.data.topRightRadius,e.data.bottomLeftRadius,e.data.bottomRightRadius),t&&i.endFill(),n&&i.endStroke(),i}function ajax(e){var t=new URLLoader;t.addHeader("X-Requested-With","XMLHttpRequest"),t.method=void 0==e.type?"get":e.type,t.data=void 0==e.data?null:e.data,t.responseType=void 0==e.responseType?"text":e.responseType,void 0!=e.success&&t.addEventListener(annie.Event.COMPLETE,e.success),void 0!=e.error&&t.addEventListener(annie.Event.ERROR,e.error),t.load(e.url)}function jsonp(e,t,n,i){var r=window;1==t&&(r[n]=i);var a=document.createElement("script"),o=document.getElementsByTagName("head")[0];a.onload=function(e){0==t&&i(r[n]),e.path[0].src="",r[n]=null,delete r[n],o.removeChild(e.path[0])},o.appendChild(a);var s;s=e.indexOf("?")>0?"&":"?",a.src=e+s+"a_n_n_i_e="+Math.random()+"&callback="+n}function getQueryString(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?decodeURIComponent(n[2]):null}var URLLoader=annie.URLLoader,Event=annie.Event,ColorFilter=annie.ColorFilter,Shape=annie.Shape,BlurFilter=annie.BlurFilter,ShadowFilter=annie.ShadowFilter,ColorMatrixFilter=annie.ColorMatrixFilter;Flash2x._isReleased=!1,Flash2x._shareSceneList=[],Flash2x.res={};var _isLoading,_loadSceneNames,_domain,_loadIndex,_totalLoadRes,_loadedLoadRes,_completeCallback,_progressCallback,_JSONQueue,_loaderQueue,_isInited,_currentConfig,_time,_loadPer,_loadSinglePer;Flash2x.loadScene=function(e,t,n,i){if(void 0===i&&(i=""),_loadSceneNames=[],_domain=i,"string"==typeof e)if(isLoadedScene(e)){var r={};r.sceneName=e,r.sceneId=1,r.sceneTotal=1,n(r)}else Flash2x.res[e]={},_loadSceneNames.push(e);else for(var a=e.length,o=0,s=0;a>s;s++)if(isLoadedScene(e[s])){var r={};r.sceneName=e[s],r.sceneId=++o,r.sceneTotal=a,n(r)}else Flash2x.res[e[s]]={},_loadSceneNames.push(e[s]);if(0!=_loadSceneNames.length)if(_isInited||(_time=(new Date).getTime(),_JSONQueue=new URLLoader,_JSONQueue.addEventListener(Event.COMPLETE,onCFGComplete),_loaderQueue=new URLLoader,_loaderQueue.addEventListener(Event.COMPLETE,_onRESComplete),_loaderQueue.addEventListener(Event.PROGRESS,_onRESProgress),_isInited=!0),_loadPer=0,_loadIndex=0,_totalLoadRes=0,_loadedLoadRes=0,_isLoading=!0,_completeCallback=n,_progressCallback=t,_currentConfig=[],Flash2x._isReleased){if(Flash2x._shareSceneList.length>0&&!isLoadedScene("f2xShare"))for(var s=0;s<_loadSceneNames.length;s++)if(Flash2x._shareSceneList.indexOf(_loadSceneNames[s])>=0){_loadSceneNames.unshift("f2xShare");break}_loadIndex=0,_totalLoadRes=_loadSceneNames.length,_loadSinglePer=1/_totalLoadRes;for(var s=0;_totalLoadRes>s;s++)_currentConfig.push([{src:"src/"+_loadSceneNames[s]+".swf"}]);_loadRes()}else _loadConfig()},Flash2x.isLoadedScene=isLoadedScene,Flash2x.unLoadScene=unLoadScene,Flash2x.getMediaByName=getMediaByName,Flash2x.b=b,Flash2x.d=d,Flash2x.t=t,Flash2x.sb=sb,Flash2x.s=s,Flash2x.ajax=ajax,Flash2x.jsonp=jsonp,Flash2x.getQueryString=getQueryString}(Flash2x||(Flash2x={}));var annie;!function(e){var t=!0,n=function(e){function t(){e.call(this),this._currentFrame=0,this._totalFrames=0,this._isLoop=0,this._delay=0,this._isFront=!0,this._cParams=null,this._loop=!1}return __extends(t,e),t.prototype.init=function(e,t,n,i){if(void 0===i&&(i=!0),0>=t||"number"!=typeof t)throw new Error("annie.Tween.to()或者annie.Tween.form()方法的第二个参数一定要是大于0的数字");var r=this;r._currentFrame=1;var a=60*t>>0;r._totalFrames=a>0?a:1,r.target=e,r._isTo=i,r._isLoop=0,r._startData={},r._disData={},r._delay=0,r._isFront=!0,r._ease=null,r._update=null,r._cParams=null,r._loop=!1,r._completeFun=null;for(var o in n)switch(o){case"useFrame":1==n[o]&&(r._totalFrames=t);break;case"yoyo":n[o]===!1?r._isLoop=0:n[o]===!0?r._isLoop=Number.MAX_VALUE:r._isLoop=n[o];break;case"delay":n.useFrame?r._delay=n[o]:r._delay=60*n[o]>>0;break;case"ease":r._ease=n[o];break;case"onUpdate":r._update=n[o];break;case"onComplete":r._completeFun=n[o];break;case"completeParams":r._cParams=n[o];break;case"loop":r._loop=n[o];break;default:"number"==typeof n[o]&&(i?(r._startData[o]=e[o],r._disData[o]=n[o]-e[o]):(r._startData[o]=n[o],r._disData[o]=e[o]-n[o]))}},t.prototype.update=function(){var e=this;if(e._isFront&&e._delay>0)return void e._delay--;var t=e._currentFrame/e._totalFrames;e._ease&&(t=e._ease(t));var n=!1;for(var r in e._disData)n=!0,e.target[r]=e._startData[r]+e._disData[r]*t;if(!n)return void i.kill(e.instanceId);e._update&&e._update(t);var a=e._completeFun,o=e._cParams;e._isFront?(e._currentFrame++,e._currentFrame>e._totalFrames&&(e._loop?e._currentFrame=1:e._isLoop>0?(e._isFront=!1,e._currentFrame=e._totalFrames,e._isLoop--):i.kill(e.instanceId),a&&a.apply(null,o))):(e._currentFrame--,e._currentFrame<0&&(e._isLoop>0?(e._isFront=!0,e._currentFrame=1):i.kill(e.instanceId),a&&a.apply(null,o)))},t}(e.AObject),i=function(){function i(){}return i.to=function(e,t,n){return i.createTween(e,t,n,!0)},i.from=function(e,t,n){return i.createTween(e,t,n,!1)},i.createTween=function(t,r,a,o){for(var s,l=i._tweenList.length,c=0;l>c;c++)if(s=i._tweenList[c],t==s.target)for(var u in s._startData)void 0!=a[u]&&(delete s._startData[u],delete s._disData[u]);return l=i._tweenPool.length,l>0?(s=i._tweenPool.shift(),s._instanceId=e.AObject._object_id++):s=new n,i._tweenList.push(s),s.init(t,r,a,o),s.instanceId},i.killAll=function(){for(var e,t=i._tweenList.length,n=0;t>n;n++)e=i._tweenList[n],e.target=null,e._completeFun=null,e._cParams=null,e._update=null,e._ease=null,e._loop=!1,i._tweenPool.push(e);i._tweenList.length=0},i.kill=function(e){for(var t,n=i._tweenList.length,r=0;n>r;r++)if(t=i._tweenList[r],t.instanceId==e){t.target=null,t._completeFun=null,t._cParams=null,t._update=null,t._ease=null,t._loop=null,i._tweenPool.push(t),i._tweenList.splice(r,1);break}},i.quadraticIn=function(e){return e*e},i.quadraticOut=function(e){return e*(2-e)},i.quadraticInOut=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},i.cubicIn=function(e){return e*e*e},i.cubicOut=function(e){return--e*e*e+1},i.cubicInOut=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},i.quarticIn=function(e){return e*e*e*e},i.quarticOut=function(e){return 1- --e*e*e*e},i.quarticInOut=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},i.quinticIn=function(e){return e*e*e*e*e},i.quinticOut=function(e){return--e*e*e*e*e+1},i.quinticInOut=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},i.sinusoidalIn=function(e){return 1-Math.cos(e*Math.PI/2)},i.sinusoidalOut=function(e){return Math.sin(e*Math.PI/2)},i.sinusoidalInOut=function(e){return.5*(1-Math.cos(Math.PI*e))},i.exponentialIn=function(e){return 0===e?0:Math.pow(1024,e-1)},i.exponentialOut=function(e){return 1===e?1:1-Math.pow(2,-10*e)},i.exponentialInOut=function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},i.circularIn=function(e){return 1-Math.sqrt(1-e*e)},i.circularOut=function(e){return Math.sqrt(1- --e*e)},i.circularInOut=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},i.elasticIn=function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},i.elasticOut=function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},i.elasticInOut=function(e){return 0===e?0:1===e?1:(e*=2,1>e?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1)},i.backIn=function(e){var t=1.70158;return e*e*((t+1)*e-t)},i.backOut=function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},i.backInOut=function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},i.bounceIn=function(e){return 1-i.bounceOut(1-e)},i.bounceOut=function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},i.bounceInOut=function(e){return.5>e?.5*i.bounceIn(2*e):.5*i.bounceOut(2*e-1)+.5},i.flush=function(){if(t)for(var e=i._tweenList.length,n=e-1;n>=0;n--)i._tweenList[n]?i._tweenList[n].update():i._tweenList.splice(n,1);t=!t},i._tweenPool=[],i._tweenList=[],i}();e.Tween=i}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(n,i){void 0===i&&(i=0),e.call(this),this._currentCount=0,this._delay=0,this._frameDelay=0,this._currentFrameDelay=0,this._repeatCount=0,this._running=!1,0>=n&&(n=1);var r=this;r._delay=n,r._frameDelay=Math.ceil(.001*n*60),r._repeatCount=i,t._timerList.push(r)}return __extends(t,e),t.prototype.reset=function(){var e=this;e._running=!1,e._currentCount=0,e._currentFrameDelay=0},t.prototype.start=function(){var e=this;e._running=!0,e._currentCount==e._repeatCount&&(e._currentCount=0)},t.prototype.stop=function(){this._running=!1},Object.defineProperty(t.prototype,"currentCount",{get:function(){return this._currentCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},set:function(e){this._delay=e,this._frameDelay=Math.ceil(.001*e*60)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatCount",{get:function(){return this._repeatCount},set:function(e){0>e&&(e=0),this._repeatCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"running",{get:function(){return this._running},enumerable:!0,configurable:!0}),t.prototype.kill=function(){for(var e=t._timerList.length,n=this,i=0;e>i;i++)if(t._timerList[i]._instanceId==n._instanceId){t._timerList.splice(i,1);break}},t.prototype.update=function(){var e=this;e._running&&(e._currentFrameDelay++,e._currentFrameDelay==e._frameDelay&&(e._repeatCount&&e._currentCount++,e._currentFrameDelay=0,e.dispatchEvent("onTimer"),e._repeatCount&&e._currentCount==e._repeatCount&&(e._running=!1,e.dispatchEvent("onTimerComplete"))))},t.flush=function(){for(var e=t._timerList.length,n=e-1;n>=0;n--)t._timerList[n]?t._timerList[n].update():t._timerList.splice(n,1)},t._timerList=[],t}(e.EventDispatcher);e.Timer=t}(annie||(annie={}));var annie;!function(e){function t(e){window.location.href=e}function n(e){var t=new XMLHttpRequest;t.open("get",e,!0),t.send()}e.debug=!1,e.version="1.1.1",e.devicePixelRatio=window.devicePixelRatio?window.devicePixelRatio:1,e.osType=function(){var e=navigator.userAgent.toLocaleLowerCase(),t=/android/,n=/iphone|ipod|ipad/;return t.test(e)?"android":n.test(e)?"ios":"pc"}(),e.StageScaleMode={EXACT_FIT:"exactFit",NO_BORDER:"noBorder",NO_SCALE:"noScale",SHOW_ALL:"showAll",FIXED_WIDTH:"fixedWidth",FIXED_HEIGHT:"fixedHeight"},e.navigateToURL=t,e.sendToURL=n;var i=null;e.toDisplayDataURL=function(t,n,r,a){void 0===n&&(n=null),void 0===r&&(r=null),void 0===a&&(a=""),i||(i=new e.CanvasRender(null)),i._stage=t,i.rootContainer=e.DisplayObject._canvas;var o={p:t.parent,x:t.x,y:t.y,scX:t.scaleX,scY:t.scaleY,r:t.rotation,skX:t.skewX,skY:t.skewY};t.parent=null,t.x=n?-n.x:0,t.y=n?-n.y:0,t.scaleX=t.scaleY=1,t.rotation=t.skewX=t.skewY=0,t.update(!1,!1,!1);var s=t.getBounds(),l=n?n.width:s.width,c=n?n.height:s.height;return i.rootContainer.width=l,i.rootContainer.height=c,i._ctx=i.rootContainer.getContext("2d"),""==a?i._ctx.clearRect(0,0,l,c):(i._ctx.fillStyle=a,i._ctx.fillRect(0,0,l,c)),t.render(i),t.parent=o.p,t.x=o.x,t.y=o.y,t.scaleX=o.scX,t.scaleY=o.scY,t.rotation=o.r,t.skewX=o.skX,t.skewY=o.skY,r||(r={type:"png"}),i.rootContainer.toDataURL("image/"+r.type,r.quality)},e.getStagePixels=function(t,n){var i=t.localToGlobal(new e.Point(n.x,n.y));return t.renderObj.rootContainer.getContext("2d").getImageData(i.x,i.y,n.width,n.height)}}(annie||(annie={}));var trace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var n in arguments)console.log(arguments[n])},globalDispatcher=new annie.EventDispatcher,F2xContainer=annie.Sprite,F2xMovieClip=annie.MovieClip,F2xText=annie.TextField,F2xInputText=annie.InputText,F2xBitmap=annie.Bitmap,F2xShape=annie.Shape;annie.Stage.addUpdateObj(annie.Tween),annie.Stage.addUpdateObj(annie.Timer),annie.Stage.flushAll();