var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},annie;!function(e){var t=function(){function e(){this._instanceId=0,this._instanceType="annie.AObject",this._instanceId=e._object_id++}return Object.defineProperty(e.prototype,"instanceId",{get:function(){return this._instanceId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instanceType",{get:function(){return this._instanceType},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){},e._object_id=0,e}();e.AObject=t;var n=function(t){function n(){t.call(this),this.eventTypes={},this.eventTypes1={},this._instanceType="annie.EventDispatcher"}return __extends(n,t),n.getMouseEventCount=function(e){void 0===e&&(e="");var t=0;return""==e?t=n._totalMEC:n._MECO[e]&&(t=n._MECO[e]),t},n.prototype.addEventListener=function(e,t,n){if(void 0===n&&(n=!0),!e)throw new Error("添加侦听的type值为undefined");if(!t)throw new Error("侦听回调函数不能为null");var i=this,a=i.eventTypes;n||(a=i.eventTypes1),a[e]instanceof Object||(a[e]=[]),a[e].indexOf(t)<0&&(a[e].unshift(t),0==e.indexOf("onMouse")&&i._changeMouseCount(e,!0))},n.prototype._changeMouseCount=function(e,t){var i=t?1:-1;n._MECO[e]||(n._MECO[e]=0),n._MECO[e]+=i,n._MECO[e]<0&&(n._MECO[e]=0),n._totalMEC+=i},n.prototype.dispatchEvent=function(t,n,i){void 0===n&&(n=null),void 0===i&&(i=!0);var a=this;"string"==typeof t&&(a._defaultEvent instanceof e.Event?a._defaultEvent.reset(t,a):a._defaultEvent=new e.Event(t),t=a._defaultEvent);var o=a.eventTypes[t.type];if(i||(o=a.eventTypes1[t.type]),o instanceof Array){t.target instanceof Object||(t.target=a),void 0!=n&&(t.data=n);for(var r=o.length,s=r-1;s>=0;s--)t._pd||(o[s]instanceof Function?o[s](t):o.splice(s,1));return!0}return!1},n.prototype.hasEventListener=function(e,t){void 0===t&&(t=!0);var n=this;if(t){if(n.eventTypes&&n.eventTypes[e]instanceof Array&&n.eventTypes[e].length>0)return!0}else if(n.eventTypes1&&n.eventTypes1[e]instanceof Array&&n.eventTypes1[e].length>0)return!0;return!1},n.prototype.removeEventListener=function(e,t,n){void 0===n&&(n=!0);var i=this,a=i.eventTypes[e];if(n||(a=i.eventTypes1[e]),a instanceof Array)for(var o=a.length,r=o-1;r>=0;r--)void 0!=t&&a[r]!=t||(a.splice(r,1),0==e.indexOf("onMouse")&&i._changeMouseCount(e,!1))},n.prototype.removeAllEventListener=function(){var e=this;for(var t in e.eventTypes)if(0==t.indexOf("onMouse"))for(var n=0;n<e.eventTypes[t].length;n++)e._changeMouseCount(t,!1);for(var t in e.eventTypes1)if(0==t.indexOf("onMouse"))for(var n=0;n<e.eventTypes1[t].length;n++)e._changeMouseCount(t,!1);e.eventTypes1={},e.eventTypes={}},n.prototype.destroy=function(){var e=this;e.removeAllEventListener(),e.eventTypes1=null,e.eventTypes=null,e._defaultEvent=null},n._MECO={},n._totalMEC=0,n}(t);e.EventDispatcher=n}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t){e.call(this),this.type="",this.target=null,this.data=null,this._pd=!1,this._instanceType="annie.Event",this.type=t}return __extends(t,e),t.prototype.stopImmediatePropagation=function(){this._pd=!0},t.prototype.destroy=function(){var e=this;e.target=null,e.data=null},t.prototype.reset=function(e,t){var n=this;n.target=t,n._pd=!1,n.type=e},t.ON_INIT_STAGE="onInitStage",t.RESIZE="onResize",t.ON_RUN_CHANGED="onRunChanged",t.ON_PLAY_UPDATE="onPlayUpdate",t.ON_PLAY_END="onPlayEnd",t.ON_PLAY_START="onPlayStart",t.ON_FLIP_START="onFlipStart",t.ON_FLIP_STOP="onFlipStop",t.ON_SCROLL_TO_HEAD="onScrollToHead",t.ON_SCROLL_STOP="onScrollStop",t.ON_SCROLL_START="onScrollStart",t.ON_SCROLL_ING="onScrollIng",t.ON_SCROLL_TO_END="onScrollToEnd",t.ON_SLIDE_START="onSlideStart",t.ON_SLIDE_END="onSlideEnd",t.ADD_TO_STAGE="onAddToStage",t.REMOVE_TO_STAGE="onRemoveToStage",t.ENTER_FRAME="onEnterFrame",t.END_FRAME="onEndFrame",t.CALL_FRAME="onCallFrame",t.COMPLETE="onComplete",t.PROGRESS="onProgress",t.ERROR="onError",t.ABORT="onAbort",t.START="onStart",t.TIMER="onTimer",t.TIMER_COMPLETE="onTimerComplete",t.ON_DRAW_PERCENT="onDrawPercent",t}(e.AObject);e.Event=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t){e.call(this,t),this.clientX=0,this.clientY=0,this.stageX=0,this.stageY=0,this.localX=0,this.localY=0,this.currentTarget=null,this.identifier=0,this.timeStamp=0,this._instanceType="annie.MouseEvent"}return __extends(t,e),t.prototype.updateAfterEvent=function(){this.target.stage._onUpdateMatrixAndAlpha()},t.prototype.destroy=function(){this.currentTarget=null,e.prototype.destroy.call(this)},t.MOUSE_DOWN="onMouseDown",t.MOUSE_UP="onMouseUp",t.CLICK="onMouseClick",t.MOUSE_MOVE="onMouseMove",t.MOUSE_OVER="onMouseOver",t.MOUSE_OUT="onMouseOut",t}(e.Event);e.MouseEvent=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(n){t.call(this,n),this.clientPoint1=new e.Point,this.clientPoint2=new e.Point,this.scale=0,this.rotate=0,this._instanceType="annie.TouchEvent"}return __extends(n,t),n.prototype.updateAfterEvent=function(){this.target._onUpdateMatrixAndAlpha()},n.prototype.destroy=function(){var e=this;e.clientPoint1=null,e.clientPoint2=null,t.prototype.destroy.call(this)},n.ON_MULTI_TOUCH="onMultiTouch",n}(e.Event);e.TouchEvent=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t,n){void 0===t&&(t=0),void 0===n&&(n=0),e.call(this),this.x=0,this.y=0;var i=this;i._instanceType="annie.Point",i.x=t,i.y=n}return __extends(t,e),t.prototype.destroy=function(){},t.distance=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=e.length;return 4==n?Math.sqrt((e[0]-e[2])*(e[0]-e[2])+(e[1]-e[3])*(e[1]-e[3])):2==n?Math.sqrt((e[0].x-e[1].x)*(e[0].x-e[1].x)+(e[0].y-e[1].y)*(e[0].y-e[1].y)):void 0},t}(e.AObject);e.Point=t}(annie||(annie={}));var annie;!function(e){function t(e){switch(e){case a:case-o:return 0;case i:case-i:return-1;case o:case-a:return 0;default:return Math.cos(e)}}function n(e){switch(e){case a:case-o:return 1;case i:case-i:return 0;case o:case-a:return-1;default:return Math.sin(e)}}var i=Math.PI,a=i>>1,o=i+a,r=Math.PI/180,s=function(i){function a(t,n,a,o,r,s){void 0===t&&(t=1),void 0===n&&(n=0),void 0===a&&(a=0),void 0===o&&(o=1),void 0===r&&(r=0),void 0===s&&(s=0),i.call(this),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.transformPoint=function(t,n,i){void 0===i&&(i=null);var a=this;return i instanceof e.Point||(i=new e.Point),i.x=t*a.a+n*a.c+a.tx,i.y=t*a.b+n*a.d+a.ty,i},this.prepend=function(e){var t=this,n=e.a,i=e.b,a=e.c,o=e.d,r=e.tx,s=e.ty,l=t.a,u=t.c,c=t.tx;t.a=n*l+a*t.b,t.b=i*l+o*t.b,t.c=n*u+a*t.d,t.d=i*u+o*t.d,t.tx=n*c+a*t.ty+r,t.ty=i*c+o*t.ty+s};var l=this;l._instanceType="annie.Matrix",l.a=t,l.b=n,l.c=a,l.d=o,l.tx=r,l.ty=s}return __extends(a,i),a.prototype.clone=function(){var e=this;return new a(e.a,e.b,e.c,e.d,e.tx,e.ty)},a.prototype.setFrom=function(e){var t=this;t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t.tx=e.tx,t.ty=e.ty},a.prototype.identity=function(){var e=this;e.a=e.d=1,e.b=e.c=e.tx=e.ty=0},a.prototype.invert=function(){var e=this,t=new a(e.a,e.b,e.c,e.d,e.tx,e.ty),n=e.a,i=e.b,o=e.c,r=e.d,s=e.tx,l=e.ty;if(0==i&&0==o)return 0==n||0==r?t.a=t.d=t.tx=t.ty=0:(n=t.a=1/n,r=t.d=1/r,t.tx=-n*s,t.ty=-r*l),t;var u=n*r-i*o;if(0==u)return t.identity(),t;u=1/u;var c=t.a=r*u;return i=t.b=-i*u,o=t.c=-o*u,r=t.d=n*u,t.tx=-(c*s+o*l),t.ty=-(i*s+r*l),t},a.prototype.createBox=function(e,i,a,o,s,l,u,c,d){var h=this;if(0!=s?l=u=s%360:(l%=360,u%=360),0==l&&0==u)h.a=a,h.b=h.c=0,h.d=o;else{l*=r,u*=r;var _=t(l),p=n(l);l==u?(h.a=_*a,h.b=p*a):(h.a=t(u)*a,h.b=n(u)*a),h.c=-p*o,h.d=_*o}h.tx=e+c-(c*h.a+d*h.c),h.ty=i+d-(c*h.b+d*h.d)},a.isEqual=function(e,t){return e.tx==t.tx&&e.ty==t.ty&&e.a==t.a&&e.b==t.b&&e.c==t.c&&e.d==t.d},a.prototype.concat=function(e){var t=this,n=t.a,i=t.b,a=t.c,o=t.d,r=t.tx,s=t.ty,l=e.a,u=e.b,c=e.c,d=e.d,h=e.tx,_=e.ty;t.a=n*l+i*c,t.b=n*u+i*d,t.c=a*l+o*c,t.d=a*u+o*d,t.tx=r*l+s*c+h,t.ty=r*u+s*d+_},a.prototype.rotate=function(e){var t=this,n=Math.sin(e),i=Math.cos(e),a=t.a,o=t.b,r=t.c,s=t.d,l=t.tx,u=t.ty;t.a=a*i-o*n,t.b=a*n+o*i,t.c=r*i-s*n,t.d=r*n+s*i,t.tx=l*i-u*n,t.ty=l*n+u*i},a.prototype.scale=function(e,t){var n=this;n.a*=e,n.d*=t,n.c*=e,n.b*=t,n.tx*=e,n.ty*=t},a.prototype.translate=function(e,t){var n=this;n.tx+=e,n.ty+=t},a.prototype.destroy=function(){},a}(e.AObject);e.Matrix=s}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(e,n,i,a){void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===a&&(a=0),t.call(this),this.x=0,this.y=0,this.width=0,this.height=0;var o=this;o._instanceType="annie.Rectangle",o.x=e,o.y=n,o.height=a,o.width=i}return __extends(n,t),n.prototype.isPointIn=function(e){var t=this;return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height},n.createFromRects=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(0==e.length)return null;if(1==e.length)return e[0];for(var n=e[0],i=n.x,a=n.y,o=n.width,r=n.height,s=void 0,l=void 0,u=void 0,c=void 0,d=1;d<e.length;d++)s=i+o,u=a+r,l=e[d].x+e[d].width,c=e[d].y+e[d].height,(i>e[d].x||0==s)&&(i=e[d].x),(a>e[d].y||0==u)&&(a=e[d].y),s<l&&(s=l),u<c&&(u=c),n.x=i,n.y=a,n.width=s-i,n.height=u-a;return n},n.createFromPoints=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];for(var a=n[0].x,o=n[0].y,r=n[0].x,s=n[0].y,l=1;l<n.length;l++)n[l]instanceof e.Point&&(a>n[l].x&&(a=n[l].x),o>n[l].y&&(o=n[l].y),r<n[l].x&&(r=n[l].x),s<n[l].y&&(s=n[l].y));return t.x=a,t.y=o,t.width=r-a,t.height=s-o,t},n.testRectCross=function(e,t){var n,i,a,o;return n=e.x+e.width/2,i=e.y+e.height/2,a=t.x+t.width/2,o=t.y+t.height/2,Math.abs(n-a)<=e.width/2+t.width/2&&Math.abs(i-o)<=e.height/2+t.height/2},n}(e.AObject);e.Rectangle=t}(annie||(annie={}));var annie;!function(e){var t=function(){function e(){}return e.getBlendMode=function(e){return this._modeList[e]},e.NORMAL=0,e.DARKEN=2,e.MULTIPLY=3,e.LIGHTEN=4,e.SCREEN=5,e.OVERLAY=6,e.HARDLIGHT=7,e.ADD=8,e.SUBTRACT=9,e.DIFFERENCE=10,e.INVERT=11,e.ERASE=13,e.SOURCE_IN=14,e.SOFT_LIGHT=15,e.XOR=16,e.COPY=17,e.HUE=18,e.SATURATION=19,e.COLOR=20,e.LUMINOSITY=21,e.EXCLUSION=22,e.COLOR_BURN=23,e.COLOR_DODGE=24,e.SOURCE_OUT=25,e.SOURCE_ATOP=26,e._modeList=["source-over","layer","darken","multiply","lighten","screen","overlay","hard-light","add","subtract","difference","invert","alpha","erase","source-in","soft-light","xor","copy","hue","saturation","color","luminosity","exclusion","color-burn","color-dodge","source-out","source-atop"],e}();e.BlendMode=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){t.call(this),this.a2x_um=!1,this.a2x_ua=!1,this.a2x_uf=!1,this._isCache=!1,this._cacheAsBitmap=!1,this.stage=null,this.parent=null,this._cAlpha=1,this._cMatrix=new e.Matrix,this.mouseEnable=!0,this.name="",this._x=0,this._offsetX=0,this._offsetY=0,this._y=0,this._scaleX=1,this._scaleY=1,this._rotation=0,this._alpha=1,this._skewX=0,this._skewY=0,this._anchorX=0,this._anchorY=0,this._visible=!0,this._blendMode=0,this._matrix=new e.Matrix,this._mask=null,this._filters=[],this._cp=!0,this._isUseToMask=0,this._hitArea=null,this.hitTestWithPixel=!1,this._texture=null,this._bounds=new e.Rectangle,this._splitBoundsList=[],this._needCheckDrawBounds=!1,this.soundList=[],this._a2x_res_obj={},this._isOnStage=void 0,this._changeTransformInfo=[!1,!1,!1,!1,!1,!1],this._instanceType="annie.DisplayObject"}return __extends(n,t),Object.defineProperty(n.prototype,"isCache",{get:function(){return this._isCache},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(e){var t=this;e!=t._cacheAsBitmap&&(t._cacheAsBitmap=e,t._isCache=t._cacheAsBitmap||t._filters.length>0||0!=t._blendMode,t.a2x_uf=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(e){var t=this;e!=t._x&&(t._x=e,t.a2x_um=!0),t._changeTransformInfo[0]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(e){var t=this;e!=t._y&&(t._y=e,t.a2x_um=!0),t._changeTransformInfo[1]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleX",{get:function(){return this._scaleX},set:function(e){var t=this;e!=t._scaleX&&(t._scaleX=e,t.a2x_um=!0),t._changeTransformInfo[2]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleY",{get:function(){return this._scaleY},set:function(e){var t=this;e!=t._scaleY&&(t._scaleY=e,t.a2x_um=!0),t._changeTransformInfo[3]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(e){var t=this;e==t._rotation&&0==t._skewX&&0==t._skewY||(t._rotation=e,t._skewX=0,t._skewY=0,t.a2x_um=!0),t._changeTransformInfo[4]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alpha",{get:function(){return this._alpha},set:function(e){var t=this;e!=t._alpha&&(t._alpha=e,t.a2x_ua=!0),t._changeTransformInfo[5]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"skewX",{get:function(){return this._skewX},set:function(e){var t=this;e==t._skewX&&0==t._rotation||(t._skewX=e,t._rotation=0,t.a2x_um=!0),t._changeTransformInfo[4]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"skewY",{get:function(){return this._skewY},set:function(e){var t=this;e==t._skewY&&0==t._rotation||(t._skewY=e,t._rotation=0,t.a2x_um=!0),t._changeTransformInfo[4]=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anchorX",{get:function(){return this._anchorX},set:function(e){var t=this;e!=t._anchorX&&(t._anchorX=e,t.a2x_um=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anchorY",{get:function(){return this._anchorY},set:function(e){var t=this;e!=t._anchorY&&(t._anchorY=e,t.a2x_um=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this._visible},set:function(e){var t=this;e!=t._visible&&(t._cp=!0,t._visible=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){var t=this;e!=t._blendMode&&(t._blendMode=e,t._isCache=t._cacheAsBitmap||t._filters.length>0||0!=t._blendMode,t.a2x_uf=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"matrix",{get:function(){return this._matrix},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mask",{get:function(){return this._mask},set:function(t){var n=this;t!=n._mask&&(t instanceof e.DisplayObject?t._isUseToMask++:n._mask instanceof e.DisplayObject&&n._mask._isUseToMask--,n._mask=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filters",{get:function(){return this._filters},set:function(e){var t=this;if(e instanceof Array){if(0!=e.length||0!=t._filters.length){t._filters.length=0;for(var n=0;n<e.length;n++)t.filters[n]=e[n];t.a2x_uf=!0}}else t._filters.length>0&&(t._filters.length=0,t.a2x_uf=!0);t._isCache=t._cacheAsBitmap||t._filters.length>0||0!=t._blendMode},enumerable:!0,configurable:!0}),n.prototype.globalToLocal=function(e,t){return void 0===t&&(t=null),this._cMatrix.invert().transformPoint(e.x,e.y,t)},n.prototype.localToGlobal=function(e,t){return void 0===t&&(t=null),this._cMatrix.transformPoint(e.x,e.y,t)},Object.defineProperty(n.prototype,"hitArea",{get:function(){return this._hitArea},set:function(e){this._hitArea=e},enumerable:!0,configurable:!0}),n.prototype.hitTestPoint=function(e,t){void 0===t&&(t=!1);var i=this;if(!i.visible||!i.mouseEnable)return null;var a;if(a=t?i.globalToLocal(e,n._p1):e,i._hitArea&&i._hitArea.isPointIn(a))return i;if(i._bounds.isPointIn(a)){if(!i.hitTestWithPixel)return i;var o=i._texture;if(!o||0==o.width||0==o.height)return null;var r=n._canvas,s=r.getContext("2d");if(r.width=1,r.height=1,s.clearRect(0,0,1,1),s.drawImage(o,a.x-i._offsetX,a.y-i._offsetY,1,1,0,0,1,1),s.getImageData(0,0,1,1).data[3]>0)return i}return null},n.prototype.getBounds=function(){return this._bounds},n.prototype.getDrawRect=function(t,i){void 0===t&&(t=null),void 0===i&&(i=null);var a=this;void 0==t&&(t=a.matrix),void 0==i&&(i=a.getBounds());var o=i.x,r=i.y,s=i.width,l=i.height;return t.transformPoint(o,r,n._p1),t.transformPoint(o+s,r,n._p2),t.transformPoint(o+s,r+l,n._p3),t.transformPoint(o,r+l,n._p4),e.Rectangle.createFromPoints(n._transformRect,n._p1,n._p2,n._p3,n._p4)},n.prototype._onUpdateMatrixAndAlpha=function(){var t,n,i,a,o=this,r=o.parent instanceof e.Sprite;if(t=o._cMatrix,i=o._cAlpha,r&&(n=o.parent._cMatrix,a=o.parent._cAlpha),o.a2x_um&&o._matrix.createBox(o._x,o._y,o._scaleX,o._scaleY,o._rotation,o._skewX,o._skewY,o._anchorX,o._anchorY),o._cp)o.a2x_um=o.a2x_ua=o.a2x_uf=!0,o._cp=!1;else if(r){var s=o.parent;s.a2x_um&&(o.a2x_um=!0),s.a2x_ua&&(o.a2x_ua=!0)}o.a2x_um&&(t.setFrom(o._matrix),r&&t.prepend(n)),o.a2x_ua&&(i=o._alpha,r&&(i*=a),o._cAlpha=i)},Object.defineProperty(n.prototype,"width",{get:function(){return this._onUpdateMatrixAndAlpha(),this.getDrawRect(),n._transformRect.width},set:function(e){var t=this;t._onUpdateMatrixAndAlpha(),t.getDrawRect();var i=n._transformRect.width;if(i>0){var a=e/i;t.scaleX*=a}else t.scaleX=1},enumerable:!0,configurable:!0}),n.prototype.getWH=function(){return this._onUpdateMatrixAndAlpha(),this.getDrawRect(),{w:n._transformRect.width,h:n._transformRect.height}},Object.defineProperty(n.prototype,"height",{get:function(){return this._onUpdateMatrixAndAlpha(),this.getDrawRect(),n._transformRect.height},set:function(e){var t=this;t._onUpdateMatrixAndAlpha(),t.getDrawRect();var i=n._transformRect.height;if(i>0){var a=e/i;t.scaleY*=a}else t.scaleY=1},enumerable:!0,configurable:!0}),n.prototype.stopAllSounds=function(){var e=this.soundList;if(e instanceof Array)for(var t=e.length-1;t>=0;t--)e[t].stop()},n.prototype._updateSplitBounds=function(){var t=this,n=[],i=t.getBounds();if(i.width*i.height>0){var a=1,o=1,r=0,s=0,l=i.width,u=i.height;e.isCutDraw&&(r=1024,s=1024,l=r+2,u=s+2,i.width>r&&(a=Math.ceil(i.width/r)),i.height>s&&(o=Math.ceil(i.height/s)));for(var c=0;c<a;c++)for(var d=0;d<o;d++){var h=c*r,_=d*s;c==a-1&&(l=i.width-h),d==o-1&&(u=i.height-_),n.push({isDraw:!0,rect:new e.Rectangle(h+i.x,_+i.y,l,u)})}}t._splitBoundsList=n,t._needCheckDrawBounds=!0},n.prototype._checkDrawBounds=function(){var t=this,n=t._splitBoundsList;if(t.stage)for(var i=0;i<n.length;i++)n[i].isDraw=e.Rectangle.testRectCross(t.getDrawRect(t._cMatrix,n[i].rect),t.stage.viewPort);t._needCheckDrawBounds=!1},n.prototype.getSound=function(e){var t=this.soundList,n=[];if(t instanceof Array)if("string"==typeof e)for(var i=t.length-1;i>=0;i--)t[i].name==e&&n.push(t[i]);else e>=0&&e<t.length&&n.push(t[e]);return n},n.prototype.addSound=function(e){var t=this;t.soundList instanceof Array||(t.soundList=[]),t.soundList.push(e)},n.prototype.removeSound=function(e){var t=this.soundList;if(t instanceof Array)if("string"==typeof e)for(var n=t.length-1;n>=0;n--)t[n].name==e&&t.splice(n,1);else e>=0&&e<t.length&&t.splice(e,1)},n.prototype.destroy=function(){var e=this;e.stopAllSounds();for(var n=0;n<e.soundList.length;n++)e.soundList[n].destroy();e.soundList=null,e._a2x_res_obj=null,e.mask=null,e.filters=null,e.parent=null,e.stage=null,e._bounds=null,e._splitBoundsList=null,e._matrix=null,e._cMatrix=null,e._texture=null,t.prototype.destroy.call(this)},n.prototype._onRemoveEvent=function(t){var n=this;n._isOnStage=!1;var i=n.soundList;if(i.length>0)for(var a=0;a<i.length;a++)i[a].stop2();n.dispatchEvent(e.Event.REMOVE_TO_STAGE)},n.prototype._onAddEvent=function(){var t=this;t._isOnStage=!0;var n=t.soundList;if(n.length>0)for(var i=0;i<n.length;i++)n[i].play2();t.dispatchEvent(e.Event.ADD_TO_STAGE)},n.prototype._onUpdateFrame=function(t){void 0===t&&(t=1),this._visible&&this.dispatchEvent(e.Event.ENTER_FRAME)},n.prototype.startDrag=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=null);var i=this;e.Stage._dragDisplay=i,e.Stage._isDragCenter=t,e.Stage._lastDragPoint.x=Number.MAX_VALUE,e.Stage._lastDragPoint.y=Number.MAX_VALUE,n?(e.Stage._dragBounds.x=n.x,e.Stage._dragBounds.y=n.y,e.Stage._dragBounds.width=n.width,e.Stage._dragBounds.height=n.height):(e.Stage._dragBounds.x=0,e.Stage._dragBounds.y=0,e.Stage._dragBounds.width=Number.MIN_VALUE,e.Stage._dragBounds.height=Number.MIN_VALUE)},n.prototype.stopDrag=function(){e.Stage._dragDisplay=null},n.prototype.clearCustomTransform=function(e){void 0===e&&(e=-1);var t=this;if(e=-1)for(var n=0;n<6;n++)t._changeTransformInfo[n]=!1;else t._changeTransformInfo[e]=!1},n.prototype.clearBounds=function(){this._bounds.x=0,this._bounds.y=0,this._bounds.width=0,this._bounds.height=0},n._p1=new e.Point,n._p2=new e.Point,n._p3=new e.Point,n._p4=new e.Point,n._canvas=window.document.createElement("canvas"),n._transformRect=new e.Rectangle,n}(e.EventDispatcher);e.DisplayObject=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(e){t.call(this),this._cacheCanvas=null,this._bitmapData=null;var n=this;n._instanceType="annie.Bitmap",n.bitmapData=e}return __extends(n,t),Object.defineProperty(n.prototype,"bitmapData",{get:function(){return this._bitmapData},set:function(e){var t=this;if("string"==typeof e){if(null==t._bitmapData){var n=new Image;t._bitmapData=n}t._texture=t._bitmapData,t._bitmapData.src=e,t.clearBounds()}else e!=t._bitmapData&&(t.clearBounds(),t._bitmapData=e,t._texture=e)},enumerable:!0,configurable:!0}),n.prototype._onUpdateTexture=function(){var t=this,n=t._bitmapData;if(n&&0!=n.width&&0!=n.height){var i=n.width,a=n.height;if(t._bounds.width==i&&t._bounds.height==a||(t._bounds.width=i,t._bounds.height=a,t._updateSplitBounds(),t._filters.length>0&&(t.a2x_uf=!0),t._texture=n),t.a2x_uf){t.a2x_uf=!1,t._needCheckDrawBounds=!0,t._cacheCanvas||(t._cacheCanvas=document.createElement("canvas"));var o=t._cacheCanvas;o.width=i,o.heigth=a,o.style.width=Math.ceil(i/e.devicePixelRatio)+"px",o.style.height=Math.ceil(a/e.devicePixelRatio)+"px";var r=o.getContext("2d");r.clearRect(0,0,i,a),r.drawImage(n,0,0);var s=t._filters,l=s.length;if(l>0){for(var u=r.getImageData(0,0,i,a),c=0;c<l;c++)s[c].drawFilter(u);r.putImageData(u,0,0),t._texture=o}else t._texture=n}t._needCheckDrawBounds&&t._checkDrawBounds()}},n.prototype._onUpdateMatrixAndAlpha=function(){t.prototype._onUpdateMatrixAndAlpha.call(this),this.a2x_um&&(this._needCheckDrawBounds=!0),this.a2x_um=!1,this.a2x_ua=!1},n.convertToImage=function(t,n,i){void 0===i&&(i=!0);var a;a=i?e.DisplayObject._canvas:window.document.createElement("canvas");var o=n.width,r=n.height,s=a.getContext("2d");if(a.width=o,a.height=r,s.drawImage(t.bitmapData,n.x,n.y,o,r,0,0,o,r),i){var l=new Image;return l.src=a.toDataURL(),l}return a},n.prototype.destroy=function(){var e=this;t.prototype.destroy.call(this),e._bitmapData=null,e._cacheCanvas=null},n}(e.DisplayObject);e.Bitmap=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){t.call(this,null),this._command=[],this.beginRadialGradientFill=function(e,t){this._fill(n.getGradientColor(e,t))},this.beginRadialGradientStroke=function(e,t,i,a,o,r){void 0===i&&(i=1),void 0===a&&(a=0),void 0===o&&(o=0),void 0===r&&(r=10),this._stroke(n.getGradientColor(e,t),i,a,o,r)},this.a2x_ut=!0;var e=this;e._instanceType="annie.Shape",e.hitTestWithPixel=!0,e.bitmapData=document.createElement("canvas")}return __extends(n,t),n.getGradientColor=function(t,i){var a,o=e.DisplayObject._canvas.getContext("2d");a=4==t.length?o.createLinearGradient(t[0],t[1],t[2],t[3]):o.createRadialGradient(t[0],t[1],0,t[2],t[3],t[4]);for(var r=0,s=i.length;r<s;r++)a.addColorStop(i[r][0],n.getRGBA(i[r][1],i[r][2]));return a},n.getBitmapStyle=function(t){return e.DisplayObject._canvas.getContext("2d").createPattern(t,"repeat")},n.getRGBA=function(e,t){if(0==e.indexOf("0x")&&(e=e.replace("0x","#")),e.length<7&&(e="#000000"),1!=t){e="rgba("+parseInt("0x"+e.substr(1,2))+","+parseInt("0x"+e.substr(3,2))+","+parseInt("0x"+e.substr(5,2))+","+t+")"}return e},n.prototype.addDraw=function(e,t){var n=this;n._command[n._command.length]=[1,e,t]},n.prototype.drawRoundRect=function(e,t,n,i,a,o,r,s){void 0===a&&(a=0),void 0===o&&(o=0),void 0===r&&(r=0),void 0===s&&(s=0);var l=(n<i?n:i)/2,u=0,c=0,d=0,h=0;a<0&&(a*=u=-1),a>l&&(a=l),o<0&&(o*=c=-1),o>l&&(o=l),s<0&&(s*=d=-1),s>l&&(s=l),r<0&&(r*=h=-1),r>l&&(r=l);var _=this._command;_[_.length]=[1,"moveTo",[e+n-o,t]],_[_.length]=[1,"arcTo",[e+n+o*c,t-o*c,e+n,t+o,o]],_[_.length]=[1,"lineTo",[e+n,t+i-s]],_[_.length]=[1,"arcTo",[e+n+s*d,t+i+s*d,e+n-s,t+i,s]],_[_.length]=[1,"lineTo",[e+r,t+i]],_[_.length]=[1,"arcTo",[e-r*h,t+i+r*h,e,t+i-r,r]],_[_.length]=[1,"lineTo",[e,t+a]],_[_.length]=[1,"arcTo",[e-a*u,t-a*u,e+a,t,a]],_[_.length]=[1,"closePath",[]]},n.prototype.moveTo=function(e,t){this._command[this._command.length]=[1,"moveTo",[e,t]]},n.prototype.lineTo=function(e,t){this._command[this._command.length]=[1,"lineTo",[e,t]]},n.prototype.arcTo=function(e,t){this._command[this._command.length]=[1,"arcTo",[e,t]]},n.prototype.quadraticCurveTo=function(e,t,n,i){this._command[this._command.length]=[1,"quadraticCurveTo",[e,t,n,i]]},n.prototype.bezierCurveTo=function(e,t,n,i,a,o){this._command[this._command.length]=[1,"bezierCurveTo",[e,t,n,i,a,o]]},n.prototype.closePath=function(){this._command[this._command.length]=[1,"closePath",[]]},n.prototype.drawRect=function(e,t,n,i){var a=this._command;a[a.length]=[1,"moveTo",[e,t]],a[a.length]=[1,"lineTo",[e+n,t]],a[a.length]=[1,"lineTo",[e+n,t+i]],a[a.length]=[1,"lineTo",[e,t+i]],a[a.length]=[1,"closePath",[]]},n.prototype.drawArc=function(e,t,n,i,a){this._command[this._command.length]=[1,"arc",[e,t,n,i/180*Math.PI,a/180*Math.PI]]},n.prototype.drawCircle=function(e,t,n){this._command[this._command.length]=[1,"arc",[e,t,n,0,2*Math.PI]]},n.prototype.drawEllipse=function(e,t,n,i){var a=.5522848,o=n/2*a,r=i/2*a,s=e+n,l=t+i,u=e+n/2,c=t+i/2,d=this._command;d[d.length]=[1,"moveTo",[e,c]],d[d.length]=[1,"bezierCurveTo",[e,c-r,u-o,t,u,t]],d[d.length]=[1,"bezierCurveTo",[u+o,t,s,c-r,s,c]],d[d.length]=[1,"bezierCurveTo",[s,c+r,u+o,l,u,l]],d[d.length]=[1,"bezierCurveTo",[u-o,l,e,c+r,e,c]]},n.prototype.clear=function(){var e=this;e._command=[],e._texture=null,e._bitmapData.width=0,e._bitmapData.height=0,e.a2x_ut=!1,e.clearBounds()},n.prototype.beginFill=function(e){this._fill(e)},n.prototype.beginLinearGradientFill=function(e,t){this._fill(n.getGradientColor(e,t))},n.prototype.beginBitmapFill=function(e,t){var i=this;t&&(i._isBitmapFill=t),i._fill(n.getBitmapStyle(e))},n.prototype._fill=function(e){var t=this,n=t._command;n[n.length]=[0,"fillStyle",e],n[n.length]=[1,"beginPath",[]]},n.prototype.beginStroke=function(e,t,n,i,a){void 0===t&&(t=1),void 0===n&&(n=0),void 0===i&&(i=0),void 0===a&&(a=0),this._stroke(e,t,n,i,a)},n.prototype.beginLinearGradientStroke=function(e,t,i,a,o,r){void 0===i&&(i=1),void 0===a&&(a=0),void 0===o&&(o=0),void 0===r&&(r=10),this._stroke(n.getGradientColor(e,t),i,a,o,r)},n.prototype.beginBitmapStroke=function(e,t,i,a,o,r){void 0===i&&(i=1),void 0===a&&(a=0),void 0===o&&(o=0),void 0===r&&(r=10);var s=this;t&&(s._isBitmapStroke=t),s._stroke(n.getBitmapStyle(e),i,a,o,r)},n.prototype._stroke=function(e,t,i,a,o){var r=this._command;r[r.length]=[0,"lineWidth",t],r[r.length]=[0,"lineCap",n._caps[i]],r[r.length]=[0,"lineJoin",n._joins[a]],r[r.length]=[0,"miterLimit",o],r[r.length]=[0,"strokeStyle",e],r[r.length]=[1,"beginPath",[]]},n.prototype.endFill=function(){var e=this,t=e._command,n=e._isBitmapFill;n&&(t[t.length]=[2,"setTransform",n]),t[t.length]=[1,"fill",[]],n&&(e._isBitmapFill=null),e.a2x_ut=!0},n.prototype.setLineDash=function(e){void 0===e&&(e=[]);var t=this._command;t[t.length]=[1,"setLineDash",[e,0]]},n.prototype.endStroke=function(){var e=this,t=e._command,n=e._isBitmapStroke;n&&(t[t.length]=[2,"setTransform",n]),t[t.length]=[1,"stroke",[]],n&&(e._isBitmapStroke=null),e.a2x_ut=!0},n.prototype.decodePath=function(e){for(var t=this,n=["moveTo","lineTo","quadraticCurveTo","bezierCurveTo","closePath"],i=e.length,a=0;a<i;a++)0==e[a]||1==e[a]?(t.addDraw(n[e[a]],[e[a+1],e[a+2]]),a+=2):(t.addDraw(n[e[a]],[e[a+1],e[a+2],e[a+3],e[a+4]]),a+=4);t.a2x_ut=!0},n.prototype._onUpdateTexture=function(){var n=this;if(n.a2x_ut){var i=n._bitmapData,a=i.getContext("2d");n.a2x_ut=!1;var o=n._command.length,r=void 0,s=void 0,l=void 0,u=void 0,c=void 0;if(o>0){var d=void 0,h=0,_=0,p=0;for(c=0;c<o;c++)if(d=n._command[c],1==d[0]){if("moveTo"==d[1]||"lineTo"==d[1]||"arcTo"==d[1]||"bezierCurveTo"==d[1])void 0==r&&(r=d[2][0]),void 0==s&&(s=d[2][1]),void 0==l&&(l=d[2][0]),void 0==u&&(u=d[2][1]),"bezierCurveTo"==d[1]?(r=Math.min(r,d[2][0],d[2][2],d[2][4]),s=Math.min(s,d[2][1],d[2][3],d[2][5]),l=Math.max(l,d[2][0],d[2][2],d[2][4]),u=Math.max(u,d[2][1],d[2][3],d[2][5]),h=d[2][4],_=d[2][5]):(r=Math.min(r,d[2][0]),s=Math.min(s,d[2][1]),l=Math.max(l,d[2][0]),u=Math.max(u,d[2][1]),h=d[2][0],_=d[2][1]);else if("quadraticCurveTo"==d[1]){var f=.5*(h+d[2][0]),v=.5*(_+d[2][1]),m=.5*(d[2][0]+d[2][2]),g=.5*(d[2][1]+d[2][3]);void 0==r&&(r=f),void 0==s&&(s=v),void 0==l&&(l=f),void 0==u&&(u=v),r=Math.min(r,f,m,d[2][2]),s=Math.min(s,v,g,d[2][3]),l=Math.max(l,f,m,d[2][2]),u=Math.max(u,v,g,d[2][3]),h=d[2][2],_=d[2][3]}else if("arc"==d[1]){var y=d[2][0],b=d[2][1],x=d[2][2],w=y-x,E=b-x,T=y+x,M=b+x;void 0==r&&(r=w),void 0==s&&(s=E),void 0==l&&(l=T),void 0==u&&(u=M),r=Math.min(r,w),s=Math.min(s,E),l=Math.max(l,T),u=Math.max(u,M)}}else"lineWidth"==d[1]&&p<d[2]&&(p=d[2]);if(void 0!=r||p>0){void 0==r&&(r=0,s=0),r-=2+p,s-=2+p,l+=2+p,u+=2+p;var O=l-r,P=u-s;n._offsetX=r,n._offsetY=s,n._bounds.x=r,n._bounds.y=s,P=Math.ceil(P),O=Math.ceil(O),i.width=O,i.height=P,i.style.width=O/e.devicePixelRatio+"px",i.style.height=P/e.devicePixelRatio+"px",a.clearRect(0,0,O,P),a.setTransform(1,0,0,1,-r,-s),n._draw(a)}}n._filters.length>0&&(n.a2x_uf=!0)}t.prototype._onUpdateTexture.call(this)},n.prototype._draw=function(e,t){void 0===t&&(t=!1);for(var n,i=this,a=i._command,o=a.length,r=i._offsetX,s=i._offsetY,l=!1,u=0;u<o;u++)if(n=a[u],n[0]>0){var c=n[2].length;if(t&&(l||"beginPath"==n[1]||"closePath"==n[1]||0==c))continue;if(0==c)e[n[1]]();else if(2==c)e[n[1]](n[2][0],n[2][1]);else if(4==c)e[n[1]](n[2][0],n[2][1],n[2][2],n[2][3]);else if(5==c)e[n[1]](n[2][0],n[2][1],n[2][2],n[2][3],n[2][4]);else if(6==c){var d=n[2][4],h=n[2][5];2==n[0]&&(d-=r,h-=s),e[n[1]](n[2][0],n[2][1],n[2][2],n[2][3],d,h)}}else t?"strokeStyle"==n[1]?l=!0:"fillStyle"==n[1]&&(l=!1):e[n[1]]=n[2]},n.prototype.changeColor=function(e){for(var t=this,n=t._command.length,i=t._command,a=0;a<n;a++)0==i[a][0]&&("fillStyle"==i[a][1]&&e.fillColor&&i[a][2]!=e.fillColor&&(i[a][2]=e.fillColor,t.a2x_ut=!0),"strokeStyle"==i[a][1]&&e.strokeColor&&i[a][2]!=e.strokeColor&&(i[a][2]=e.strokeColor,t.a2x_ut=!0),"lineWidth"==i[a][1]&&e.lineWidth&&i[a][2]!=e.lineWidth&&(i[a][2]=e.lineWidth,t.a2x_ut=!0))},n.prototype.destroy=function(){var e=this;e._command=null,e._isBitmapStroke=null,e._isBitmapFill=null,t.prototype.destroy.call(this)},n._caps=["butt","round","square"],n._joins=["miter","round","bevel"],n}(e.Bitmap);e.Shape=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){t.call(this),this.mcSpeed=1,this._cMcSpeed=1,this.mouseChildren=!0,this.children=[];var e=this;e._instanceType="annie.Sprite",e.hitTestWithPixel=!0}return __extends(n,t),n.prototype.destroy=function(){for(var i=this,a=0;a<i.children.length;a++)i.children[a].destroy();i.parent instanceof e.Sprite&&n._removeFormParent(i.parent,i),i.children=null,i._hitArea=null,t.prototype.destroy.call(this)},n.prototype.addChild=function(e){this.addChildAt(e,this.children.length)},n.prototype.removeChild=function(e){for(var t=this,n=t.children.length,i=0;i<n;i++)if(t.children[i]==e){t.removeChildAt(i);break}},n._getElementsByName=function(t,i,a,o,r){var s=i.children.length;if(s>0)for(var l,u=void 0,c=0;c<s;c++){if(u=i.children[c],(l=u.name)&&""!=l&&t.test(l)&&(r[r.length]=u,a))return;o&&u instanceof e.Sprite&&n._getElementsByName(t,u,a,o,r)}},n.prototype.getChildByName=function(e,t,i){if(void 0===t&&(t=!0),void 0===i&&(i=!1),
!e)return null;var a,o=this;a="string"==typeof e?new RegExp("^"+e+"$"):e;var r=[];n._getElementsByName(a,o,t,i,r);var s=r.length;return 0==s?null:1==s?r[0]:r},n.prototype.addChildAt=function(t,i){if(t instanceof e.DisplayObject){var a,o=this,r=t.parent;r instanceof e.Sprite&&(n._removeFormParent(r,t),r.a2x_uf=!0),a=o.children.length,i>=a?o.children[a]=t:0==i?o.children.unshift(t):o.children.splice(i,0,t),r!=o&&(t._cp=!0,t.parent=o,o._isOnStage&&!t._isOnStage&&(t.stage=o.stage,t._onAddEvent())),o.a2x_uf=!0}},n._removeFormParent=function(e,t){for(var n=e.children,i=n.length,a=0;a<i;a++)if(n[a]==t){n.splice(a,1);break}},n.prototype.getChildAt=function(e){return this.children.length-1>=e?this.children[e]:null},n.prototype.getChildIndex=function(e){for(var t=this,n=t.children.length,i=0;i<n;i++)if(t.children[i]==e)return i;return-1},n.prototype.swapChild=function(e,t){var n=this,i=-1,a=-1,o=n.children.length;if(i="number"==typeof e?e:n.getChildIndex(e),a="number"==typeof t?t:n.getChildIndex(t),i==a||i<0||i>=o||a<0||a>=o)return!1;var r=n.children[i];return n.children[i]=n.children[a],n.children[a]=r,!0},n.prototype.removeChildAt=function(e){var t,n=this,i=n.children.length-1;i<0||(t=e==i?n.children.pop():0==e?n.children.shift():n.children.splice(e,1)[0],n._isOnStage&&t._isOnStage&&(t._onRemoveEvent(!1),t.stage=null),t.parent=null,n.a2x_uf=!0)},n.prototype.updateCache=function(){this.a2x_uf=!0},n.prototype.removeAllChildren=function(){for(var e=this,t=e.children.length,n=t-1;n>=0;n--)e.removeChildAt(0)},n.prototype.hitTestPoint=function(n,i){void 0===i&&(i=!1);var a=this;if(!a._visible||!a.mouseEnable)return null;if(a._isCache||a._hitArea)return t.prototype.hitTestPoint.call(this,n,i);var o=n;i||(o=a.localToGlobal(n,new e.Point));for(var r,s,l=a.children.length,u={},c=l-1;c>=0;c--)if(s=a.children[c],!(s._isUseToMask>0)&&(void 0==s.mask||(void 0==u[s.mask._instanceId]&&(s.mask.hitTestPoint(o,!0)?u[s.mask._instanceId]=!0:u[s.mask._instanceId]=!1),0!=u[s.mask._instanceId]))&&(r=s.hitTestPoint(o,!0)))return r;return null},n.prototype.getBounds=function(){var t=this,n=t._bounds;n.x=0,n.y=0,n.width=0,n.height=0;var i=t.children,a=i.length;if(a>0)for(var o=0;o<a;o++)i[o].visible&&0==i[o]._isUseToMask&&i[o].getDrawRect(),e.Rectangle.createFromRects(n,e.DisplayObject._transformRect);return n},n.prototype._onUpdateMatrixAndAlpha=function(){var e=this;if(e._visible){t.prototype._onUpdateMatrixAndAlpha.call(this);for(var n=e.children,i=n.length,a=0;a<i;a++)n[a]._onUpdateMatrixAndAlpha();e.a2x_um&&(e._needCheckDrawBounds=!0),e.a2x_ua=!1,e.a2x_um=!1}},n.prototype._onUpdateTexture=function(){var t=this;if(t._isCache&&!t.a2x_uf);else for(var n=t.children,i=n.length,a=0;a<i;a++)n[a]._onUpdateTexture();t.a2x_uf&&(t.a2x_uf=!1,t._texture=null,t._isCache?(e.createCache(t),t._updateSplitBounds()):(t._offsetX=0,t._offsetY=0)),t._needCheckDrawBounds&&t._checkDrawBounds()},n.prototype._onRemoveEvent=function(n){for(var i=this,a=null,o=i.children.concat(),r=o.length,s=r-1;s>=0;s--)(a=o[s])instanceof e.DisplayObject&&a._isOnStage&&(a._onRemoveEvent(n),a.stage=null);t.prototype._onRemoveEvent.call(this,n)},n.prototype._onAddEvent=function(){for(var n=this,i=null,a=n.children.concat(),o=a.length,r=o-1;r>=0;r--)(i=a[r])instanceof e.DisplayObject&&!i._isOnStage&&(i.stage=n.stage,i._onAddEvent());t.prototype._onAddEvent.call(this)},n.prototype._onUpdateFrame=function(e){void 0===e&&(e=1);var n=this,i=n.mcSpeed*e;t.prototype._onUpdateFrame.call(this,i);for(var a=null,o=n.children.concat(),r=o.length,s=r-1;s>=0;s--)(a=o[s])&&a._onUpdateFrame(i)},n}(e.DisplayObject);e.Sprite=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t,n){e.call(this),this.media=null,this.type="",this.isPlaying=!0,this.name="",this._loop=1,this._repeate=1;var i=this;i._instanceType="annie.Media","string"==typeof t?(i.media=document.createElement(n),i.media.src=t):i.media=t,i._SBWeixin=i._weixinSB.bind(i),i.media.addEventListener("ended",i._endEvent=function(){-1==i._loop?i.play(0):(i._loop--,i._loop>0?i.play(0,i._loop):i.stop()),i.dispatchEvent("onPlayEnd")}.bind(i)),i.type=n.toLocaleUpperCase(),i.media.addEventListener("timeupdate",i._updateEvent=function(){i.dispatchEvent("onPlayUpdate",{currentTime:i.media.currentTime})}),i.media.addEventListener("play",i._playEvent=function(){i.dispatchEvent("onPlayStart")})}return __extends(t,e),t.prototype.play=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var n=this;0==t?n._loop=n._repeate:(n._loop=t,n._repeate=t),n.media.currentTime!=e&&(n.media.currentTime=e);var i=window;if(i.WeixinJSBridge)try{i.WeixinJSBridge.invoke("getNetworkType",{},n._SBWeixin)}catch(e){n.media.play()}else n.media.play();n.isPlaying=!0},t.prototype._weixinSB=function(){this.media.play()},t.prototype.stop=function(){var e=this;e.media.pause(),e.media.currentTime=0,e.isPlaying=!1},t.prototype.pause=function(e){void 0===e&&(e=!0);var t=this;e?(t.media.pause(),t.isPlaying=!1):(t.media.play(),t.isPlaying=!0)},Object.defineProperty(t.prototype,"volume",{get:function(){return this.media.volume},set:function(e){var t=this;t.media.volume=e,t.media.muted=0==e},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){var t=this;t.media.pause(),t.media.removeEventListener("ended",t._endEvent),t.media.removeEventListener("onPlayStart",t._playEvent),t.media.removeEventListener("timeupdate",t._updateEvent),t.media=null,e.prototype.destroy.call(this)},t}(e.EventDispatcher);e.Media=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(i){t.call(this,i,"Audio");var a=this;a._instanceType="annie.Sound",e.Sound._soundList.push(a),a.volume=n._volume}return __extends(n,t),n.prototype.destroy=function(){for(var n=e.Sound._soundList.length,i=n-1;i>=0;i--)e.Sound._soundList[i]&&e.Sound._soundList[i]!=this||e.Sound._soundList.splice(i,1);t.prototype.destroy.call(this)},n.prototype.stop2=function(){var e=this;e.isPlaying&&e.media.pause()},n.prototype.play2=function(){var e=this;e.isPlaying&&e.play()},n.stopAllSounds=function(){for(var t=e.Sound._soundList.length,n=t-1;n>=0;n--)e.Sound._soundList[n]?e.Sound._soundList[n].stop2():e.Sound._soundList.splice(n,1)},n.resumePlaySounds=function(){for(var t=e.Sound._soundList.length,n=t-1;n>=0;n--)e.Sound._soundList[n]?e.Sound._soundList[n].play2():e.Sound._soundList.splice(n,1)},n.setAllSoundsVolume=function(t){for(var i=e.Sound._soundList.length,a=i-1;a>=0;a--)e.Sound._soundList[a]?e.Sound._soundList[a].volume=t:e.Sound._soundList.splice(a,1);n._volume=t},n._soundList=[],n._volume=1,n}(e.Media);e.Sound=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t,n,i){void 0===n&&(n=0),void 0===i&&(i=0),e.call(this,t,"Video");var a=this;a._instanceType="annie.Video",a.media.setAttribute("playsinline","true"),a.media.setAttribute("webkit-playsinline","true"),a.media.setAttribute("x-webkit-airplay","true"),a.media.setAttribute("x5-video-player-type","h5"),a.media.poster="",a.media.preload="auto",a.media.controls=!1,n&&i&&(a.media.width=n,a.media.height=i)}return __extends(t,e),t}(e.Media);e.Video=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){t.call(this),this._curFrame=0,this._wantFrame=1,this._lastFrameObj=null,this._isPlaying=!0,this._isFront=!0,this._floatFrame=0,this._a2x_res_class={tf:1},this._a2x_res_children=[],this._a2x_script=null,this._a2x_mode=-2,this._clicked=!1,this._a2x_sounds=null,this._instanceType="annie.MovieClip"}return __extends(n,t),Object.defineProperty(n.prototype,"currentFrame",{get:function(){var e=this;return e._wantFrame>0?e._wantFrame:e._curFrame},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isFront",{get:function(){return this._isFront},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalFrames",{get:function(){return this._a2x_res_class.tf},enumerable:!0,configurable:!0}),n.prototype.stop=function(){var e=this;0==e._wantFrame&&0==e._curFrame&&(e._wantFrame=1),e._isPlaying=!1},n.prototype.addFrameScript=function(e,t){var n=this,i=n._a2x_res_class;"string"==typeof e&&void 0!=i.label[e]&&(e=i.label[e]),n._a2x_script instanceof Object||(n._a2x_script={}),n._a2x_script[e]=t},n.prototype.removeFrameScript=function(e){var t=this,n=t._a2x_res_class;"string"==typeof e&&void 0!=n.label[e]&&(e=n.label[e]),t._a2x_script instanceof Object&&(t._a2x_script[e]=null)},Object.defineProperty(n.prototype,"isButton",{get:function(){return-1==this._a2x_mode},enumerable:!0,configurable:!0}),n.prototype.initButton=function(){var e=this;-1!=e._a2x_mode&&e._a2x_res_class.tf>1&&(e.mouseChildren=!1,e.addEventListener("onMouseDown",e._mouseEvent.bind(e)),e.addEventListener("onMuseOver",e._mouseEvent.bind(e)),e.addEventListener("onMouseUp",e._mouseEvent.bind(e)),e.addEventListener("onMouseOut",e._mouseEvent.bind(e)),e._a2x_mode=-1,e._clicked?e.totalFrames>2?e.gotoAndStop(3):e.gotoAndStop(2):e.gotoAndStop(1))},Object.defineProperty(n.prototype,"clicked",{get:function(){return this._clicked},set:function(e){var t=this;e!=t._clicked&&(e?t._mouseEvent({type:"onMouseDown"}):t.gotoAndStop(1),t._clicked=e)},enumerable:!0,configurable:!0}),n.prototype._mouseEvent=function(e){var t=this;if(!t._clicked){var n=2;"onMouseDown"==e.type?t.totalFrames>2&&(n=3):"onMouseOver"==e.type?t.totalFrames>1&&(n=2):n=1,t.gotoAndStop(n)}},n.prototype.getCurrentLabel=function(){var e=this;return e._a2x_res_class.tf>1&&e._a2x_res_class.l[e._curFrame-1]?e._a2x_res_class.l[e._curFrame-1]:null},n.prototype.nextFrame=function(){var e=this;e._wantFrame+=e._cMcSpeed,e._wantFrame>e._a2x_res_class.tf&&(e._wantFrame=e._a2x_res_class.tf),e._isPlaying=!1,e._onCheckUpdateFrame()},n.prototype.prevFrame=function(){var e=this;e._wantFrame-=e._cMcSpeed,e._wantFrame<1&&(e._wantFrame=1),e._isPlaying=!1,e._onCheckUpdateFrame()},n.prototype.gotoAndStop=function(e){var t=this,n=t._a2x_res_class,i=!1;"string"==typeof e?void 0!=n.label[e]&&(e=n.label[e],i=!0):"number"==typeof e&&(e<1?e=1:e>n.tf&&(e=n.tf),i=!0),i&&(t._isPlaying=!1,t._floatFrame=0,t._wantFrame=e,t._onCheckUpdateFrame())},n.prototype.play=function(e){void 0===e&&(e=!0);var t=this;t._isPlaying=!0,t._isFront=e},n.prototype.gotoAndPlay=function(e,t){void 0===t&&(t=!0);var n=this,i=n._a2x_res_class,a=!1;"string"==typeof e?void 0!=i.label[e]&&(e=i.label[e],a=!0):"number"==typeof e&&(e<1?e=1:e>i.tf&&(e=i.tf),a=!0),a&&(n._isPlaying=!0,n._isFront=t,n._floatFrame=0,n._wantFrame=e,n._onCheckUpdateFrame())},n.prototype._onCheckUpdateFrame=function(){var e=this;e._wantFrame!=e._curFrame&&e._isOnStage&&e._updateTimeline()},n.prototype._onAddEvent=function(){t.prototype._onAddEvent.call(this),this._onCheckUpdateFrame()},n.prototype._updateTimeline=function(){var t=this;if(t._a2x_res_class.tf>1&&(t._a2x_mode>=0?(t._isPlaying=!1,t.parent instanceof e.MovieClip?t._wantFrame=t.parent._wantFrame-t._a2x_mode:t._wantFrame=1):t._isPlaying&&t._wantFrame==t._curFrame&&t._visible&&(t._isFront?(t._wantFrame+=t._cMcSpeed,t._wantFrame>t._a2x_res_class.tf&&(t._wantFrame=1)):(t._wantFrame-=t._cMcSpeed,t._wantFrame<1&&(t._wantFrame=t._a2x_res_class.tf))),t._wantFrame!=t._curFrame)){var n=Math.floor(t._curFrame),i=Math.floor(t._wantFrame);if(t._floatFrame=t._wantFrame-i,t._curFrame=t._wantFrame,n!=i){t.a2x_uf=!0;var a=t._a2x_res_class,o=t._a2x_res_children,r=o.length,s=0,l=null,u=null,c=i-1,d=void 0,h=t._isFront,_=a.f[a.timeLine[c]],p=[],f=[];if(t._lastFrameObj!=_){t._lastFrameObj=_,t.children.length=0;for(var v=null,m=-1,g=r-1;g>=0;g--)s=o[g][0],l=o[g][1],u=_ instanceof Object&&_.c instanceof Object?_.c[s]:null,u instanceof Object?(e.d(l,u,!0),void 0!=u.ma?(v=l,m=u.ma):v instanceof Object&&(l.mask=v,s==m&&(v=null)),t.children.unshift(l),l._isOnStage||p.unshift(l)):l._isOnStage&&f.unshift(l);t._floatFrame>0&&t._updateFrameGap();for(var y=p.length,g=0;g<y;g++)l=p[g],!l._isOnStage&&t._isOnStage&&(l._cp=!0,l.parent=t,l.stage=t.stage,l._onAddEvent());y=f.length;for(var g=0;g<y;g++)l=f[g],l._isOnStage&&t._isOnStage&&(l._onRemoveEvent(!0),l.stage=null,l.parent=null)}if(t._a2x_mode<0){var b=!1;if(t._a2x_script instanceof Object&&(d=t._a2x_script[c])instanceof Function&&(d(),b=!0),b||(d=a.a[c])instanceof Array&&t[d[0]](void 0==d[1]||d[1],void 0==d[2]||d[2]),(d=a.e[c])instanceof Array)for(var g=0;g<d.length;g++)t.dispatchEvent(e.Event.CALL_FRAME,{frameIndex:t._curFrame,frameName:d[g]});(1==t._curFrame&&!h||t._curFrame==t._a2x_res_class.tf&&h)&&t.hasEventListener(e.Event.END_FRAME)&&t.dispatchEvent(e.Event.END_FRAME,{frameIndex:t._curFrame,frameName:"endFrame"})}var x=a.s[c];if(x instanceof Object)for(var w in x)t._a2x_sounds[w-1].play(0,x[w])}else t._floatFrame>0&&t._updateFrameGap()}},n.prototype._onUpdateFrame=function(e){void 0===e&&(e=1);var n=this;n._cMcSpeed=n.mcSpeed*e,n._updateTimeline(),t.prototype._onUpdateFrame.call(this,e)},n.prototype._onRemoveEvent=function(e){t.prototype._onRemoveEvent.call(this,e),e&&n._resetMC(this)},n.prototype._updateFrameGap=function(){var e=this;e.a2x_uf=!0;for(var t=e._a2x_res_class,n=e._a2x_res_children,i=n.length,a=0,o=null,r=null,s=null,l=Math.floor(e._curFrame),u=e._lastFrameObj,c=e._floatFrame,d=t.f[t.timeLine[l]],h=i-1;h>=0;h--)if(a=n[h][0],o=n[h][1],d&&d.c&&u&&u.c&&(r=d.c[a],void 0!=(s=u.c[a])&&void 0!=r)){if(void 0!=r.tr&&1!=r.tr.length||(r.tr=[0,0,1,1,0,0]),void 0==r.al&&(r.al=1),o._changeTransformInfo[0]||(o._x=s.tr[0]+(r.tr[0]-s.tr[0])*c),o._changeTransformInfo[1]||(o._y=s.tr[1]+(r.tr[1]-s.tr[1])*c),o._changeTransformInfo[2]||(o._scaleX=s.tr[2]+(r.tr[2]-s.tr[2])*c),o._changeTransformInfo[3]||(o._scaleY=s.tr[3]+(r.tr[3]-s.tr[3])*c),!o._changeTransformInfo[4]){var _=r.tr[4]-s.tr[4],p=r.tr[5]-s.tr[5];_>180?_-=360:_<-180&&(_+=360),p>180?p-=360:p<-180&&(p+=360),o._skewX=s.tr[4]+_*c,o._skewY=s.tr[5]+p*c}o._changeTransformInfo[5]||(o._alpha=s.al+(r.al-s.al)*c,o.a2x_ua=!0),o.a2x_um=!0}e._floatFrame=0},n._resetMC=function(e){e._wantFrame=1,e._curFrame=0,e._isFront=!0,e._floatFrame=0,e._a2x_mode<-1?e._isPlaying=!0:e._isPlaying=!1},n.prototype.destroy=function(){var e=this;t.prototype.destroy.call(this),e._lastFrameObj=null,e._a2x_script=null,e._a2x_res_children=null,e._a2x_res_class=null,e._a2x_sounds=null},n}(e.Sprite);e.MovieClip=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){t.call(this),this.htmlElement=null,this._isAdded=!1;var n=this;n._instanceType="annie.FloatDisplay",n.addEventListener(e.Event.REMOVE_TO_STAGE,function(e){n.htmlElement&&(n.htmlElement.style.display="none")}),n.addEventListener(e.Event.ADD_TO_STAGE,function(e){if(n.htmlElement){var t=n.htmlElement.style;n._isAdded?n.htmlElement&&n.visible&&(t.display="inline-block"):(n._isAdded=!0,n.stage.rootDiv.insertBefore(n.htmlElement,n.stage.rootDiv.childNodes[0]))}})}return __extends(n,t),n.prototype.init=function(e){var t,n=this;t="string"==typeof e?document.getElementById(e):"annie.Video"==e._instanceType?e.media:e,n.htmlElement&&n.removeHtmlElement();var i=t.style;i.position="absolute",i.display="none",i.transformOrigin=i.WebkitTransformOrigin="0 0 0",n.htmlElement=t,n._onUpdateTexture()},n.prototype.getStyle=function(e,t){if(e.style[t])return e.style[t];if(document.defaultView&&document.defaultView.getComputedStyle){t=t.replace(/([A-Z])/g,"-$1"),t=t.toLowerCase();var n=document.defaultView.getComputedStyle(e,"");return n&&n.getPropertyValue(t)}return null},n.prototype._onUpdateTexture=function(){var e=this,t=e.htmlElement;if(t){var n=t.offsetWidth,i=t.offsetHeight;e._bounds.width==n&&e._bounds.height==i||(e._bounds.width=n,e._bounds.height=i,e._updateSplitBounds())}else e._bounds.width=0,e._bounds.height=0},n.prototype._onUpdateFrame=function(){t.prototype._onUpdateFrame.call(this);var n=this,i=n.htmlElement;if(i){var a=i.style,o=n._visible;if(o)if(n._isOnStage)for(var r=n.parent;r instanceof e.Sprite;){if(!r._visible){o=!1;break}r=r.parent}else o=!1;var s=o?"inline-block":"none";s!=a.display&&(a.display=s)}},n.prototype._onUpdateMatrixAndAlpha=function(){var n=this,i=n.htmlElement;if(n._visible&&i){if(t.prototype._onUpdateMatrixAndAlpha.call(this),n.a2x_um||n.a2x_ua){var a=i.style;if(n.a2x_um){var o=n._cMatrix,r=e.devicePixelRatio;a.transform=a.webkitTransform="matrix("+(o.a/r).toFixed(4)+","+(o.b/r).toFixed(4)+","+(o.c/r).toFixed(4)+","+(o.d/r).toFixed(4)+","+(o.tx/r).toFixed(4)+","+(o.ty/r).toFixed(4)+")"}n.a2x_ua&&(a.opacity=n._cAlpha)}n.a2x_um=!1,n.a2x_ua=!1}},n.prototype.removeHtmlElement=function(){var e=this,t=e.htmlElement;t&&(t.style.display="none",t.parentNode&&t.parentNode.removeChild(t),e._isAdded=!1,e.htmlElement=null)},n.prototype.destroy=function(){t.prototype.destroy.call(this),this.removeHtmlElement()},n}(e.DisplayObject);e.FloatDisplay=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){t.call(this,null),this._textAlign="left",this._textAlpha=1,this._textHeight=0,this._lineHeight=14,this._textWidth=120,this._lineType="single",this._text="",this._font="Arial",this._size=12,this._color="#fff",this._italic=!1,this._bold=!1,this._border=!1,this._stroke=0,this._strokeColor="#000",this.realLines=[],this.a2x_ut=!0,this._instanceType="annie.TextField",this.bitmapData=window.document.createElement("canvas")}return __extends(n,t),Object.defineProperty(n.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){var t=this;e!=t._textAlign&&(t._textAlign=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textAlpha",{get:function(){return this._textAlpha},set:function(e){var t=this;e!=t._textAlpha&&(t._textAlpha=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textHeight",{get:function(){return this._textHeight},set:function(e){var t=this;e!=t._textHeight&&(t._textHeight=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){var t=this;e!=t._lineHeight&&(t._lineHeight=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textWidth",{get:function(){return this._textWidth},set:function(e){var t=this;e!=t._textWidth&&(t._textWidth=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineType",{get:function(){return this._lineType},set:function(e){var t=this;e!=t._lineType&&(t._lineType=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this._text},set:function(e){var t=this;(e+="")!=t._text&&(t._text=e,""==t._text?(t.a2x_ut=!1,t._texture=null,t._bitmapData.width=0,t._bitmapData.height=0,t.clearBounds()):t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"font",{get:function(){return this._font},set:function(e){var t=this;e!=t._font&&(t._font=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._size},set:function(e){var t=this;e!=t._size&&(t._size=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){return this._color},set:function(e){var t=this;e!=t._color&&(t._color=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"italic",{get:function(){return this._italic},set:function(e){var t=this;e!=t._italic&&(t._italic=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bold",{get:function(){return this._bold},set:function(e){var t=this;e!=t._bold&&(t._bold=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"border",{get:function(){return this._border},set:function(e){var t=this;e!=t._border&&(t._border=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var t=this;e!=t._stroke&&(t._stroke=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(e){var t=this;e!=t._strokeColor&&(t._strokeColor=e,t.a2x_ut=!0)},enumerable:!0,configurable:!0}),n.prototype._prepContext=function(t){var n=this,i=n.size||12;i+="px ",i+=n.font,n._bold&&(i="bold "+i),n._italic&&(i="italic "+i),t.font=i,t.textAlign=n._textAlign||"left",t.textBaseline="top",t.lineJoin="miter",t.miterLimit=2.5,t.fillStyle=e.Shape.getRGBA(n._color,n._textAlpha),t.strokeStyle=n.strokeColor,t.lineWidth=Math.abs(n._stroke)},Object.defineProperty(n.prototype,"lines",{get:function(){return this.realLines.length},enumerable:!0,configurable:!0}),n.prototype._getMeasuredWidth=function(e){return this._bitmapData.getContext("2d").measureText(e).width},n.prototype._onUpdateTexture=function(){var e=this;if(e.a2x_ut){var n=e._bitmapData,i=n.getContext("2d");e.a2x_ut=!1;var a=e._text.toString().split(/(?:\r\n|\r|\n)/),o=[];e.realLines=o,e._prepContext(i);var r=0,s=e._lineHeight;if(e._text.indexOf("\n")<0&&"single"==e.lineType){o[o.length]=a[0];var l=a[0];if(e._getMeasuredWidth(l)>e._textWidth)for(var u=e._getMeasuredWidth(l[0]),c=l[0],d=l.length,h=1;h<d;h++){if(r=i.measureText(l[h]).width,(u+=r)>e._textWidth){o[0]=c;break}c+=l[h]}}else for(var _=0,p=a.length;_<p;_++){var l=a[_];if(l){for(var u=e._getMeasuredWidth(l[0]),c=l[0],d=l.length,h=1;h<d;h++)r=i.measureText(l[h]).width,u+=r,u>e._textWidth?(o[o.length]=c,c=l[h],u=r):c+=l[h];o[o.length]=c}}var f=s*o.length+4>>0,v=e._textWidth>>0,m=0;"center"==e._textAlign?m=.5*v:"right"==e._textAlign&&(m=v),n.width=v,n.height=f,i.clearRect(0,0,n.width,n.width),e.border&&(i.beginPath(),i.strokeStyle="#000",i.lineWidth=1,i.strokeRect(0,0,v,f),i.closePath()),i.setTransform(1,0,0,1,m+2,2),e._prepContext(i);for(var _=0;_<o.length;_++)e._stroke>0&&i.strokeText(o[_],0,_*s,v),i.fillText(o[_],0,_*s,v),e._stroke<0&&i.strokeText(o[_],0,_*s,v);e._filters.length>0&&(e.a2x_uf=!0)}t.prototype._onUpdateTexture.call(this)},n}(e.Bitmap);e.TextField=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(i){void 0===i&&(i=0),t.call(this),this.inputType=0,this.isAutoDownKeyBoard=!0,this._size=14,this._font="Arial";var a=null,o=this;o._instanceType="annie.InputText",i<2?(a=document.createElement("input"),a.type=n._inputTypeList[i]):(a=document.createElement("textarea"),a.style.resize="none",a.style.overflow="hidden"),o.inputType=i;var r=function(){o.stage._isMouseClickCanvas&&o.isAutoDownKeyBoard&&"pc"!=e.osType&&o.htmlElement&&o.htmlElement.blur()}.bind(o);o.addEventListener(e.Event.REMOVE_TO_STAGE,function(t){o.stage.removeEventListener(e.MouseEvent.MOUSE_DOWN,r)}),o.addEventListener(e.Event.ADD_TO_STAGE,function(t){o.stage.addEventListener(e.MouseEvent.MOUSE_DOWN,r)}),o.init(a)}return __extends(n,t),n.prototype.init=function(e){t.prototype.init.call(this,e);var n=this;n.htmlElement.style.outline="none",n.htmlElement.style.borderWidth="thin",n.htmlElement.style.borderColor="#000",n.htmlElement.style.padding=0,n.htmlElement.style.margin=0,n.htmlElement.onblur=function(){window.scrollTo(0,0)}},n.prototype.initInfo=function(e,t,n,i,a,o,r){var s=this;s.htmlElement.placeholder=e,s.htmlElement.style.font=i+"px "+a,s._size=i,s._font=a,s.htmlElement.style.color=t,s.htmlElement.style.textAlign=n,s.border=o,2!=s.inputType&&(s.lineHeight=r)},Object.defineProperty(n.prototype,"lineHeight",{get:function(){return parseInt(this.htmlElement.style.lineHeight)},set:function(e){this.htmlElement.style.lineHeight=e+"px",this.htmlElement.style.height=e+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bold",{get:function(){return"bold"==this.htmlElement.style.fontWeight},set:function(e){var t=this.htmlElement.style;t.fontWeight=e?"bold":"normal"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._size},set:function(e){var t=this;t._size!=e&&(t._size=e,t.htmlElement.style.font=e+"px "+t._font)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"font",{get:function(){return this._font},set:function(e){var t=this;e!=t._font&&(t._font=e,t.htmlElement.style.font=t._size+"px "+t._font)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"italic",{get:function(){return"italic"==this.htmlElement.style.fontStyle},set:function(e){var t=this.htmlElement.style;t.fontStyle=e?"italic":"normal"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textHeight",{get:function(){return parseInt(this.htmlElement.style.height)},set:function(e){this.htmlElement.style.height=e+"px",2!=this.inputType&&(this.htmlElement.style.lineHeight=e+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textWidth",{get:function(){return parseInt(this.htmlElement.style.width)},set:function(e){this.htmlElement.style.width=e+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){return this.htmlElement.style.color},set:function(e){this.htmlElement.style.color=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"border",{get:function(){return"none"!=this.htmlElement.style.borderStyle},set:function(e){var t=this;e?(t.htmlElement.style.borderStyle="inset",t.htmlElement.style.backgroundColor="#fff"):(t.htmlElement.style.borderStyle="none",t.htmlElement.style.backgroundColor="transparent")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){var e=this;if(e.htmlElement)return e.htmlElement.value},set:function(e){var t=this;t.htmlElement&&(t.htmlElement.value=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxCharacters",{get:function(){var e=this.htmlElement.getAttribute("maxlength");return null==e?0:e},set:function(e){this.htmlElement.setAttribute("maxlength",e)},enumerable:!0,configurable:!0}),n._inputTypeList=["input","password","textarea"],n}(e.FloatDisplay);e.InputText=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(i,a,o,r,s,l){if(void 0===i&&(i="annieEngine"),void 0===a&&(a=640),void 0===o&&(o=1040),void 0===r&&(r=30),void 0===s&&(s="fixedHeight"),void 0===l&&(l=0),t.call(this),this.iosTouchendPreventDefault=!0,this.isPreventDefaultEvent=!0,this.rootDiv=null,this.renderObj=null,this.renderType=0,this._viewRect=new e.Rectangle,this.isMultiTouch=!1,this.isMultiMouse=!1,this.autoSteering=!1,this.autoResize=!1,this.desWidth=0,this.viewPort=new e.Rectangle,this.desHeight=0,this.divHeight=0,this.divWidth=0,this.bgColor="",this._isFullScreen=!0,this._scaleMode="onScale",this._lastDpList={},this._ml=[],this._mp=[],this._mouseDownPoint={},this._mouseEventTypes={mousedown:"onMouseDown",mouseup:"onMouseUp",mousemove:"onMouseMove",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp",touchcancel:"onMouseUp"},this.sp=new e.Point,this.lp=new e.Point,this.muliPoints=[],this._mP1=new e.Point,this._mP2=new e.Point,this.mouseEvent=null,this._isMouseClickCanvas=!0,this.resize=function(){var t=this,n=t.getRootDivWH(t.rootDiv);if(0==t.divWidth||0==t.divHeight){if(0==n.w||0==n.h)return;t.a2x_um=!0,t.divHeight=n.h,t.divWidth=n.w,t.viewPort.width=n.w*e.devicePixelRatio,t.viewPort.height=n.h*e.devicePixelRatio,"ios"==e.osType?(t.divHeight=3333,t.divWidth=3333,t.renderObj.reSize(9999,9999)):t.renderObj.reSize(t.viewPort.width,t.viewPort.height),t.setAlign(),t.dispatchEvent("onInitStage")}else t.autoResize&&(t.divWidth==n.w&&t.divHeight==n.h||(t.a2x_um=!0,t.divHeight=n.h,t.divWidth=n.w,t.viewPort.width=n.w*e.devicePixelRatio,t.viewPort.height=n.h*e.devicePixelRatio,t.renderObj.reSize(t.viewPort.width,t.viewPort.height),t.setAlign(),t.dispatchEvent("onResize")))},e.debug&&!n._isLoadedVConsole){n._isLoadedVConsole=!0;var u=document.createElement("script");u.onload=function(){new VConsole,u.onload=null},document.head.appendChild(u),u.src="libs/vconsole.min.js"}var c=this;c.a2x_ua=!0,c.a2x_um=!0,c._instanceType="annie.Stage",c.stage=c,c._isOnStage=!0,c.name=i;var d=document.getElementById(i);c.renderType=l,c.desWidth=a,c.desHeight=o,c.rootDiv=d,c.setFrameRate(r),c._scaleMode=s,c.anchorX=a>>1,c.anchorY=o>>1,0==l&&(c.renderObj=new e.CanvasRender),c.renderObj.init(document.createElement("canvas")),d.appendChild(c.renderObj.canvas),c.mouseEvent=c._onMouseEvent.bind(c),d.addEventListener("touchstart",c.mouseEvent,!1),d.addEventListener("touchmove",c.mouseEvent,!1),d.addEventListener("touchend",c.mouseEvent,!1),d.addEventListener("touchcancel",c.mouseEvent,!1),d.addEventListener("mousedown",c.mouseEvent,!1),d.addEventListener("mousemove",c.mouseEvent,!1),d.addEventListener("mouseup",c.mouseEvent,!1),n.addUpdateObj(c),setTimeout(function(){n.flushAll()},100)}return __extends(n,t),Object.defineProperty(n,"pause",{get:function(){return n._pause},set:function(t){var i=n;t!=i._pause&&(i._pause=t,t?e.Sound.stopAllSounds():e.Sound.resumePlaySounds(),e.globalDispatcher.dispatchEvent("onRunChanged",{pause:t}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){var t=this;e!=t._scaleMode&&(t._scaleMode=e,t.setAlign())},enumerable:!0,configurable:!0}),n.prototype._initMouseEvent=function(e,t,n,i,a){e._pd=!1,e.clientX=t.x,e.clientY=t.y,e.stageX=n.x,e.stageY=n.y,e.timeStamp=a,e.identifier=i},n.prototype.flush=function(){var e=this;e.resize(),e._onUpdateFrame(1),e._onUpdateMatrixAndAlpha(),e._onUpdateTexture(),e.renderObj.begin(this.bgColor),e.renderObj.render(e),e.renderObj.end()},n.prototype.setFrameRate=function(e){e<=0&&(e=30),n._FPS=e,n._flushTime=1e3/e},n.prototype.getFrameRate=function(){return n._FPS},n.prototype.getRootDivWH=function(e){var t=640,n=960;return""!=e.style.width?(t=parseInt(e.style.width),n=parseInt(e.style.height),this._isFullScreen=!1):(this._isFullScreen=!0,t=document.documentElement.clientWidth,n=document.documentElement.clientHeight),{w:t,h:n}},n.prototype._onMouseEvent=function(t){var i=this,a=i.renderObj.canvas,o=0,r=0;"_a2x_canvas"==t.target.id?(i._isMouseClickCanvas=!0,i.isPreventDefaultEvent&&("touchend"==t.type&&"ios"==e.osType&&i.iosTouchendPreventDefault&&t.preventDefault(),("touchmove"==t.type||"touchstart"==t.type&&"android"==e.osType)&&t.preventDefault())):i._isMouseClickCanvas=!1,i._isFullScreen||(o=a.getBoundingClientRect().left+a.scrollLeft,r=a.getBoundingClientRect().top+a.scrollTop);var s=n._dragDisplay;if(i.isMultiTouch&&t.targetTouches&&t.targetTouches.length>1){if(2==t.targetTouches.length){i._mP1.x=t.targetTouches[0].clientX-o,i._mP1.y=t.targetTouches[0].clientY-r,i._mP2.x=t.targetTouches[1].clientX-o,i._mP2.y=t.targetTouches[1].clientY-r;var l=Math.atan2(i._mP1.y-i._mP2.y,i._mP1.x-i._mP2.x)/Math.PI*180,u=e.Point.distance(i._mP1,i._mP2);if(i.muliPoints.push({p1:i._mP1,p2:i._mP2,angle:l,dis:u}),i.muliPoints.length>=2){i._touchEvent instanceof e.TouchEvent||(i._touchEvent=new e.TouchEvent(e.TouchEvent.ON_MULTI_TOUCH),i._touchEvent.target=i);var c=i.muliPoints.length;i._touchEvent.rotate=2*(i.muliPoints[c-1].angle-i.muliPoints[c-2].angle),i._touchEvent.scale=(i.muliPoints[c-1].dis-i.muliPoints[c-2].dis)/(i.divHeight>i.divWidth?i.desWidth:i.desHeight)*4,i._touchEvent.clientPoint1.x=i.muliPoints[c-1].p1.x*e.devicePixelRatio,i._touchEvent.clientPoint2.x=i.muliPoints[c-1].p2.x*e.devicePixelRatio,i._touchEvent.clientPoint1.y=i.muliPoints[c-1].p1.y*e.devicePixelRatio,i._touchEvent.clientPoint2.y=i.muliPoints[c-1].p2.y*e.devicePixelRatio,i.dispatchEvent(i._touchEvent),i.muliPoints.shift()}}else i.muliPoints.length=0;i._mouseDownPoint={},i._lastDpList={},s&&(n._lastDragPoint.x=Number.MAX_VALUE,n._lastDragPoint.y=Number.MAX_VALUE)}else if(i.muliPoints.length>0&&(i._touchEvent.rotate=0,i._touchEvent.scale=0,i._touchEvent.clientPoint1.x=0,i._touchEvent.clientPoint2.x=0,i._touchEvent.clientPoint1.y=0,i._touchEvent.clientPoint2.y=0,i.dispatchEvent(i._touchEvent),i.muliPoints.length=0),e.EventDispatcher._totalMEC>0){var d,h=void 0,_=i._mouseEventTypes[t.type],p=[],f=void 0,v=void 0,m=void 0;if(t.changedTouches)if(i.isMultiMouse)h=t.changedTouches;else{var g=t.changedTouches[0]
;(void 0!=i._lastDpList[g.identifier]||"onMouseDown"==_&&!i._lastDpList.isStart)&&(i._lastDpList.isStart=!0),h=[g]}else t.identifier="pc0",h=[t];for(var y=h.length,b=0;b<y;b++){if(v=0,p.length=0,m=h[b].identifier,f=i._mp.length>0?i._mp.shift():new e.Point,f.x=(h[b].clientX-o)*e.devicePixelRatio,f.y=(h[b].clientY-r)*e.devicePixelRatio,i.globalToLocal(f,i.sp),s&&s.stage&&s.parent){var x=s.x,w=s.y;s.parent.globalToLocal(f,i.lp),n._isDragCenter?(x=i.lp.x,w=i.lp.y):(n._lastDragPoint.x!=Number.MAX_VALUE&&(x+=i.lp.x-n._lastDragPoint.x,w+=i.lp.y-n._lastDragPoint.y),n._lastDragPoint.x=i.lp.x,n._lastDragPoint.y=i.lp.y),i.lp.x=x,i.lp.y=w,n._dragBounds.width!=Number.MIN_VALUE&&(x<n._dragBounds.x?x=n._dragBounds.x:x>n._dragBounds.x+n._dragBounds.width&&(x=n._dragBounds.x+n._dragBounds.width),w<n._dragBounds.y?w=n._dragBounds.y:w>n._dragBounds.y+n._dragBounds.height&&(w=n._dragBounds.y+n._dragBounds.height)),s.x=x,s.y=w}if(i._ml[v]instanceof e.MouseEvent?(d=i._ml[v],d.type=_):(d=new e.MouseEvent(_),i._ml[v]=d),p[p.length]=d,i._initMouseEvent(d,f,i.sp,m,t.timeStamp),v++,"onMouseDown"==_?i._mouseDownPoint[m]=f:"onMouseUp"==_&&i._mouseDownPoint[m]instanceof e.Point&&e.Point.distance(i._mouseDownPoint[m],f)<20&&e.EventDispatcher.getMouseEventCount("onMouseClick")>0&&(i._ml[v]instanceof e.MouseEvent?(d=i._ml[v],d.type="onMouseClick"):(d=new e.MouseEvent("onMouseClick"),i._ml[v]=d),p[p.length]=d,i._initMouseEvent(d,f,i.sp,m),v++),v>0){var E=i.hitTestPoint(f,!0),T=[];if(E instanceof e.DisplayObject)do{E instanceof e.Sprite&&0==E.mouseChildren&&(T.length=0),T[T.length]=E,E=E.parent}while(E instanceof e.DisplayObject);else T[0]=i;for(var c=T.length,M=c-1;M>=0;M--){E=T[M];for(var O=0;O<v;O++)!p[O]._pd&&E.hasEventListener(p[O].type)&&(p[O].currentTarget=E,p[O].target=T[0],E.globalToLocal(f,i.lp),p[O].localX=i.lp.x,p[O].localY=i.lp.y,E.dispatchEvent(p[O]))}T.reverse();for(var M=c-1;M>=0;M--){E=T[M];for(var O=0;O<v;O++)!p[O]._pd&&E.hasEventListener(p[O].type,!1)&&(p[O].currentTarget=E,p[O].target=T[v-1],E.globalToLocal(f,i.lp),p[O].localX=i.lp.x,p[O].localY=i.lp.y,E.dispatchEvent(p[O],null,!1))}if("onMouseMove"==_){if((e.EventDispatcher.getMouseEventCount("onMouseOver")>0||e.EventDispatcher.getMouseEventCount("onMouseOut")>0)&&i._lastDpList[m]instanceof Array){var P=i._lastDpList[m].length,S=T.length;c=P>S?P:S;for(var L=!1,A=void 0,C=void 0,M=1;M<c;M++)L||i._lastDpList[m][M]!=T[M]&&(L=!0,i._ml[v]instanceof e.MouseEvent?(A=i._ml[v],A.type="onMouseOver"):(A=new e.MouseEvent("onMouseOver"),i._ml[v]=A),i._initMouseEvent(A,f,i.sp,m),v++,i._ml[v]instanceof e.MouseEvent?(C=i._ml[v],C.type="onMouseOut"):(C=new e.MouseEvent("onMouseOut"),i._ml[v]=C),i._initMouseEvent(C,f,i.sp,m)),L&&(i._lastDpList[m][M]&&(E=i._lastDpList[m][M],!C._pd&&E.hasEventListener("onMouseOut")&&(C.currentTarget=E,C.target=i._lastDpList[m][P-1],E.globalToLocal(f,i.lp),C.localX=i.lp.x,C.localY=i.lp.y,E.dispatchEvent(C))),(E=T[M])instanceof e.DisplayObject&&!A._pd&&E.hasEventListener("onMouseOver")&&(A.currentTarget=E,A.target=T[S-1],E.globalToLocal(f,i.lp),A.localX=i.lp.x,A.localY=i.lp.y,E.dispatchEvent(A)))}i._mp[i._mp.length]=f}"onMouseUp"==_?(delete i._mouseDownPoint[m],delete i._lastDpList[m],i._lastDpList.isStart=!1,s&&(n._lastDragPoint.x=Number.MAX_VALUE,n._lastDragPoint.y=Number.MAX_VALUE)):i._lastDpList[m]=T}}}},n.prototype.setAlign=function(){var t=this,n=t.divHeight*e.devicePixelRatio,i=t.divWidth*e.devicePixelRatio,a=t.desHeight,o=t.desWidth;t.anchorX=o>>1,t.anchorY=a>>1;var r=n>=i,s=a>=o,l=1,u=1;if(t.x=i-o>>1,t.y=n-a>>1,t.autoSteering&&s!=r){var c=n;n=i,i=c}if("noScale"!=t._scaleMode)switch(l=n/a,u=i/o,t._scaleMode){case"noBorder":u>l?l=u:u=l;break;case"showAll":u<l?l=u:u=l;break;case"fixedWidth":l=u;break;case"fixedHeight":u=l}t.scaleX=u,t.scaleY=l,t.autoSteering?t.rotation=s==r?0:a>o?-90:90:t.rotation=0,t._viewRect.x=o-i/u>>1,t._viewRect.y=a-n/l>>1,t._viewRect.width=o-2*t._viewRect.x,t._viewRect.height=a-2*t._viewRect.y},Object.defineProperty(n.prototype,"viewRect",{get:function(){return this._viewRect},enumerable:!0,configurable:!0}),n.flushAll=function(){var e=(new Date).getTime();if(n._flushTime-e+n._lastFluashTime<.1*n._flushTime&&(n._lastFluashTime=e,!n._pause))for(var t=n.allUpdateObjList.length,i=t-1;i>=0;i--)n.allUpdateObjList[i]&&n.allUpdateObjList[i].flush();requestAnimationFrame(n.flushAll)},n.addUpdateObj=function(e){for(var t=!1,i=n.allUpdateObjList.length,a=0;a<i;a++)if(n.allUpdateObjList[a]==e){t=!0;break}t||n.allUpdateObjList.unshift(e)},n.removeUpdateObj=function(e){for(var t=n.allUpdateObjList.length,i=0;i<t;i++)if(n.allUpdateObjList[i]==e){n.allUpdateObjList.splice(i,1);break}},n.prototype.destroy=function(){t.prototype.destroy.call(this);var e=this;n.removeUpdateObj(e);var i=e.rootDiv;i.removeEventListener("touchstart",e.mouseEvent,!1),i.removeEventListener("touchmove",e.mouseEvent,!1),i.removeEventListener("touchend",e.mouseEvent,!1),i.removeEventListener("touchcancel",e.mouseEvent,!1),i.removeEventListener("mousedown",e.mouseEvent,!1),i.removeEventListener("mousemove",e.mouseEvent,!1),i.removeEventListener("mouseup",e.mouseEvent,!1),i.style.display="none",i.parentNode&&i.parentNode.removeChild(i),e.renderObj=null},n._pause=!1,n._isLoadedVConsole=!1,n._dragDisplay=null,n._dragBounds=new e.Rectangle,n._lastDragPoint=new e.Point,n._isDragCenter=!1,n.allUpdateObjList=[],n._FPS=30,n._flushTime=0,n._lastFluashTime=0,n}(e.Sprite);e.Stage=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t,n,i,a){void 0===t&&(t="black"),void 0===n&&(n=2),void 0===i&&(i=2),void 0===a&&(a=2),e.call(this),this.color="black",this.offsetX=2,this.offsetY=2,this.blur=2,this.type="Shadow";var o=this;o._instanceType="annie.ShadowFilter",o.offsetX=n,o.offsetY=i,o.blur=a,o.color=t}return __extends(t,e),t.prototype.toString=function(){var e=this;return e.type+e.offsetX+e.offsetY+e.blur+e.color},t.prototype.drawFilter=function(e){void 0===e&&(e=null)},t.prototype.destroy=function(){},t}(e.AObject);e.ShadowFilter=t;var n=function(e){function t(t){e.call(this),this.redMultiplier=0,this.redOffset=0,this.greenMultiplier=0,this.greenOffset=0,this.blueMultiplier=0,this.blueOffset=0,this.alphaMultiplier=0,this.alphaOffset=0,this.type="Color";var n=this;n._instanceType="annie.ColorFilter",n.redMultiplier=t[0],n.greenMultiplier=t[1],n.blueMultiplier=t[2],n.alphaMultiplier=t[3],n.redOffset=t[4],n.greenOffset=t[5],n.blueOffset=t[6],n.alphaOffset=t[7]}return __extends(t,e),t.prototype.drawFilter=function(e){if(void 0===e&&(e=null),e)for(var t=this,n=e.data,i=n.length,a=0;a<i;a+=4)n[a]=n[a]*t.redMultiplier+t.redOffset,n[a+1]=n[a+1]*t.greenMultiplier+t.greenOffset,n[a+2]=n[a+2]*t.blueMultiplier+t.blueOffset,n[a+3]=n[a+3]*t.alphaMultiplier+t.alphaOffset},t.prototype.toString=function(){var e=this;return e.type+e.redMultiplier+e.greenMultiplier+e.blueMultiplier+e.alphaMultiplier+e.redOffset+e.greenOffset+e.blueOffset+e.alphaOffset},t.prototype.destroy=function(){},t}(e.AObject);e.ColorFilter=n;var i=function(e){function t(n,i,a,o){e.call(this),this.brightness=0,this.contrast=0,this.saturation=0,this.hue=0,this.type="ColorMatrix";var r=this;r._instanceType="annie.ColorMatrixFilter",r.brightness=n,r.contrast=i,r.saturation=a,r.hue=o,r.colorMatrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],n=r._cleanValue(n,255),0!=n&&r._multiplyMatrix([1,0,0,0,n,0,1,0,0,n,0,0,1,0,n,0,0,0,1,0,0,0,0,0,1]),i=this._cleanValue(i,100);var s;if(0!=i&&(i<0?s=127+i/100*127:(s=i%1,s=0==s?t.DELTA_INDEX[i]:t.DELTA_INDEX[i<<0]*(1-s)+t.DELTA_INDEX[1+(i<<0)]*s,s=127*s+127),r._multiplyMatrix([s/127,0,0,0,.5*(127-s),0,s/127,0,0,.5*(127-s),0,0,s/127,0,.5*(127-s),0,0,0,1,0,0,0,0,0,1])),0!=(a=this._cleanValue(a,100))){s=1+(a>0?3*a/100:a/100);var l=.3086,u=.6094,c=.082;r._multiplyMatrix([l*(1-s)+s,u*(1-s),c*(1-s),0,0,l*(1-s),u*(1-s)+s,c*(1-s),0,0,l*(1-s),u*(1-s),c*(1-s)+s,0,0,0,0,0,1,0,0,0,0,0,1])}if(0!=(o=this._cleanValue(o,180)/180*Math.PI)){var d=Math.cos(o),h=Math.sin(o),l=.213,u=.715,c=.072;r._multiplyMatrix([l+d*(1-l)+h*-l,u+d*-u+h*-u,c+d*-c+h*(1-c),0,0,l+d*-l+.143*h,u+d*(1-u)+.14*h,c+d*-c+-.283*h,0,0,l+d*-l+h*-(1-l),u+d*-u+h*u,c+d*(1-c)+h*c,0,0,0,0,0,1,0,0,0,0,0,1])}}return __extends(t,e),t.prototype.drawFilter=function(e){if(void 0===e&&(e=null),e)for(var t,n,i,a,o=e.data,r=o.length,s=this.colorMatrix,l=s[0],u=s[1],c=s[2],d=s[3],h=s[4],_=s[5],p=s[6],f=s[7],v=s[8],m=s[9],g=s[10],y=s[11],b=s[12],x=s[13],w=s[14],E=s[15],T=s[16],M=s[17],O=s[18],P=s[19],S=0;S<r;S+=4)t=o[S],n=o[S+1],i=o[S+2],a=o[S+3],o[S]=t*l+n*u+i*c+a*d+h,o[S+1]=t*_+n*p+i*f+a*v+m,o[S+2]=t*g+n*y+i*b+a*x+w,o[S+3]=t*E+n*T+i*M+a*O+P},t.prototype._multiplyMatrix=function(e){var t,n,i,a=[];for(t=0;t<5;t++){for(n=0;n<5;n++)a[n]=this.colorMatrix[n+5*t];for(n=0;n<5;n++){var o=0;for(i=0;i<5;i++)o+=e[n+5*i]*a[i];this.colorMatrix[n+5*t]=o}}},t.prototype._cleanValue=function(e,t){return Math.min(t,Math.max(-t,e))},t.prototype.toString=function(){var e=this;return e.type+e.brightness+e.hue+e.saturation+e.contrast},t.prototype.destroy=function(){this.colorMatrix=null},t.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],t}(e.AObject);e.ColorMatrixFilter=i;var a=function(e){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=2),void 0===i&&(i=1),e.call(this),this.type="blur",this.blurX=0,this.blurY=0,this.quality=1;var a=this;a._instanceType="annie.BlurFilter",a.blurX=t,a.blurY=n,a.quality=i}return __extends(t,e),t.prototype.toString=function(){var e=this;return e.type+e.blurX+e.blurY+e.quality},t.prototype.drawFilter=function(e){void 0===e&&(e=null);var n=this,i=n.blurX>>1;if(isNaN(i)||i<0)return!1;var a=n.blurY>>1;if(isNaN(a)||a<0)return!1;if(0==i&&0==a)return!1;var o=n.quality;(isNaN(o)||o<1)&&(o=1),o|=0,o>3&&(o=3),o<1&&(o=1);var r=e.data,s=0,l=0,u=0,c=0,d=0,h=0,_=0,p=0,f=0,v=0,m=0,g=0,y=0,b=0,x=0,w=i+i+1|0,E=a+a+1|0,T=0|e.width,M=0|e.height,O=T-1|0,P=M-1|0,S=i+1|0,L=a+1|0,A={r:0,b:0,g:0,a:0},C=A;for(u=1;u<w;u++)C=C.n={r:0,b:0,g:0,a:0};C.n=A;var R={r:0,b:0,g:0,a:0},F=R;for(u=1;u<E;u++)F=F.n={r:0,b:0,g:0,a:0};F.n=R;for(var D=null,k=0|t.MUL_TABLE[i],j=0|t.SHG_TABLE[i],I=0|t.MUL_TABLE[a],B=0|t.SHG_TABLE[a];o-- >0;){_=h=0;var U=k,N=j;for(l=M;--l>-1;){for(p=S*(g=r[0|h]),f=S*(y=r[h+1|0]),v=S*(b=r[h+2|0]),m=S*(x=r[h+3|0]),C=A,u=S;--u>-1;)C.r=g,C.g=y,C.b=b,C.a=x,C=C.n;for(u=1;u<S;u++)c=h+((O<u?O:u)<<2)|0,p+=C.r=r[c],f+=C.g=r[c+1],v+=C.b=r[c+2],m+=C.a=r[c+3],C=C.n;for(D=A,s=0;s<T;s++)r[h++]=p*U>>>N,r[h++]=f*U>>>N,r[h++]=v*U>>>N,r[h++]=m*U>>>N,c=_+((c=s+i+1)<O?c:O)<<2,p-=D.r-(D.r=r[c]),f-=D.g-(D.g=r[c+1]),v-=D.b-(D.b=r[c+2]),m-=D.a-(D.a=r[c+3]),D=D.n;_+=T}for(U=I,N=B,s=0;s<T;s++){for(h=s<<2|0,p=L*(g=r[h])|0,f=L*(y=r[h+1|0])|0,v=L*(b=r[h+2|0])|0,m=L*(x=r[h+3|0])|0,F=R,u=0;u<L;u++)F.r=g,F.g=y,F.b=b,F.a=x,F=F.n;for(d=T,u=1;u<=a;u++)h=d+s<<2,p+=F.r=r[h],f+=F.g=r[h+1],v+=F.b=r[h+2],m+=F.a=r[h+3],F=F.n,u<P&&(d+=T);if(h=s,D=R,o>0)for(l=0;l<M;l++)c=h<<2,r[c+3]=x=m*U>>>N,x>0?(r[c]=p*U>>>N,r[c+1]=f*U>>>N,r[c+2]=v*U>>>N):r[c]=r[c+1]=r[c+2]=0,c=s+((c=l+L)<P?c:P)*T<<2,p-=D.r-(D.r=r[c]),f-=D.g-(D.g=r[c+1]),v-=D.b-(D.b=r[c+2]),m-=D.a-(D.a=r[c+3]),D=D.n,h+=T;else for(l=0;l<M;l++)c=h<<2,r[c+3]=x=m*U>>>N,x>0?(x=255/x,r[c]=(p*U>>>N)*x,r[c+1]=(f*U>>>N)*x,r[c+2]=(v*U>>>N)*x):r[c]=r[c+1]=r[c+2]=0,c=s+((c=l+L)<P?c:P)*T<<2,p-=D.r-(D.r=r[c]),f-=D.g-(D.g=r[c+1]),v-=D.b-(D.b=r[c+2]),m-=D.a-(D.a=r[c+3]),D=D.n,h+=T}}},t.prototype.destroy=function(){},t.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],t.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],t}(e.AObject);e.BlurFilter=a}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){t.call(this),this.canvas=null,this._blendMode=0,this._instanceType="annie.CanvasRender"}return __extends(n,t),n.prototype.begin=function(e){var t=this,n=t.canvas,i=t._ctx;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,n.width,n.height),""!=e&&(i.fillStyle=e,i.fillRect(0,0,n.width,n.height))},n.prototype.beginMask=function(e){var t=this,n=t._ctx;n.save(),n.globalAlpha=0,n.beginPath(),t.drawMask(e),n.closePath(),n.clip()},n.prototype.drawMask=function(e){var t=this,n=e._cMatrix,i=t._ctx;if(i.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),"annie.Shape"==e._instanceType)e._draw(i,!0);else if("annie.Sprite"==e._instanceType||"annie.MovieClip"==e._instanceType)for(var a=0;a<e.children.length;a++)t.drawMask(e.children[a]);else{var o=e._bounds;i.rect(0,0,o.width,o.height)}},n.prototype.endMask=function(){this._ctx.restore()},n.prototype.render=function(e){if(e._visible&&e._cAlpha>0){var t=this,n=e.children;if(null!=e._texture){var i=e._filters,a=i.length,o=-1;if(a)for(var r=0;r<a;r++)if("Shadow"==e._filters[r].type){o=r;break}if(o>=0){var s=this._ctx;s.shadowBlur=i[o].blur,s.shadowColor=i[o].color,s.shadowOffsetX=i[o].offsetX,s.shadowOffsetY=i[o].offsetY,t.draw(e),s.shadowBlur=0,s.shadowOffsetX=0,s.shadowOffsetY=0}else t.draw(e)}else if(void 0!=n){for(var l=void 0,u=void 0,c=n.length,r=0;r<c;r++)u=n[r],u._isUseToMask>0||(null!=l?null!=u.mask&&u.mask.parent==u.parent?u.mask!=l&&(t.endMask(),l=u.mask,t.beginMask(l)):(t.endMask(),l=null):null!=u.mask&&u.mask.parent==u.parent&&(l=u.mask,t.beginMask(l)),t.render(u));null!=l&&t.endMask()}}},n.prototype.draw=function(t){var n=this,i=t._texture;if(0!=i.width&&0!=i.height){var a=n._ctx,o=t._cMatrix;a.globalAlpha=t._cAlpha,n._blendMode!=t.blendMode&&(a.globalCompositeOperation=e.BlendMode.getBlendMode(t.blendMode),n._blendMode=t.blendMode),a.setTransform(o.a,o.b,o.c,o.d,o.tx,o.ty),0==t._offsetX&&0==t._offsetY||a.translate(t._offsetX,t._offsetY);for(var r=t._splitBoundsList,s=null,l=t._bounds,u=0-l.x,c=0-l.y,d=0;d<r.length;d++)!0===r[d].isDraw&&(s=r[d].rect,a.drawImage(i,s.x+u,s.y+c,s.width,s.height,s.x+u,s.y+c,s.width,s.height))}},n.prototype.end=function(){},n.prototype.init=function(e){var t=this;t.canvas=e,t.canvas.id="_a2x_canvas",t._ctx=e.getContext("2d")},n.prototype.reSize=function(t,n){var i=this,a=i.canvas;a.width=t,a.height=n,a.style.width=Math.ceil(t/e.devicePixelRatio)+"px",a.style.height=Math.ceil(n/e.devicePixelRatio)+"px"},n.prototype.destroy=function(){var e=this;e.canvas=null,e._ctx=null},n}(e.AObject);e.CanvasRender=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){t.call(this),this.canvas=null,this._blendMode=0,this._instanceType="annie.OffCanvasRender"}return __extends(n,t),n.prototype.begin=function(e){var t=this,n=t.canvas,i=t._ctx;i.globalAlpha=1,i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,n.width,n.height),""!=e&&(i.fillStyle=e,i.fillRect(0,0,n.width,n.height)),t.isFirstObj=!0},n.prototype.beginMask=function(e){var t=this,n=t._ctx;n.save(),n.beginPath(),t.drawMask(e),n.closePath(),n.clip()},n.prototype.drawMask=function(e){var t=this,n=e.matrix,i=t._ctx;if(i.transform(n.a,n.b,n.c,n.d,n.tx,n.ty),"annie.Shape"==e._instanceType)e._draw(i,!0);else if("annie.Sprite"==e._instanceType||"annie.MovieClip"==e._instanceType)for(var a=0;a<e.children.length;a++)t.drawMask(e.children[a]);else{var o=e._bounds;i.rect(0,0,o.width,o.height)}},n.prototype.endMask=function(){this._ctx.restore()},n.prototype.render=function(t){var n=this;if(t._visible||n.isFirstObj){var i=t.children,a=t._texture,o=n._ctx,r=t._matrix;if(o.save(),n.isFirstObj?(o.translate(-t._offsetX,-t._offsetY),n.isFirstObj=!1):(o.globalAlpha*=t._alpha,o.transform(r.a,r.b,r.c,r.d,r.tx,r.ty),o.translate(t._offsetX,t._offsetY)),null==a||n.isFirstObj){if(void 0!=i){for(var s=void 0,l=void 0,u=i.length,c=0;c<u;c++)l=i[c],l._isUseToMask>0||(null!=s?null!=l.mask&&l.mask.parent==l.parent?l.mask!=s&&(n.endMask(),s=l.mask,n.beginMask(s)):(n.endMask(),s=null):null!=l.mask&&l.mask.parent==l.parent&&(s=l.mask,n.beginMask(s)),n.render(l));null!=s&&n.endMask()}}else{if(0==a.width||0==a.height)return;var d=t._filters,h=d.length,_=-1;if(h)for(var c=0;c<h;c++)if("Shadow"==t._filters[c].type){_=c;break}if(_>=0){var p=this._ctx;p.shadowBlur=d[_].blur,p.shadowColor=d[_].color,p.shadowOffsetX=d[_].offsetX,p.shadowOffsetY=d[_].offsetY}n._blendMode!=t.blendMode&&(o.globalCompositeOperation=e.BlendMode.getBlendMode(t.blendMode),n._blendMode=t.blendMode),o.drawImage(a,0,0)}o.restore();var f=t._filters,v=f.length;if(v>0){for(var m=o.getImageData(0,0,t._bounds.width,t._bounds.height),c=0;c<v;c++)f[c].drawFilter(m);o.putImageData(m,0,0)}}},n.prototype.end=function(){},n.prototype.init=function(e){var t=this;t.canvas=e,t._ctx=e.getContext("2d")},n.prototype.reSize=function(t,n){var i=this,a=i.canvas;a.width=t,a.height=n,a.style.width=Math.ceil(t/e.devicePixelRatio)+"px",a.style.height=Math.ceil(n/e.devicePixelRatio)+"px"},n.prototype.destroy=function(){var e=this;e.canvas=null,e._ctx=null},n}(e.AObject);e.OffCanvasRender=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){t.call(this),this._req=null,this.headers=[],this.responseType="",this.url="",this.method="get",this.data=null,this._fqs=function(e,t){var n=[];if(e instanceof Object)for(var i in e)n.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t&&(n=n.concat(t)),n.join("&")},this._fus=function(e,t){var n=this;if(void 0==t)return e;var i=[],a=e.indexOf("?");if(-1!=a){var o=e.slice(a+1);return i=i.concat(o.split("&")),e.slice(0,a)+"?"+n._fqs(t,i)}return e+"?"+n._fqs(t,i)},this._instanceType="annie.URLLoader"}return __extends(n,t),n.prototype.loadCancel=function(){var e=this;e._req&&e._req.abort()},n.prototype.load=function(t,n){void 0===n&&(n="form");var i=this;if(i.loadCancel(),""==i.responseType){var a=t.split("."),o=a[a.length-1],r=o.split("?")[0].toLocaleLowerCase();"."+r==e.suffixName?e._isReleased?i.responseType="swf":i.responseType="js":i.responseType="mp3"==r||"ogg"==r||"wav"==r?"sound":"jpg"==r||"jpeg"==r||"png"==r||"gif"==r?"image":"css"==r?"css":"mp4"==r?"video":"svg"==r?"svg":"xml"==r?"xml":"json"==r?"json":"txt"==r?"text":"js"==r?"js":"unKnow"}var s=0;if(i._req instanceof XMLHttpRequest||(i._req=new XMLHttpRequest,i._req.withCredentials=!1,i._req.onprogress=function(e){i.dispatchEvent("onProgress",{loadedBytes:e.loaded,totalBytes:e.total})},i._req.onerror=function(e){s++,s>2?i.dispatchEvent("onError",{id:2,msg:e.message}):(i._req.abort(),i.data instanceof Object?i._req.send(i.data):i._req.send())},i._req.onload=function(){var t=new e.Event("onComplete"),n=i._req.response;t.data={type:i.responseType,response:null};var a;switch(i.responseType){case"css":a=document.createElement("link"),a.rel="stylesheet",a.href=i.url;break;case"video":a=i.url;break;case"json":a=JSON.parse(n);break;case"js":a="JS_CODE",e.Eval(n);break;default:a=n}t.data.response=a,i.data=null,i.responseType="",i.dispatchEvent(t)}),i.data instanceof Object&&"get"==i.method.toLocaleLowerCase()?(i.url=i._fus(t,i.data),i.data=null):i.url=t,"swf"==i.responseType||"image"==i.responseType||"sound"==i.responseType?i._req.responseType="blob":i._req.responseType="",i._req.open(i.method,i.url,!0),i.headers.length>0){for(var l=0;l<i.headers.length;l+=2)i._req.setRequestHeader(i.headers[l],i.headers[l+1]);i.headers.length=0}if("form"==n)i._req.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset=UTF-8"),i._req.send(i._fqs(i.data,null));else{var u="application/json";"json"!=n&&(u="multipart/form-data"),i._req.setRequestHeader("Content-type",u+";charset=UTF-8"),i._req.send(i.data),i.data=null}},n.prototype.addHeader=function(e,t){this.headers.push(e,t)},n.prototype.destroy=function(){var e=this;e.loadCancel(),e.headers=null,e.data=null,t.prototype.destroy.call(this)},n}(e.EventDispatcher);e.URLLoader=t}(annie||(annie={}));var annie;!function(e){function t(){j.load(A+"resource/"+L[C]+"/"+L[C]+".res.json?t="+Y)}function n(e){var n=e.data.response;U.push(n),R+=n.length,C++,L[C]?t():(C=0,X=1/R,s())}function i(e){if(k){var t=window,n=e.data.totalBytes;t.swfBytes&&t.swfBytes[L[C]]&&(n=t.swfBytes[L[C]]),k(100*(N+e.data.loadedBytes/n*X)>>0)}}function a(e){var t;for(var n in e)if(t=e[n],1==t.t){if(!(t.f instanceof Object)){t.f=[];continue}if(t.tf>1){for(var i=t.f,a=i.length,o=null,s=null,l=[],u=0;u<a;u++){if((o=i[u].c)instanceof Object){for(var c in o){var d=o[c].at;if(void 0!=d&&-1!=d){if(0==d)l.push(c);else for(var h=0;h<l.length;h++)if(l[h]==d){l.splice(h,0,c);break}delete o[c].at}}if(s instanceof Object)for(var c in s)if(o[c]instanceof Object)if(-1!=o[c].at)for(var _ in s[c])void 0==o[c][_]&&"fi"!=_&&(o[c][_]=s[c][_]);else delete o[c];else o[c]=s[c]}s=o}t.ol=l}}0==--H&&r()}function o(t){var n=L[C],i=t.data.response;if(e._isReleased){var o,s=new FileReader,l=0,u=0,c=1;s.readAsText(i.slice(i.size-c,i.size)),s.onload=function(){if(0==l)l++,u=c,c+=parseInt(s.result),s.readAsText(i.slice(i.size-c,i.size-u));else if(1==l)l++,u=c,c+=parseInt(s.result),s.readAsText(i.slice(i.size-c,i.size-u));else if(2==l)l++,u=0,c=0,o=JSON.parse(s.result),u=c,c+=o[0].src,H=o.length-1,s.readAsText(i.slice(u,c));else if(3==l){l++,e.Eval(s.result);for(var t=1;t<o.length;t++)!function(t){if(u=c,c+=o[t].src,"image"==o[t].type){var r=new Image;r.onload=q,r.src=URL.createObjectURL(i.slice(u,c)),e.res[n][o[t].id]=r}else if("sound"==o[t].type){var s=new Audio;if("ios"==e.osType){var l=new FileReader;l.onload=function(){s.src=l.result,q(null)},l.readAsDataURL(i.slice(u,c,"audio/mp3"))}else s.onloadedmetadata=q,s.src=URL.createObjectURL(i.slice(u,c,"audio/mp3"));e.res[n][o[t].id]=s}else if("json"==o[t].type&&"_a2x_con"==o[t].id){var d=new FileReader;d.onload=function(){e.res[n]._a2x_con=JSON.parse(d.result),a(e.res[n]._a2x_con),d.onload=null},d.readAsText(i.slice(u,c))}}(t)}}}else if("js"!=t.data.type&&"css"!=t.data.type)if(e.res[n][U[C][0].id]=i,"_a2x_con"==U[C][0].id)H++,a(i);else if("image"==t.data.type){H++;var d=new Image;d.onload=q,d.src=URL.createObjectURL(i),e.res[n][U[C][0].id]=d}else if("sound"==t.data.type){var h=new Audio;if(H++,"ios"==e.osType){var _=new FileReader;_.onload=function(){h.src=_.result,q(null)},_.readAsDataURL(i)}else h.onloadedmetadata=q,h.src=URL.createObjectURL(i);e.res[n][U[C][0].id]=h}else r();else r()}function r(){if(e._isReleased||U[C].shift(),F++,N=F/R,!e._isReleased&&U[C].length>0)s();else{e.res[L[C]]._f2x_had_loaded_scene=!0;var t={};t.sceneName=L[C],C++,t.sceneId=C,t.sceneTotal=L.length,C==L.length?(S=!1,D(t)):(D(t),s())}}function s(){var t=A+U[C][0].src;e._isReleased?(I.responseType="swf",t+="?v="+e._isReleased):t+="?v="+Y,I.load(t)}function l(t){return!(void 0==e.res[t]||null==e.res[t]||!e.res[t]._f2x_had_loaded_scene)}function u(t){delete e.res[t];var n=window,i=n[t];for(var a in i)delete i[a];delete n[t],i=null}function c(t,n){return e.res[t][n]}function d(e,t){return new window[e][t]}function h(t,n){return new e.Bitmap(e.res[t][n])}function _(e,t,n){if(void 0===n&&(n=!1),e._a2x_res_obj!=t){void 0!=t.tr&&1!=t.tr.length||(t.tr=[0,0,1,1,0,0]);var i=e._a2x_res_obj;if(void 0==t.al&&(t.al=1),void 0==t.m&&(t.m=0),e.blendMode=t.m,n){var a=e.a2x_um;e._changeTransformInfo[0]||e._x==t.tr[0]||(e._x=t.tr[0],a=!0),e._changeTransformInfo[1]||e._y==t.tr[1]||(e._y=t.tr[1],a=!0),e._changeTransformInfo[2]||e._scaleX==t.tr[2]||(e._scaleX=t.tr[2],a=!0),e._changeTransformInfo[3]||e._scaleY==t.tr[3]||(e._scaleY=t.tr[3],a=!0),e._changeTransformInfo[4]||(e._skewX!=t.tr[4]&&(e._skewX=t.tr[4],e._rotation=0,a=!0),e._skewY!=t.tr[5]&&(e._skewY=t.tr[5],e._rotation=0,a=!0)),e.a2x_um=a,e._changeTransformInfo[5]||e._alpha==t.al||(e._alpha=t.al,e.a2x_ua=!0)}else i.tr!=t.tr&&(d=t.tr,e._x=d[0],e._y=d[1],e._scaleX=d[2],e._scaleY=d[3],e._skewX=d[4],e._skewY=d[5],e.a2x_um=!0),e._alpha!=t.al&&(e._alpha=t.al,e.a2x_ua=!0);if(void 0!=t.w&&(e.textWidth=t.w,e.textHeight=t.h),void 0!=t.t&&(-1==t.t&&e.initButton&&e.initButton(),e._a2x_mode=t.t),i.fi!=t.fi)if(void 0!=t.fi){for(var o,r=[],s=void 0,l=0;l<t.fi.length;l++)switch(t.fi[l][0]){case 0:o=.5*(t.fi[l][2]+t.fi[l][3]),s=T.getRGBA(t.fi[l][10],t.fi[l][11]);var u=t.fi[l][4]*Math.cos(t.fi[l][1]),c=t.fi[l][4]*Math.sin(t.fi[l][1]);r[r.length]=new O(s,u,c,o);break;case 1:r[r.length]=new M(t.fi[l][1],t.fi[l][2],t.fi[l][3]);break;case 2:o=.5*(t.fi[l][1]+t.fi[l][2]),s=T.getRGBA(t.fi[l][7],t.fi[l][6]),r[r.length]=new O(s,0,0,o);break;case 6:r[r.length]=new P(t.fi[l][1],t.fi[l][2],t.fi[l][3],t.fi[l][4]);break;case 7:r[r.length]=new E(t.fi[l][1])}r.length>0?e.filters=r:e.filters=null}else e.filters=null;e._a2x_res_obj=t;var d}}function p(t,n){var i,a=e.res[t]._a2x_con[n],o=decodeURIComponent(a[9]),r=decodeURIComponent(a[4]).replace(/\s(Regular|Medium)/,""),s=a[5],l=G[a[3]],u=W[a[2]],c=a[11],d=a[10],h=a[6],_=a[7],p=a[12],f=a[8];return 0==a[1]||1==a[1]?(i=new e.TextField,i.text=o,i.font=r,i.size=s,i.textAlign=l,i.lineType=u,i.italic=c,i.bold=d,i.color=h,i.textAlpha=_,i.border=p,i.lineHeight=f):(i=new e.InputText(a[2]),i.initInfo(o,h,l,s,r,p,f),i.italic=c,i.bold=d),i}function f(t,n){for(var i=e.res[t]._a2x_con[n][1],a=new e.Shape,o=0;o<i.length;o++)1==i[o][0]?(0==i[o][1]?a.beginFill(e.Shape.getRGBA(i[o][2][0],i[o][2][1])):1==i[o][1]?a.beginLinearGradientFill(i[o][2][0],i[o][2][1]):2==i[o][1]?a.beginRadialGradientFill(i[o][2][0],i[o][2][1]):a.beginBitmapFill(c(t,i[o][2][0]),i[o][2][1]),a.decodePath(i[o][3]),a.endFill()):(0==i[o][1]?a.beginStroke(e.Shape.getRGBA(i[o][2][0],i[o][2][1]),i[o][4],i[o][5],i[o][6],i[o][7]):1==i[o][1]?a.beginLinearGradientStroke(i[o][2][0],i[o][2][1],i[o][4],i[o][5],i[o][6],i[o][7]):2==i[o][1]?a.beginRadialGradientStroke(i[o][2][0],i[o][2][1],i[o][4],i[o][5],i[o][6],i[o][7]):a.beginBitmapStroke(c(t,i[o][2][0]),i[o][2][1],i[o][4],i[o][5],i[o][6],i[o][7]),a.decodePath(i[o][3]),a.endStroke());return a}function v(t,n){return new e.Sound(e.res[t][n])}function m(t){var n=new x;n.method=void 0==t.type?"get":t.type,n.data=void 0==t.data?null:t.data,n.responseType=void 0==t.responseType?"json":t.responseType,t.success&&n.addEventListener(e.Event.COMPLETE,t.success),(t.error||t.fail)&&(t.error?n.addEventListener(e.Event.ERROR,t.error):n.addEventListener(e.Event.ERROR,t.fail)),t.dataType?n.load(t.url,t.dataType):n.load(t.url)}function g(e,t,n,i){var a=window;1==t&&(a[n]=i);var o=document.createElement("script"),r=document.getElementsByTagName("head")[0];o.onload=function(e){0==t&&i(a[n]),e.path[0].src="",a[n]=null,delete a[n],r.removeChild(e.path[0])},r.appendChild(o);var s;s=e.indexOf("?")>0?"&":"?",o.src=e+s+"a_n_n_i_e="+Math.random()+"&callback="+n}function y(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?decodeURIComponent(n[2]):null}function b(t,n,i){var a=window,o=e.res[n],r=o._a2x_con,s=r[i];t._a2x_res_class=s;var l,u=!1;if(s.tf>1&&(u=!0,void 0==s.timeLine)){var c=s.f.length,d=[],m=c>0?s.f[0].i:s.tf,g=0;if(m>0)for(var y=0;y<m;y++)d[d.length]=-1;if(c>0)for(l=0;l<c;l++){g=l+1<c?s.f[l+1].i:s.tf,m=s.f[l].i;for(var y=0;y<g-m;y++)d[d.length]=l}s.timeLine=d,s.f instanceof Object||(s.f=[]),s.a instanceof Object||(s.a={}),s.s instanceof Object||(s.s={}),s.e instanceof Object||(s.e={});var x={};if(s.l instanceof Object)for(var w in s.l)for(var E=0;E<s.l[w].length;E++)x[s.l[w][E]]=parseInt(w)+1;else s.l=[];s.label=x}var T=s.c;if(T instanceof Object){var M=[],O=T.length,P=null,S=0,L=null,A=0;for(l=0;l<O;l++){switch(S=r[T[l]]instanceof Array?r[T[l]][0]:r[T[l]].t){case 1:case 4:s.n&&s.n[l]&&t[s.n[l]]?P=t[s.n[l]]:(4==S?P=p(n,T[l]):0==T[l].indexOf("_$")?(P=r[T[l]].tf>1?new e.MovieClip:new e.Sprite,b(P,n,T[l])):P=new a[n][T[l]],s.n&&s.n[l]&&(t[s.n[l]]=P,P.name=s.n[l]));break;case 2:P=h(n,T[l]);break;case 3:P=f(n,T[l]);break;case 5:P=v(n,T[l]),P.name=T[l],t.addSound(P)}if(u)M[M.length]=P,5==S&&(P.isPlaying=!1,t._a2x_sounds instanceof Object||(t._a2x_sounds={}),t._a2x_sounds[l]=P);else{var w=l+1;5==S?P._loop=P._repeate=s.s[0][w]:(_(P,s.f[0].c[w]),void 0!=s.f[0].c[w].ma?(L=P,A=s.f[0].c[w].ma-1):L instanceof Object&&l<=A&&(P.mask=L,l==A&&(L=null)),t.addChildAt(P,0))}}if(u){var C=s.ol;if(C instanceof Object)for(var R=0;R<C.length;R++)t._a2x_res_children[R]=[C[R],M[C[R]-1]]}}}var x=e.URLLoader,w=e.Event,E=e.ColorFilter,T=e.Shape,M=e.BlurFilter,O=e.ShadowFilter,P=e.ColorMatrixFilter;e._isReleased=!1,e.suffixName=".swf",e._shareSceneList=[],e.res={};var S,L,A,C,R,F,D,k,j,I,B,U,N,X,Y=(new Date).getTime();e.loadScene=function(a,r,u,c){if(void 0===c&&(c=""),S&&(j.loadCancel(),I.loadCancel()),L=[],A=c,"string"==typeof a)if(l(a)){var d={};d.sceneName=a,d.sceneId=1,d.sceneTotal=1,u(d)}else e.res[a]={},L.push(a);else for(var h=a.length,_=0,p=0;p<h;p++)if(l(a[p])){var d={};d.sceneName=a[p],d.sceneId=++_,d.sceneTotal=h,u(d)}else e.res[a[p]]={},L.push(a[p]);if(0!=L.length)if(B||(j=new x,j.addEventListener(w.COMPLETE,n),I=new x,I.addEventListener(w.COMPLETE,o),I.addEventListener(w.PROGRESS,i),B=!0),H=0,N=0,C=0,R=0,F=0,S=!0,D=u,k=r,U=[],e._isReleased){R=L.length,X=1/R;for(var p=0;p<R;p++)U.push([{src:"src/"+L[p]+"/"+L[p]+e.suffixName}]);s()}else t()};var H=0,q=function(e){void 0!=e&&(URL.revokeObjectURL(e.target.url),e.target instanceof Image?e.target.onload=null:e.target.mediaResourceOnload=null),0==--H&&r()};e.isLoadedScene=l,e.unLoadScene=u,e.getResource=c,e.getDisplay=d,e.d=_;var W=["single","multiline"],G=["left","center","right"];e.ajax=m,e.jsonp=g,e.getQueryString=y,e.initRes=b,console.log("https://github.com/flash2x/AnnieJS")}(annie||(annie={}));var annie;!function(e){var t=function(t){function i(){t.call(this),this.pause=!1,this.currentFrame=0,this.totalFrames=0,this._isLoop=0,this._delay=0,this._isFront=!0,this._cParams=null,this._loop=!1}return __extends(i,t),i.prototype.init=function(t,n,i,a,o){if(void 0===a&&(a=!0),void 0===o&&(o=!0),n<=0||"number"!=typeof n)throw new Error("annie.Tween.to()或者annie.Tween.from()方法的第二个参数一定要是大于0的数字");var r=this;r.currentFrame=1;var s=n*e.Stage._FPS>>0;r.totalFrames=s>0?s:1,r.target=t,r._isTo=a,r._isLoop=0,r._startData={},r._disData={},r._delay=0,r._isFront=!0,r._ease=null,r._update=null,r._cParams=null,r._loop=!1,r._completeFun=null;for(var l in i)switch(l){case"useFrame":1==i[l]&&(r.totalFrames=n);break;case"yoyo":"number"==typeof i[l]?r._isLoop=i[l]:0==i[l]?r._isLoop=0:1==i[l]&&(r._isLoop=Number.MAX_VALUE);break;case"delay":i.useFrame?r._delay=i[l]:r._delay=i[l]*e.Stage._FPS>>0;break;case"ease":r._ease=i[l];break;case"onUpdate":r._update=i[l];break;case"onComplete":r._completeFun=i[l];break;case"completeParams":r._cParams=i[l];break;case"loop":r._loop=i[l];break;default:
"number"==typeof i[l]&&(a?(r._startData[l]=t[l],r._disData[l]=i[l]-t[l]):(r._startData[l]=i[l],r._disData[l]=t[l]-i[l],t[l]=i[l]))}},i.prototype.update=function(){var e=this;if(!e.pause){if(e._isFront&&e._delay>0)return void e._delay--;var t=e.currentFrame/e.totalFrames;if(!(t<0||t>1)){e._ease&&(t=e._ease(t));var i=!1;for(var a in e._disData)i=!0,e.target[a]=e._startData[a]+e._disData[a]*t;if(!i)return void n.kill(e.instanceId);e._update&&e._update(t);var o=e._completeFun,r=e._cParams;e._isFront?++e.currentFrame>e.totalFrames&&(e._loop?e.currentFrame=1:(o&&o(r,0==e._isLoop),e._isLoop>0?(e._isFront=!1,e.currentFrame=e.totalFrames,e._isLoop--):n.kill(e.instanceId))):--e.currentFrame<0&&(o&&o(r,0==e._isLoop),e._isLoop>0?(e._isFront=!0,e.currentFrame=1):n.kill(e.instanceId))}}},i.prototype.destroy=function(){var e=this;e._update=null,e._completeFun=null,e._ease=null},i}(e.AObject);e.TweenObj=t;var n=function(){function n(){}return n.to=function(e,t,i){return n.createTween(e,t,i,!0)},n.from=function(e,t,i){return n.createTween(e,t,i,!1)},n.createTween=function(i,a,o,r,s){void 0===s&&(s=!0);for(var l,u=n._tweenList.length,c=0;c<u;c++)if(l=n._tweenList[c],i==l.target)for(var d in l._startData)void 0!=o[d]&&(delete l._startData[d],delete l._disData[d]);return u=n._tweenPool.length,u>0?(l=n._tweenPool.shift(),l._instanceId=e.AObject._object_id++):l=new t,n._tweenList.push(l),l.init(i,a,o,r,s),l.instanceId},n.killAll=function(){for(var e,t=n._tweenList.length,i=0;i<t;i++)e=n._tweenList[i],e.target=null,e._completeFun=null,e._cParams=null,e._update=null,e._ease=null,e._loop=!1,n._tweenPool.push(e);n._tweenList.length=0},n.kill=function(e){for(var t,i=n._tweenList.length,a=0;a<i;a++)if(t=n._tweenList[a],t.instanceId==e){t.target=null,t._completeFun=null,t._cParams=null,t._update=null,t._ease=null,t._loop=null,n._tweenPool.push(t),n._tweenList.splice(a,1);break}},n.quadraticIn=function(e){return e*e},n.quadraticOut=function(e){return e*(2-e)},n.quadraticInOut=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},n.cubicIn=function(e){return e*e*e},n.cubicOut=function(e){return--e*e*e+1},n.cubicInOut=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},n.quarticIn=function(e){return e*e*e*e},n.quarticOut=function(e){return 1- --e*e*e*e},n.quarticInOut=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},n.quinticIn=function(e){return e*e*e*e*e},n.quinticOut=function(e){return--e*e*e*e*e+1},n.quinticInOut=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},n.sinusoidalIn=function(e){return 1-Math.cos(e*Math.PI/2)},n.sinusoidalOut=function(e){return Math.sin(e*Math.PI/2)},n.sinusoidalInOut=function(e){return.5*(1-Math.cos(Math.PI*e))},n.exponentialIn=function(e){return 0==e?0:Math.pow(1024,e-1)},n.exponentialOut=function(e){return 1==e?1:1-Math.pow(2,-10*e)},n.exponentialInOut=function(e){return 0==e?0:1==e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},n.circularIn=function(e){return 1-Math.sqrt(1-e*e)},n.circularOut=function(e){return Math.sqrt(1- --e*e)},n.circularInOut=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},n.elasticIn=function(e){return 0==e?0:1==e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},n.elasticOut=function(e){return 0==e?0:1==e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},n.elasticInOut=function(e){return 0==e?0:1==e?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1)},n.backIn=function(e){var t=1.70158;return e*e*((t+1)*e-t)},n.backOut=function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},n.backInOut=function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},n.bounceIn=function(e){return 1-n.bounceOut(1-e)},n.bounceOut=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},n.bounceInOut=function(e){return e<.5?.5*n.bounceIn(2*e):.5*n.bounceOut(2*e-1)+.5},n.flush=function(){for(var e=n._tweenList.length,t=e-1;t>=0;t--)n._tweenList[t]?n._tweenList[t].update():n._tweenList.splice(t,1)},n._tweenPool=[],n._tweenList=[],n}();e.Tween=n}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(i,a){void 0===a&&(a=0),t.call(this),this._currentCount=0,this._delay=0,this._frameDelay=0,this._currentFrameDelay=0,this._repeatCount=0,this._running=!1,i<=0&&(i=1);var o=this;o._delay=i,o._frameDelay=Math.ceil(.001*i*e.Stage._FPS),o._repeatCount=a,n._timerList.push(o)}return __extends(n,t),n.prototype.reset=function(){var e=this;e._running=!1,e._currentCount=0,e._currentFrameDelay=0},n.prototype.start=function(){var e=this;e._running=!0,e._currentCount==e._repeatCount&&(e._currentCount=0)},n.prototype.stop=function(){this._running=!1},Object.defineProperty(n.prototype,"currentCount",{get:function(){return this._currentCount},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"delay",{get:function(){return this._delay},set:function(t){this._delay=t,this._frameDelay=Math.ceil(.001*t*e.Stage._FPS)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"repeatCount",{get:function(){return this._repeatCount},set:function(e){e<0&&(e=0),this._repeatCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"running",{get:function(){return this._running},enumerable:!0,configurable:!0}),n.prototype.kill=function(){for(var e=n._timerList.length,t=this,i=0;i<e;i++)if(n._timerList[i]._instanceId==t._instanceId){n._timerList.splice(i,1);break}},n.prototype.update=function(){var e=this;e._running&&++e._currentFrameDelay==e._frameDelay&&(e._repeatCount&&e._currentCount++,e._currentFrameDelay=0,e.dispatchEvent("onTimer"),e._repeatCount&&e._currentCount==e._repeatCount&&(e._running=!1,e.dispatchEvent("onTimerComplete")))},n.flush=function(){for(var e=n._timerList.length,t=e-1;t>=0;t--)n._timerList[t]?n._timerList[t].update():n._timerList.splice(t,1)},n.prototype.destroy=function(){this.kill(),t.prototype.destroy.call(this)},n._timerList=[],n}(e.EventDispatcher);e.Timer=t}(annie||(annie={}));var annie;!function(e){function t(e){window.location.href=e}function n(e){var t=new XMLHttpRequest;t.open("get",e,!0),t.send()}e.Eval=eval.bind(window),e.debug=!1,e.isCutDraw=!1,e.version="annie_js_3.2.7",e.osType=function(){var e=navigator.userAgent.toLocaleLowerCase(),t=/android|mobile/;return/iphone|ipad|ipod|ios/.test(e)?"ios":t.test(e)?"android":"pc"}(),e.globalDispatcher=new e.EventDispatcher,e.devicePixelRatio=window.devicePixelRatio?window.devicePixelRatio:1,e.StageScaleMode={EXACT_FIT:"exactFit",NO_BORDER:"noBorder",NO_SCALE:"noScale",SHOW_ALL:"showAll",FIXED_WIDTH:"fixedWidth",FIXED_HEIGHT:"fixedHeight"},e.navigateToURL=t,e.sendToURL=n,e._dRender=null,e.toDisplayDataURL=function(t,n,i,a){void 0===n&&(n=null),void 0===i&&(i=null),void 0===a&&(a=""),e._dRender||(e._dRender=new e.OffCanvasRender),t.getBounds(),t._onUpdateFrame(0),t._onUpdateMatrixAndAlpha(),t._onUpdateTexture();var o=t._offsetX,r=t._offsetY;n||(n=t.getBounds()),t._offsetX=n.x,t._offsetY=n.y;var s=document.createElement("canvas");e._dRender.init(s);var l=Math.ceil(n.width),u=Math.ceil(n.height);return e._dRender.reSize(l,u),e._dRender.begin(a),e._dRender.render(t),t._offsetX=o,t._offsetY=r,i?"jpeg"==i.type&&(i.quality?i.quality/=100:i.quality=.8):i={type:"png"},s.toDataURL("image/"+i.type,i.quality)},e.createCache=function(t){e._dRender||(e._dRender=new e.OffCanvasRender);var n=t.getBounds();t._offsetX=n.x,t._offsetY=n.y,t._texture||(t._texture=document.createElement("canvas")),e._dRender.init(t._texture);var i=Math.ceil(n.width),a=Math.ceil(n.height);e._dRender.reSize(i,a),e._dRender.begin(""),e._dRender.render(t)},e.getStagePixels=function(t,n){var i=t.localToGlobal(new e.Point(n.x,n.y));return t.renderObj.canvas.getContext("2d").getImageData(i.x,i.y,n.width,n.height)}}(annie||(annie={})),annie.Stage.addUpdateObj(annie.Tween),annie.Stage.addUpdateObj(annie.Timer);
window.AnnieRoot= window;
window.A2xExtend=__extends;
annie.A2xExtend=__extends;
window.trace=console.log;